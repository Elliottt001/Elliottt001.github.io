<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Zhang rz的个人网站"><meta name=author content=张瑞喆><link href=https://r-z-zhang-AI.github.io/CS/pl/Python/py-oop/ rel=canonical><link href=../py-sequence/ rel=prev><link href=../development-in-py/ rel=next><link rel=alternate type=application/rss+xml title="RSS feed" href=../../../../feed_rss_created.xml><link rel=alternate type=application/rss+xml title="RSS feed of updated content" href=../../../../feed_rss_updated.xml><link rel=icon href=../../../../images/favicon_circle.png><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.6.4"><title>面向对象 - CosHub</title><link rel=stylesheet href=../../../../assets/stylesheets/main.8608ea7d.min.css><link rel=stylesheet href=../../../../assets/stylesheets/palette.06af60db.min.css><style>:root{--md-admonition-icon--note:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M64 32C28.7 32 0 60.7 0 96v320c0 35.3 28.7 64 64 64h224V368c0-26.5 21.5-48 48-48h112V96c0-35.3-28.7-64-64-64zm384 320H336c-8.8 0-16 7.2-16 16v112l32-32 64-64z"/></svg>');--md-admonition-icon--abstract:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M96 0C43 0 0 43 0 96v320c0 53 43 96 96 96h320c17.7 0 32-14.3 32-32s-14.3-32-32-32v-64c17.7 0 32-14.3 32-32V32c0-17.7-14.3-32-32-32H96m0 384h256v64H96c-17.7 0-32-14.3-32-32s14.3-32 32-32m32-240c0-8.8 7.2-16 16-16h192c8.8 0 16 7.2 16 16s-7.2 16-16 16H144c-8.8 0-16-7.2-16-16m16 48h192c8.8 0 16 7.2 16 16s-7.2 16-16 16H144c-8.8 0-16-7.2-16-16s7.2-16 16-16"/></svg>');--md-admonition-icon--info:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M256 512a256 256 0 1 0 0-512 256 256 0 1 0 0 512m-40-176h24v-64h-24c-13.3 0-24-10.7-24-24s10.7-24 24-24h48c13.3 0 24 10.7 24 24v88h8c13.3 0 24 10.7 24 24s-10.7 24-24 24h-80c-13.3 0-24-10.7-24-24s10.7-24 24-24m40-208a32 32 0 1 1 0 64 32 32 0 1 1 0-64"/></svg>');--md-admonition-icon--tip:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M480 32c0-12.9-7.8-24.6-19.8-29.6S434.5.2 425.3 9.3L381.7 53c-48 48-113.1 75-181 75H64c-35.3 0-64 28.7-64 64v96c0 35.3 28.7 64 64 64v128c0 17.7 14.3 32 32 32h64c17.7 0 32-14.3 32-32V352h8.7c67.9 0 133 27 181 75l43.6 43.6c9.2 9.2 22.9 11.9 34.9 6.9s19.8-16.6 19.8-29.6V300.3c18.6-8.8 32-32.5 32-60.4s-13.4-51.6-32-60.4zm-64 76.7v262.6C357.2 317.8 280.5 288 200.7 288H192v-96h8.7c79.8 0 156.5-29.8 215.3-83.3"/></svg>');--md-admonition-icon--success:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7l233.4-233.3c12.5-12.5 32.8-12.5 45.3 0z"/></svg>');--md-admonition-icon--question:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M256 512a256 256 0 1 0 0-512 256 256 0 1 0 0 512m-86.2-346.7c7.9-22.3 29.1-37.3 52.8-37.3h58.3c34.9 0 63.1 28.3 63.1 63.1 0 22.6-12.1 43.5-31.7 54.8L280 264.4c-.2 13-10.9 23.6-24 23.6-13.3 0-24-10.7-24-24v-13.5c0-8.6 4.6-16.5 12.1-20.8l44.3-25.4c4.7-2.7 7.6-7.7 7.6-13.1 0-8.4-6.8-15.1-15.1-15.1h-58.3c-3.4 0-6.4 2.1-7.5 5.3l-.4 1.2c-4.4 12.5-18.2 19-30.6 14.6s-19-18.2-14.6-30.6l.4-1.2zM224 352a32 32 0 1 1 64 0 32 32 0 1 1-64 0"/></svg>');--md-admonition-icon--warning:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M256 32c14.2 0 27.3 7.5 34.5 19.8l216 368c7.3 12.4 7.3 27.7.2 40.1S486.3 480 472 480H40c-14.3 0-27.6-7.7-34.7-20.1s-7-27.8.2-40.1l216-368C228.7 39.5 241.8 32 256 32m0 128c-13.3 0-24 10.7-24 24v112c0 13.3 10.7 24 24 24s24-10.7 24-24V184c0-13.3-10.7-24-24-24m32 224a32 32 0 1 0-64 0 32 32 0 1 0 64 0"/></svg>');--md-admonition-icon--failure:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M459.1 52.4 442.6 6.5c-1.9-3.9-6.1-6.5-10.5-6.5s-8.5 2.6-10.4 6.5l-16.5 45.9-46 16.8c-4.3 1.6-7.3 5.9-7.2 10.4 0 4.5 3 8.7 7.2 10.2l45.7 16.8 16.8 45.8c1.5 4.4 5.8 7.5 10.4 7.5s8.9-3.1 10.4-7.5l16.5-45.8 45.7-16.8c4.2-1.5 7.2-5.7 7.2-10.2 0-4.6-3-8.9-7.2-10.4zm-132.4 53c-12.5-12.5-32.8-12.5-45.3 0l-2.9 2.9c-22-8-45.8-12.3-70.5-12.3C93.1 96 0 189.1 0 304s93.1 208 208 208 208-93.1 208-208c0-24.7-4.3-48.5-12.2-70.5l2.9-2.9c12.5-12.5 12.5-32.8 0-45.3l-80-80zM200 192c-57.4 0-104 46.6-104 104v8c0 8.8-7.2 16-16 16s-16-7.2-16-16v-8c0-75.1 60.9-136 136-136h8c8.8 0 16 7.2 16 16s-7.2 16-16 16z"/></svg>');--md-admonition-icon--danger:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M416 398.9c58.5-41.1 96-104.1 96-174.9C512 100.3 397.4 0 256 0S0 100.3 0 224c0 70.7 37.5 133.8 96 174.9V464c0 26.5 21.5 48 48 48h48v-48c0-8.8 7.2-16 16-16s16 7.2 16 16v48h64v-48c0-8.8 7.2-16 16-16s16 7.2 16 16v48h48c26.5 0 48-21.5 48-48v-65.1M96 256a64 64 0 1 1 128 0 64 64 0 1 1-128 0m256-64a64 64 0 1 1 0 128 64 64 0 1 1 0-128"/></svg>');--md-admonition-icon--bug:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M320 0c17.7 0 32 14.3 32 32v64h120c39.8 0 72 32.2 72 72v272c0 39.8-32.2 72-72 72H168c-39.8 0-72-32.2-72-72V168c0-39.8 32.2-72 72-72h120V32c0-17.7 14.3-32 32-32M208 384c-8.8 0-16 7.2-16 16s7.2 16 16 16h32c8.8 0 16-7.2 16-16s-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16s7.2 16 16 16h32c8.8 0 16-7.2 16-16s-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16s7.2 16 16 16h32c8.8 0 16-7.2 16-16s-7.2-16-16-16zM264 256a40 40 0 1 0-80 0 40 40 0 1 0 80 0m152 40a40 40 0 1 0 0-80 40 40 0 1 0 0 80M48 224h16v192H48c-26.5 0-48-21.5-48-48v-96c0-26.5 21.5-48 48-48m544 0c26.5 0 48 21.5 48 48v96c0 26.5-21.5 48-48 48h-16V224z"/></svg>');--md-admonition-icon--example:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M288 0H128c-17.7 0-32 14.3-32 32s14.3 32 32 32v132.8c0 11.8-3.3 23.5-9.5 33.5L10.3 406.2C3.6 417.2 0 429.7 0 442.6 0 480.9 31.1 512 69.4 512h309.2c38.3 0 69.4-31.1 69.4-69.4 0-12.8-3.6-25.4-10.3-36.4L329.5 230.4c-6.2-10.1-9.5-21.7-9.5-33.5V64c17.7 0 32-14.3 32-32S337.7 0 320 0zm-96 196.8V64h64v132.8c0 23.7 6.6 46.9 19 67.1l34.5 56.1h-171l34.5-56.1c12.4-20.2 19-43.4 19-67.1"/></svg>');--md-admonition-icon--quote:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M0 216C0 149.7 53.7 96 120 96h8c17.7 0 32 14.3 32 32s-14.3 32-32 32h-8c-30.9 0-56 25.1-56 56v8h64c35.3 0 64 28.7 64 64v64c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V216m256 0c0-66.3 53.7-120 120-120h8c17.7 0 32 14.3 32 32s-14.3 32-32 32h-8c-30.9 0-56 25.1-56 56v8h64c35.3 0 64 28.7 64 64v64c0 35.3-28.7 64-64 64h-64c-35.3 0-64-28.7-64-64V216"/></svg>');}</style><style>:root{--md-annotation-icon:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 22c.8 0 1.6-.1 2.3-.3-.4-.5-.8-1.1-1-1.8-.4.1-.9.1-1.3.1-4.4 0-8-3.6-8-8s3.6-8 8-8c.8 0 1.5.1 2.2.3l1.6-1.6C14.6 2.3 13.3 2 12 2 6.5 2 2 6.5 2 12s4.5 10 10 10M6.5 11.5l1.4-1.4 3.1 3.1 8.6-8.6L21 6 11 16zM19 14l-1.26 2.75L15 18l2.74 1.26L19 22l1.25-2.74L23 18l-2.75-1.25z"/></svg>');}</style><link rel=stylesheet href=../../../../css/timeline.css><link rel=stylesheet href=../../../../mkdocs/css/custom.css><link rel=stylesheet href=../../../../mkdocs/css/emoji.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/lxgw-wenkai-webfont@1.1.0/style.css><link rel=stylesheet href=../../../../pymdownx.inlinehilite><link rel=stylesheet href=../../../../pymdownx.snippets><link rel=stylesheet href=../../../../pymdownx.superfences><link rel=stylesheet href=../../../../admonition><link rel=stylesheet href=../../../../pymdownx.details><link rel=stylesheet href=../../../../footnotes><script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><link href=../../../../assets/stylesheets/glightbox.min.css rel=stylesheet><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style><script src=../../../../assets/javascripts/glightbox.min.js></script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#_1 class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../../.. title=CosHub class="md-header__button md-logo" aria-label=CosHub data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> CosHub </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> 面向对象 </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media=(prefers-color-scheme) data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=purple data-md-color-accent=indigo aria-label="Switch to dark mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=purple data-md-color-accent=indigo aria-label="Switch to system preference" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to system preference" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/r-z-zhang-AI/r-z-zhang-AI.github.io title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> r-z-zhang-AI.github.io </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../../.. class=md-tabs__link> 主页 </a> </li> <li class=md-tabs__item> <a href=../../../../ME/ class=md-tabs__link> 个人 </a> </li> <li class=md-tabs__item> <a href=../../../../KNOWLEDGE/ class=md-tabs__link> 知识 </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../../../ class=md-tabs__link> 开发 </a> </li> <li class=md-tabs__item> <a href=../../../../BOOK/ class=md-tabs__link> 阅读 </a> </li> <li class=md-tabs__item> <a href=../../../../PUBLIC/ class=md-tabs__link> 公众 </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../../.. title=CosHub class="md-nav__button md-logo" aria-label=CosHub data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg> </a> CosHub </label> <div class=md-nav__source> <a href=https://github.com/r-z-zhang-AI/r-z-zhang-AI.github.io title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> r-z-zhang-AI.github.io </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../.. class=md-nav__link> <span class=md-ellipsis> 主页 </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2> <div class="md-nav__link md-nav__container"> <a href=../../../../ME/ class="md-nav__link "> <span class=md-ellipsis> 个人 </span> </a> <label class="md-nav__link " for=__nav_2 id=__nav_2_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> 个人 </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_2> <label class=md-nav__link for=__nav_2_2 id=__nav_2_2_label tabindex=0> <span class=md-ellipsis> 思考 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2_2> <span class="md-nav__icon md-icon"></span> 思考 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../ME/THOUGHT/colledge-education-and-my-future/ class=md-nav__link> <span class=md-ellipsis> 大学教育与人生发展 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_3> <label class=md-nav__link for=__nav_2_3 id=__nav_2_3_label tabindex=0> <span class=md-ellipsis> SDFZ </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_3_label aria-expanded=false> <label class=md-nav__title for=__nav_2_3> <span class="md-nav__icon md-icon"></span> SDFZ </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../ME/SDFZ/391forever/ class=md-nav__link> <span class=md-ellipsis> 永远的391 </span> </a> </li> <li class=md-nav__item> <a href=../../../../ME/SDFZ/sdfz_memorior/ class=md-nav__link> <span class=md-ellipsis> 附中回忆录 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_4> <label class=md-nav__link for=__nav_2_4 id=__nav_2_4_label tabindex=0> <span class=md-ellipsis> ZJU </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_4_label aria-expanded=false> <label class=md-nav__title for=__nav_2_4> <span class="md-nav__icon md-icon"></span> ZJU </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_4_1> <label class=md-nav__link for=__nav_2_4_1 id=__nav_2_4_1_label tabindex=0> <span class=md-ellipsis> 面试经历 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_2_4_1_label aria-expanded=false> <label class=md-nav__title for=__nav_2_4_1> <span class="md-nav__icon md-icon"></span> 面试经历 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../ME/ZJU/interview/interview%20for%20SU/ class=md-nav__link> <span class=md-ellipsis> 学生会 </span> </a> </li> <li class=md-nav__item> <a href=../../../../ME/ZJU/interview/interview%20for%20major/ class=md-nav__link> <span class=md-ellipsis> 专业确认 </span> </a> </li> <li class=md-nav__item> <a href=../../../../ME/ZJU/interview/interview-for-qzwx/ class=md-nav__link> <span class=md-ellipsis> 启真问学 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_4_2> <label class=md-nav__link for=__nav_2_4_2 id=__nav_2_4_2_label tabindex=0> <span class=md-ellipsis> 计划 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_2_4_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2_4_2> <span class="md-nav__icon md-icon"></span> 计划 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../ME/ZJU/plan/plan-for-24winter-holiday/ class=md-nav__link> <span class=md-ellipsis> 24寒假 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_4_3> <label class=md-nav__link for=__nav_2_4_3 id=__nav_2_4_3_label tabindex=0> <span class=md-ellipsis> 学习 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_2_4_3_label aria-expanded=false> <label class=md-nav__title for=__nav_2_4_3> <span class="md-nav__icon md-icon"></span> 学习 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../ME/ZJU/learn/resoure/ class=md-nav__link> <span class=md-ellipsis> 资源 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_5> <label class=md-nav__link for=__nav_2_5 id=__nav_2_5_label tabindex=0> <span class=md-ellipsis> 随笔 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_5_label aria-expanded=false> <label class=md-nav__title for=__nav_2_5> <span class="md-nav__icon md-icon"></span> 随笔 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../ME/ESSAY/2024-11/ class=md-nav__link> <span class=md-ellipsis> 2024-11 </span> </a> </li> <li class=md-nav__item> <a href=../../../../ME/ESSAY/2024-12/ class=md-nav__link> <span class=md-ellipsis> 2024-12 </span> </a> </li> <li class=md-nav__item> <a href=../../../../ME/ESSAY/2025-01/ class=md-nav__link> <span class=md-ellipsis> 2025-01 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3> <div class="md-nav__link md-nav__container"> <a href=../../../../KNOWLEDGE/ class="md-nav__link "> <span class=md-ellipsis> 知识 </span> </a> <label class="md-nav__link " for=__nav_3 id=__nav_3_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> 知识 </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_2> <label class=md-nav__link for=__nav_3_2 id=__nav_3_2_label tabindex=0> <span class=md-ellipsis> 微积分 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_2_label aria-expanded=false> <label class=md-nav__title for=__nav_3_2> <span class="md-nav__icon md-icon"></span> 微积分 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../KNOWLEDGE/calculus/knowledge-frame-of-calculus/ class=md-nav__link> <span class=md-ellipsis> 知识体系 </span> </a> </li> <li class=md-nav__item> <a href=../../../../KNOWLEDGE/calculus/summary-of-calculus/ class=md-nav__link> <span class=md-ellipsis> 方法总结 </span> </a> </li> <li class=md-nav__item> <a href=../../../../KNOWLEDGE/calculus/thought-for-calculus/ class=md-nav__link> <span class=md-ellipsis> 思想方法 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_3> <label class=md-nav__link for=__nav_3_3 id=__nav_3_3_label tabindex=0> <span class=md-ellipsis> 线性代数 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3_3> <span class="md-nav__icon md-icon"></span> 线性代数 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../KNOWLEDGE/linear-algebra/knowledge-frame-of-LA/ class=md-nav__link> <span class=md-ellipsis> 知识体系 </span> </a> </li> <li class=md-nav__item> <a href=../../../../KNOWLEDGE/linear-algebra/summary-of-LA/ class=md-nav__link> <span class=md-ellipsis> 方法总结 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4 checked> <div class="md-nav__link md-nav__container"> <a href=../../../ class="md-nav__link "> <span class=md-ellipsis> 开发 </span> </a> <label class="md-nav__link " for=__nav_4 id=__nav_4_label tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=true> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> 开发 </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_2 checked> <label class=md-nav__link for=__nav_4_2 id=__nav_4_2_label tabindex=0> <span class=md-ellipsis> 编程语言 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_2_label aria-expanded=true> <label class=md-nav__title for=__nav_4_2> <span class="md-nav__icon md-icon"></span> 编程语言 </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_2_1> <label class=md-nav__link for=__nav_4_2_1 id=__nav_4_2_1_label tabindex=0> <span class=md-ellipsis> C/C++ </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_4_2_1_label aria-expanded=false> <label class=md-nav__title for=__nav_4_2_1> <span class="md-nav__icon md-icon"></span> C/C++ </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_2_1_1> <label class=md-nav__link for=__nav_4_2_1_1 id=__nav_4_2_1_1_label tabindex=0> <span class=md-ellipsis> C语言 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_4_2_1_1_label aria-expanded=false> <label class=md-nav__title for=__nav_4_2_1_1> <span class="md-nav__icon md-icon"></span> C语言 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../C_Cpp/C/c-note/ class=md-nav__link> <span class=md-ellipsis> 学习笔记 </span> </a> </li> <li class=md-nav__item> <a href=../../C_Cpp/C/c-errors-and-tips/ class=md-nav__link> <span class=md-ellipsis> 错题整理 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_2_1_2> <label class=md-nav__link for=__nav_4_2_1_2 id=__nav_4_2_1_2_label tabindex=0> <span class=md-ellipsis> C++ </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_4_2_1_2_label aria-expanded=false> <label class=md-nav__title for=__nav_4_2_1_2> <span class="md-nav__icon md-icon"></span> C++ </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../none.md class=md-nav__link> <span class=md-ellipsis> 学习笔记 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_2_2 checked> <label class=md-nav__link for=__nav_4_2_2 id=__nav_4_2_2_label tabindex=0> <span class=md-ellipsis> Python </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_4_2_2_label aria-expanded=true> <label class=md-nav__title for=__nav_4_2_2> <span class="md-nav__icon md-icon"></span> Python </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../py-basic-grammar/ class=md-nav__link> <span class=md-ellipsis> 基础语法 </span> </a> </li> <li class=md-nav__item> <a href=../py-sequence/ class=md-nav__link> <span class=md-ellipsis> 数据容器 </span> </a> </li> <li class=md-nav__item> <a href=../file.md class=md-nav__link> <span class=md-ellipsis> 文件和异常 </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> 面向对象 </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> 面向对象 </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#_1 class=md-nav__link> <span class=md-ellipsis> 面向对象编程 </span> </a> <nav class=md-nav aria-label=面向对象编程> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_2 class=md-nav__link> <span class=md-ellipsis> 类和对象 </span> </a> </li> <li class=md-nav__item> <a href=#_3 class=md-nav__link> <span class=md-ellipsis> 定义类 </span> </a> </li> <li class=md-nav__item> <a href=#_4 class=md-nav__link> <span class=md-ellipsis> 创建和使用对象 </span> </a> </li> <li class=md-nav__item> <a href=#_5 class=md-nav__link> <span class=md-ellipsis> 初始化方法 </span> </a> </li> <li class=md-nav__item> <a href=#_6 class=md-nav__link> <span class=md-ellipsis> 属性和方法 </span> </a> </li> <li class=md-nav__item> <a href=#_7 class=md-nav__link> <span class=md-ellipsis> 打印对象 </span> </a> </li> <li class=md-nav__item> <a href=#_8 class=md-nav__link> <span class=md-ellipsis> 访问可见性问题 </span> </a> </li> <li class=md-nav__item> <a href=#_9 class=md-nav__link> <span class=md-ellipsis> 封装 </span> </a> </li> <li class=md-nav__item> <a href=#property class=md-nav__link> <span class=md-ellipsis> @property装饰器 </span> </a> </li> <li class=md-nav__item> <a href=#__slots__ class=md-nav__link> <span class=md-ellipsis> __slots__魔法 </span> </a> </li> <li class=md-nav__item> <a href=#_10 class=md-nav__link> <span class=md-ellipsis> 静态方法和类方法 </span> </a> </li> <li class=md-nav__item> <a href=#_11 class=md-nav__link> <span class=md-ellipsis> 类之间的关系 </span> </a> </li> <li class=md-nav__item> <a href=#_12 class=md-nav__link> <span class=md-ellipsis> 继承和多态 </span> </a> </li> <li class=md-nav__item> <a href=#_13 class=md-nav__link> <span class=md-ellipsis> 示例 </span> </a> </li> <li class=md-nav__item> <a href=#_14 class=md-nav__link> <span class=md-ellipsis> 简单的总结 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../development-in-py/ class=md-nav__link> <span class=md-ellipsis> 项目开发 </span> </a> </li> <li class=md-nav__item> <a href=../clock-in/ class=md-nav__link> <span class=md-ellipsis> 百日打卡 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_3> <label class=md-nav__link for=__nav_4_3 id=__nav_4_3_label tabindex=0> <span class=md-ellipsis> 算法相关 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_3_label aria-expanded=false> <label class=md-nav__title for=__nav_4_3> <span class="md-nav__icon md-icon"></span> 算法相关 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Algorithm/misc/ class=md-nav__link> <span class=md-ellipsis> Misc </span> </a> </li> <li class=md-nav__item> <a href=../../../Algorithm/sort/ class=md-nav__link> <span class=md-ellipsis> Sort </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_4> <label class=md-nav__link for=__nav_4_4 id=__nav_4_4_label tabindex=0> <span class=md-ellipsis> 网络安全 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4_4> <span class="md-nav__icon md-icon"></span> 网络安全 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../IS/basic/ class=md-nav__link> <span class=md-ellipsis> 基础 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_5> <label class=md-nav__link for=__nav_4_5 id=__nav_4_5_label tabindex=0> <span class=md-ellipsis> 实用工具 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_5_label aria-expanded=false> <label class=md-nav__title for=__nav_4_5> <span class="md-nav__icon md-icon"></span> 实用工具 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Tools/shell/ class=md-nav__link> <span class=md-ellipsis> shell </span> </a> </li> <li class=md-nav__item> <a href=../../../Tools/CSS/ class=md-nav__link> <span class=md-ellipsis> CSS </span> </a> </li> <li class=md-nav__item> <a href=../../../Tools/HTML/ class=md-nav__link> <span class=md-ellipsis> HTML </span> </a> </li> <li class=md-nav__item> <a href=../../../Tools/Git%20%26%20GitHub/ class=md-nav__link> <span class=md-ellipsis> Git&GitHub </span> </a> </li> <li class=md-nav__item> <a href=../../../Tools/Markdown%28obsidian%29/ class=md-nav__link> <span class=md-ellipsis> Markdown </span> </a> </li> <li class=md-nav__item> <a href=../../../Tools/LaTeX/ class=md-nav__link> <span class=md-ellipsis> LaTeX </span> </a> </li> <li class=md-nav__item> <a href=../../../Tools/Linux/ class=md-nav__link> <span class=md-ellipsis> Linux </span> </a> </li> <li class=md-nav__item> <a href=../../../Tools/vim/ class=md-nav__link> <span class=md-ellipsis> vim </span> </a> </li> <li class=md-nav__item> <a href=../../../Tools/GDB/ class=md-nav__link> <span class=md-ellipsis> GDB </span> </a> </li> <li class=md-nav__item> <a href=../../../Tools/Obsidian/ class=md-nav__link> <span class=md-ellipsis> Obsidian </span> </a> </li> <li class=md-nav__item> <a href=../../../Tools/mkdocs/ class=md-nav__link> <span class=md-ellipsis> Mkdocs </span> </a> </li> <li class=md-nav__item> <a href=../../../Tools/makefile/ class=md-nav__link> <span class=md-ellipsis> Makefile </span> </a> </li> <li class=md-nav__item> <a href=../../../Tools/anaconda/ class=md-nav__link> <span class=md-ellipsis> Anaconda </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_6> <label class=md-nav__link for=__nav_4_6 id=__nav_4_6_label tabindex=0> <span class=md-ellipsis> 人工智能 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_6_label aria-expanded=false> <label class=md-nav__title for=__nav_4_6> <span class="md-nav__icon md-icon"></span> 人工智能 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../AI/AI/ class=md-nav__link> <span class=md-ellipsis> AI </span> </a> </li> <li class=md-nav__item> <a href=../../../AI/ANN/ class=md-nav__link> <span class=md-ellipsis> ANN </span> </a> </li> <li class=md-nav__item> <a href=../../../AI/DL/ class=md-nav__link> <span class=md-ellipsis> DL </span> </a> </li> <li class=md-nav__item> <a href=../../../AI/ML/ class=md-nav__link> <span class=md-ellipsis> ML </span> </a> </li> <li class=md-nav__item> <a href=../../../AI/Turing/ class=md-nav__link> <span class=md-ellipsis> Turing </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_7> <label class=md-nav__link for=__nav_4_7 id=__nav_4_7_label tabindex=0> <span class=md-ellipsis> 杂七杂八 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_7_label aria-expanded=false> <label class=md-nav__title for=__nav_4_7> <span class="md-nav__icon md-icon"></span> 杂七杂八 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Misc/things-i-wanna-know/ class=md-nav__link> <span class=md-ellipsis> 想了解的东西 </span> </a> </li> <li class=md-nav__item> <a href=../../../Misc/regex/ class=md-nav__link> <span class=md-ellipsis> 正则表达式 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_8> <label class=md-nav__link for=__nav_4_8 id=__nav_4_8_label tabindex=0> <span class=md-ellipsis> 关于Linux </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_8_label aria-expanded=false> <label class=md-nav__title for=__nav_4_8> <span class="md-nav__icon md-icon"></span> 关于Linux </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../linux/linux-note/ class=md-nav__link> <span class=md-ellipsis> Linux备忘录 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_9> <label class=md-nav__link for=__nav_4_9 id=__nav_4_9_label tabindex=0> <span class=md-ellipsis> 关于Windows </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_9_label aria-expanded=false> <label class=md-nav__title for=__nav_4_9> <span class="md-nav__icon md-icon"></span> 关于Windows </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../windows/win-note/ class=md-nav__link> <span class=md-ellipsis> Windows备忘录 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5> <div class="md-nav__link md-nav__container"> <a href=../../../../BOOK/ class="md-nav__link "> <span class=md-ellipsis> 阅读 </span> </a> <label class="md-nav__link " for=__nav_5 id=__nav_5_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=false> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> 阅读 </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_2> <label class=md-nav__link for=__nav_5_2 id=__nav_5_2_label tabindex=0> <span class=md-ellipsis> 文学名著 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_2_label aria-expanded=false> <label class=md-nav__title for=__nav_5_2> <span class="md-nav__icon md-icon"></span> 文学名著 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../BOOK/fictions/%E5%B1%B1%E8%8C%B6%E6%96%87%E5%85%B7%E5%BA%97/ class=md-nav__link> <span class=md-ellipsis> 山茶文具店 </span> </a> </li> <li class=md-nav__item> <a href=../../../../BOOK/fictions/twilight/ class=md-nav__link> <span class=md-ellipsis> 暮光之城 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_3> <label class=md-nav__link for=__nav_5_3 id=__nav_5_3_label tabindex=0> <span class=md-ellipsis> 专业书籍 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_3_label aria-expanded=false> <label class=md-nav__title for=__nav_5_3> <span class="md-nav__icon md-icon"></span> 专业书籍 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../1.md class=md-nav__link> <span class=md-ellipsis> None </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6> <div class="md-nav__link md-nav__container"> <a href=../../../../PUBLIC/ class="md-nav__link "> <span class=md-ellipsis> 公众 </span> </a> <label class="md-nav__link " for=__nav_6 id=__nav_6_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_6_label aria-expanded=false> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> 公众 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../PUBLIC/xiumi/ class=md-nav__link> <span class=md-ellipsis> 秀米 </span> </a> </li> <li class=md-nav__item> <a href=../../../../PUBLIC/nezha/ class=md-nav__link> <span class=md-ellipsis> 哪吒 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#_1 class=md-nav__link> <span class=md-ellipsis> 面向对象编程 </span> </a> <nav class=md-nav aria-label=面向对象编程> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_2 class=md-nav__link> <span class=md-ellipsis> 类和对象 </span> </a> </li> <li class=md-nav__item> <a href=#_3 class=md-nav__link> <span class=md-ellipsis> 定义类 </span> </a> </li> <li class=md-nav__item> <a href=#_4 class=md-nav__link> <span class=md-ellipsis> 创建和使用对象 </span> </a> </li> <li class=md-nav__item> <a href=#_5 class=md-nav__link> <span class=md-ellipsis> 初始化方法 </span> </a> </li> <li class=md-nav__item> <a href=#_6 class=md-nav__link> <span class=md-ellipsis> 属性和方法 </span> </a> </li> <li class=md-nav__item> <a href=#_7 class=md-nav__link> <span class=md-ellipsis> 打印对象 </span> </a> </li> <li class=md-nav__item> <a href=#_8 class=md-nav__link> <span class=md-ellipsis> 访问可见性问题 </span> </a> </li> <li class=md-nav__item> <a href=#_9 class=md-nav__link> <span class=md-ellipsis> 封装 </span> </a> </li> <li class=md-nav__item> <a href=#property class=md-nav__link> <span class=md-ellipsis> @property装饰器 </span> </a> </li> <li class=md-nav__item> <a href=#__slots__ class=md-nav__link> <span class=md-ellipsis> __slots__魔法 </span> </a> </li> <li class=md-nav__item> <a href=#_10 class=md-nav__link> <span class=md-ellipsis> 静态方法和类方法 </span> </a> </li> <li class=md-nav__item> <a href=#_11 class=md-nav__link> <span class=md-ellipsis> 类之间的关系 </span> </a> </li> <li class=md-nav__item> <a href=#_12 class=md-nav__link> <span class=md-ellipsis> 继承和多态 </span> </a> </li> <li class=md-nav__item> <a href=#_13 class=md-nav__link> <span class=md-ellipsis> 示例 </span> </a> </li> <li class=md-nav__item> <a href=#_14 class=md-nav__link> <span class=md-ellipsis> 简单的总结 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.com/r-z-zhang-AI/r-z-zhang-AI.github.io/edit/main/docs/CS/pl/Python/py-oop.md title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75z"/></svg> </a> <h1>面向对象</h1> <h2 id=_1>面向对象编程<a class=headerlink href=#_1 title="Permanent link">&para;</a></h2> <blockquote> <p>&quot;把一组数据结构和处理它们的方法组成对象（object），把相同行为的对象归纳为类（class），通过类的封装（encapsulation）隐藏内部细节，通过继承（inheritance）实现类的特化（specialization）和泛化（generalization），通过多态（polymorphism）实现基于对象类型的动态分派。&quot;</p> </blockquote> <p>OOP三步走：第一步定义类，第二步创建对象，第三步给对象发消息。</p> <ul> <li>内置对象：只需要第三步</li> <li>一些变量类型如 dict、str、tuple、set、list：需要二三步</li> </ul> <h3 id=_2>类和对象<a class=headerlink href=#_2 title="Permanent link">&para;</a></h3> <p>类是对象的蓝图和模板，而对象是类的实例。类是抽象的概念，而对象是具体的东西。</p> <details class=info> <summary>对象是可以接受消息的</summary> <p>什么是消息？是指对象之间通信的方式。通常表现为方法调用。当你调用一个对象的方法时，实际上是在向这个对象发送一条消息，请求它执行某个操作。</p> <p>例如： <div class="language-python highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nb>print</span><span class=p>(</span><span class=n>my_dog</span><span class=o>.</span><span class=n>bark</span><span class=p>())</span>  <span class=c1># 输出: Buddy says Woof!</span>
</span></code></pre></div></p> <p>在这里，<code>bark()</code> 是一个方法调用，相当于向 <code>my_dog</code> 对象发送了一条消息：“请执行 <code>bark</code> 操作”。</p> <p>消息传递的特点</p> <ul> <li><strong>封装性</strong>：对象封装了数据和行为，外部只能通过消息（方法调用）与对象交互。</li> <li><strong>多态性</strong>：不同的对象可以对相同的消息做出不同的响应。例如，<code>Dog</code> 对象和 <code>Cat</code> 对象都可以响应 <code>speak</code> 消息，但它们的实现不同。</li> <li><strong>动态性</strong>：消息的接收和处理是动态的，可以在运行时决定。</li> </ul> <hr> <details class=info> <summary>多态性</summary> </details> <p>不同的对象可以对相同的消息做出不同的响应。</p> <div class="language-text highlight"><pre><span></span><code>```python
class Dog:
    def speak(self):
        return &quot;Woof!&quot;

class Cat:
    def speak(self):
        return &quot;Meow!&quot;

# 发送相同的消息给不同的对象
</code></pre></div> </details> <div style="margin-top: -30px; font-size: 0.75em; opacity: 0.7;"> <p><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10h-2a8 8 0 0 1-8 8 8 8 0 0 1-8-8 8 8 0 0 1 8-8zm6.78 1a.7.7 0 0 0-.48.2l-1.22 1.21 2.5 2.5L20.8 5.7c.26-.26.26-.7 0-.95L19.25 3.2c-.13-.13-.3-.2-.47-.2m-2.41 2.12L9 12.5V15h2.5l7.37-7.38z"/></svg></span> 约 7163 个字 <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 640 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6m80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3l89.3 89.4-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3"/></svg></span> 981 行代码 <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M21 17H7V3h14m0-2H7a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2M3 5H1v16a2 2 0 0 0 2 2h16v-2H3m12.96-10.71-2.75 3.54-1.96-2.36L8.5 15h11z"/></svg></span> 2 张图片 <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 20c4.42 0 8-3.58 8-8s-3.58-8-8-8-8 3.58-8 8 3.58 8 8 8m0-18c5.5 0 10 4.5 10 10s-4.5 10-10 10C6.47 22 2 17.5 2 12S6.5 2 12 2m.5 11H11V7h1.5v4.26l3.7-2.13.75 1.3z"/></svg></span> 预计阅读时间 36 分钟</p> </div> <div class="language-text highlight"><pre><span></span><code>    animals = [Dog(), Cat()]
    for animal in animals:
        print(animal.speak())
    ```

    输出：
    ```
    Woof!
    Meow!
    ```

??? info &quot;消息传递与函数调用的区别&quot;

    - **函数调用**：是面向过程编程的概念，直接调用函数来执行操作。
    - **消息传递**：是面向对象编程的概念，通过向对象发送消息来请求操作。

    例如：
    ```python
    # 面向过程
    def bark(dog_name):
        return f&quot;{dog_name} says Woof!&quot;

    print(bark(&quot;Buddy&quot;))  # 输出: Buddy says Woof!

    # 面向对象
    class Dog:
        def __init__(self, name):
            self.name = name

        def bark(self):
            return f&quot;{self.name} says Woof!&quot;

    my_dog = Dog(&quot;Buddy&quot;)
    print(my_dog.bark())  # 输出: Buddy says Woof!
    ```

    在面向对象编程中，`my_dog.bark()` 是向 `my_dog` 对象发送消息，而在面向过程编程中，`bark(&quot;Buddy&quot;)` 是直接调用函数。
</code></pre></div> <h3 id=_3>定义类<a class=headerlink href=#_3 title="Permanent link">&para;</a></h3> <p>在Python中，可以使用<code>class</code>关键字加上类名来定义类，通过缩进我们可以确定类的代码块，就如同定义函数那样。在类的代码块中，我们需要写一些函数，我们说过类是一个抽象概念，那么这些函数就是我们对一类对象共同的动态特征的提取。写在类里面的函数我们通常称之为<strong>方法</strong>，方法就是对象的行为，也就是对象可以接收的消息。方法的第一个参数通常都是<code>self</code>，它代表了接收这个消息的对象本身。</p> <div class="language-Python highlight"><pre><span></span><code><span id=__span-3-1><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a><span class=k>class</span><span class=w> </span><span class=nc>Student</span><span class=p>:</span>
</span><span id=__span-3-2><a id=__codelineno-3-2 name=__codelineno-3-2 href=#__codelineno-3-2></a>
</span><span id=__span-3-3><a id=__codelineno-3-3 name=__codelineno-3-3 href=#__codelineno-3-3></a>    <span class=k>def</span><span class=w> </span><span class=nf>study</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>course_name</span><span class=p>):</span>
</span><span id=__span-3-4><a id=__codelineno-3-4 name=__codelineno-3-4 href=#__codelineno-3-4></a>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;学生正在学习</span><span class=si>{</span><span class=n>course_name</span><span class=si>}</span><span class=s1>.&#39;</span><span class=p>)</span>
</span><span id=__span-3-5><a id=__codelineno-3-5 name=__codelineno-3-5 href=#__codelineno-3-5></a>
</span><span id=__span-3-6><a id=__codelineno-3-6 name=__codelineno-3-6 href=#__codelineno-3-6></a>    <span class=k>def</span><span class=w> </span><span class=nf>play</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-3-7><a id=__codelineno-3-7 name=__codelineno-3-7 href=#__codelineno-3-7></a>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;学生正在玩游戏.&#39;</span><span class=p>)</span>
</span></code></pre></div> <p>在面向对象编程的世界里，程序中的<strong>数据和操作数据的函数是一个逻辑上的整体</strong>，我们称之为<strong>对象</strong>，<strong>对象可以接收消息</strong>，解决问题的方法就是<strong>创建对象并向对象发出各种各样的消息</strong>；通过消息传递，程序中的多个对象可以协同工作，这样就能构造出复杂的系统并解决现实中的问题。当然，面向对象编程的雏形还可以向前追溯到更早期的Simula语言，但这不是我们现在要讨论的重点。</p> <h3 id=_4>创建和使用对象<a class=headerlink href=#_4 title="Permanent link">&para;</a></h3> <p>在我们定义好一个类之后，可以使用构造器语法来创建对象，代码如下所示。</p> <div class="language-Python highlight"><pre><span></span><code><span id=__span-4-1><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a><span class=n>stu1</span> <span class=o>=</span> <span class=n>Student</span><span class=p>()</span>
</span><span id=__span-4-2><a id=__codelineno-4-2 name=__codelineno-4-2 href=#__codelineno-4-2></a><span class=n>stu2</span> <span class=o>=</span> <span class=n>Student</span><span class=p>()</span>
</span><span id=__span-4-3><a id=__codelineno-4-3 name=__codelineno-4-3 href=#__codelineno-4-3></a><span class=nb>print</span><span class=p>(</span><span class=n>stu1</span><span class=p>)</span>    <span class=c1># &lt;__main__.Student object at 0x10ad5ac50&gt;</span>
</span><span id=__span-4-4><a id=__codelineno-4-4 name=__codelineno-4-4 href=#__codelineno-4-4></a><span class=nb>print</span><span class=p>(</span><span class=n>stu2</span><span class=p>)</span>    <span class=c1># &lt;__main__.Student object at 0x10ad5acd0&gt; </span>
</span><span id=__span-4-5><a id=__codelineno-4-5 name=__codelineno-4-5 href=#__codelineno-4-5></a><span class=nb>print</span><span class=p>(</span><span class=nb>hex</span><span class=p>(</span><span class=nb>id</span><span class=p>(</span><span class=n>stu1</span><span class=p>)),</span> <span class=nb>hex</span><span class=p>(</span><span class=nb>id</span><span class=p>(</span><span class=n>stu2</span><span class=p>)))</span>    <span class=c1># 0x10ad5ac50 0x10ad5acd0</span>
</span></code></pre></div> <p>在类的名字后跟上圆括号就是所谓的构造器语法，上面的代码创建了两个学生对象，一个赋值给变量<code>stu1</code>，一个复制给变量<code>stu2</code>。当我们用<code>print</code>函数打印<code>stu1</code>和<code>stu2</code>两个变量时，我们会看到输出了对象在内存中的地址（十六进制形式），跟我们用<code>id</code>函数查看对象标识获得的值是相同的。现在我们可以告诉大家，我们定义的变量其实保存的是一个对象在内存中的逻辑地址（位置），通过这个逻辑地址，我们就可以在内存中找到这个对象。所以<code>stu3 = stu2</code>这样的赋值语句并没有创建新的对象，只是用一个新的变量保存了已有对象的地址。</p> <p>接下来，我们尝试给对象发消息，即调用对象的方法。刚才的<code>Student</code>类中我们定义了<code>study</code>和<code>play</code>两个方法，两个方法的第一个参数<code>self</code>代表了接收消息的学生对象，<code>study</code>方法的第二个参数是学习的课程名称。Python中，给对象发消息有两种方式，请看下面的代码。</p> <div class="language-Python highlight"><pre><span></span><code><span id=__span-5-1><a id=__codelineno-5-1 name=__codelineno-5-1 href=#__codelineno-5-1></a><span class=c1># 通过“类.方法”调用方法，第一个参数是接收消息的对象，第二个参数是学习的课程名称</span>
</span><span id=__span-5-2><a id=__codelineno-5-2 name=__codelineno-5-2 href=#__codelineno-5-2></a><span class=n>Student</span><span class=o>.</span><span class=n>study</span><span class=p>(</span><span class=n>stu1</span><span class=p>,</span> <span class=s1>&#39;Python程序设计&#39;</span><span class=p>)</span>    <span class=c1># 学生正在学习Python程序设计.</span>
</span><span id=__span-5-3><a id=__codelineno-5-3 name=__codelineno-5-3 href=#__codelineno-5-3></a><span class=c1># 通过“对象.方法”调用方法，点前面的对象就是接收消息的对象，只需要传入第二个参数</span>
</span><span id=__span-5-4><a id=__codelineno-5-4 name=__codelineno-5-4 href=#__codelineno-5-4></a><span class=n>stu1</span><span class=o>.</span><span class=n>study</span><span class=p>(</span><span class=s1>&#39;Python程序设计&#39;</span><span class=p>)</span>             <span class=c1># 学生正在学习Python程序设计.</span>
</span><span id=__span-5-5><a id=__codelineno-5-5 name=__codelineno-5-5 href=#__codelineno-5-5></a>
</span><span id=__span-5-6><a id=__codelineno-5-6 name=__codelineno-5-6 href=#__codelineno-5-6></a><span class=n>Student</span><span class=o>.</span><span class=n>play</span><span class=p>(</span><span class=n>stu2</span><span class=p>)</span>    <span class=c1># 学生正在玩游戏.</span>
</span><span id=__span-5-7><a id=__codelineno-5-7 name=__codelineno-5-7 href=#__codelineno-5-7></a><span class=n>stu2</span><span class=o>.</span><span class=n>play</span><span class=p>()</span>           <span class=c1># 学生正在玩游戏. </span>
</span></code></pre></div> <h3 id=_5>初始化方法<a class=headerlink href=#_5 title="Permanent link">&para;</a></h3> <p>大家可能已经注意到了，刚才我们创建的学生对象只有行为没有属性，如果要给学生对象定义属性，我们可以修改<code>Student</code>类，为其添加一个名为<code>__init__</code>的方法。在我们调用<code>Student</code>类的构造器创建对象时，首先会在内存中获得保存学生对象所需的内存空间，然后通过自动执行<code>__init__</code>方法，完成对内存的初始化操作，也就是把数据放到内存空间中。所以我们可以通过给<code>Student</code>类添加<code>__init__</code>方法的方式为学生对象指定属性，同时完成对属性赋初始值的操作，正因如此，<code>__init__</code>方法通常也被称为初始化方法。</p> <p>我们对上面的<code>Student</code>类稍作修改，给学生对象添加<code>name</code>（姓名）和<code>age</code>（年龄）两个属性。</p> <div class="language-Python highlight"><pre><span></span><code><span id=__span-6-1><a id=__codelineno-6-1 name=__codelineno-6-1 href=#__codelineno-6-1></a><span class=k>class</span><span class=w> </span><span class=nc>Student</span><span class=p>:</span>
</span><span id=__span-6-2><a id=__codelineno-6-2 name=__codelineno-6-2 href=#__codelineno-6-2></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;学生&quot;&quot;&quot;</span>
</span><span id=__span-6-3><a id=__codelineno-6-3 name=__codelineno-6-3 href=#__codelineno-6-3></a>
</span><span id=__span-6-4><a id=__codelineno-6-4 name=__codelineno-6-4 href=#__codelineno-6-4></a>    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>age</span><span class=p>):</span>
</span><span id=__span-6-5><a id=__codelineno-6-5 name=__codelineno-6-5 href=#__codelineno-6-5></a><span class=w>        </span><span class=sd>&quot;&quot;&quot;初始化方法&quot;&quot;&quot;</span>
</span><span id=__span-6-6><a id=__codelineno-6-6 name=__codelineno-6-6 href=#__codelineno-6-6></a>        <span class=bp>self</span><span class=o>.</span><span class=n>name</span> <span class=o>=</span> <span class=n>name</span>
</span><span id=__span-6-7><a id=__codelineno-6-7 name=__codelineno-6-7 href=#__codelineno-6-7></a>        <span class=bp>self</span><span class=o>.</span><span class=n>age</span> <span class=o>=</span> <span class=n>age</span>
</span><span id=__span-6-8><a id=__codelineno-6-8 name=__codelineno-6-8 href=#__codelineno-6-8></a>
</span><span id=__span-6-9><a id=__codelineno-6-9 name=__codelineno-6-9 href=#__codelineno-6-9></a>    <span class=k>def</span><span class=w> </span><span class=nf>study</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>course_name</span><span class=p>):</span>
</span><span id=__span-6-10><a id=__codelineno-6-10 name=__codelineno-6-10 href=#__codelineno-6-10></a><span class=w>        </span><span class=sd>&quot;&quot;&quot;学习&quot;&quot;&quot;</span>
</span><span id=__span-6-11><a id=__codelineno-6-11 name=__codelineno-6-11 href=#__codelineno-6-11></a>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>name</span><span class=si>}</span><span class=s1>正在学习</span><span class=si>{</span><span class=n>course_name</span><span class=si>}</span><span class=s1>.&#39;</span><span class=p>)</span>
</span><span id=__span-6-12><a id=__codelineno-6-12 name=__codelineno-6-12 href=#__codelineno-6-12></a>
</span><span id=__span-6-13><a id=__codelineno-6-13 name=__codelineno-6-13 href=#__codelineno-6-13></a>    <span class=k>def</span><span class=w> </span><span class=nf>play</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-6-14><a id=__codelineno-6-14 name=__codelineno-6-14 href=#__codelineno-6-14></a><span class=w>        </span><span class=sd>&quot;&quot;&quot;玩耍&quot;&quot;&quot;</span>
</span><span id=__span-6-15><a id=__codelineno-6-15 name=__codelineno-6-15 href=#__codelineno-6-15></a>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>name</span><span class=si>}</span><span class=s1>正在玩游戏.&#39;</span><span class=p>)</span>
</span></code></pre></div> <p>修改刚才创建对象和给对象发消息的代码，重新执行一次，看看程序的执行结果有什么变化。</p> <div class="language-Python highlight"><pre><span></span><code><span id=__span-7-1><a id=__codelineno-7-1 name=__codelineno-7-1 href=#__codelineno-7-1></a><span class=c1># 由于初始化方法除了self之外还有两个参数</span>
</span><span id=__span-7-2><a id=__codelineno-7-2 name=__codelineno-7-2 href=#__codelineno-7-2></a><span class=c1># 所以调用Student类的构造器创建对象时要传入这两个参数</span>
</span><span id=__span-7-3><a id=__codelineno-7-3 name=__codelineno-7-3 href=#__codelineno-7-3></a><span class=n>stu1</span> <span class=o>=</span> <span class=n>Student</span><span class=p>(</span><span class=s1>&#39;骆昊&#39;</span><span class=p>,</span> <span class=mi>40</span><span class=p>)</span>
</span><span id=__span-7-4><a id=__codelineno-7-4 name=__codelineno-7-4 href=#__codelineno-7-4></a><span class=n>stu2</span> <span class=o>=</span> <span class=n>Student</span><span class=p>(</span><span class=s1>&#39;王大锤&#39;</span><span class=p>,</span> <span class=mi>15</span><span class=p>)</span>
</span><span id=__span-7-5><a id=__codelineno-7-5 name=__codelineno-7-5 href=#__codelineno-7-5></a><span class=n>stu1</span><span class=o>.</span><span class=n>study</span><span class=p>(</span><span class=s1>&#39;Python程序设计&#39;</span><span class=p>)</span>    <span class=c1># 骆昊正在学习Python程序设计.</span>
</span><span id=__span-7-6><a id=__codelineno-7-6 name=__codelineno-7-6 href=#__codelineno-7-6></a><span class=n>stu2</span><span class=o>.</span><span class=n>play</span><span class=p>()</span>                    <span class=c1># 王大锤正在玩游戏.</span>
</span></code></pre></div> <h3 id=_6>属性和方法<a class=headerlink href=#_6 title="Permanent link">&para;</a></h3> <table> <thead> <tr> <th>类型</th> <th>定义位置</th> <th>访问方式</th> <th>参数</th> <th>用途</th> </tr> </thead> <tbody> <tr> <td><strong>实例属性</strong></td> <td><code>__init__</code> 或其他实例方法</td> <td>通过实例访问</td> <td>无</td> <td>描述对象的状态 / 属性</td> </tr> <tr> <td><strong>类属性</strong></td> <td>类中直接定义</td> <td>通过类或实例访问</td> <td>无，这就是一个普通的变量（有点类似全局变量）</td> <td>属于类本身的属性，所有实例共享同一个类属性</td> </tr> <tr> <td><strong>实例方法</strong></td> <td>类中定义</td> <td>通过实例访问</td> <td><code>self</code>（表示当前对象）</td> <td>属于对象的方法，操作实例属性</td> </tr> <tr> <td><strong>类方法</strong></td> <td>类中定义，使用 <code>@classmethod</code></td> <td>通过类或实例访问</td> <td><code>cls</code> （表示当前类）</td> <td>操作类属性或执行与类相关的操作</td> </tr> <tr> <td><strong>静态方法</strong></td> <td>类中定义，使用 <code>@staticmethod</code></td> <td>通过类或实例访问</td> <td>无，外界传入</td> <td>与类和实例无关，实现与类相关的工具函数</td> </tr> </tbody> </table> <hr> <div class="language-python highlight"><pre><span></span><code><span id=__span-8-1><a id=__codelineno-8-1 name=__codelineno-8-1 href=#__codelineno-8-1></a><span class=k>class</span><span class=w> </span><span class=nc>Dog</span><span class=p>:</span>
</span><span id=__span-8-2><a id=__codelineno-8-2 name=__codelineno-8-2 href=#__codelineno-8-2></a>    <span class=n>species</span> <span class=o>=</span> <span class=s2>&quot;Canis familiaris&quot;</span>  <span class=c1># 类属性</span>
</span><span id=__span-8-3><a id=__codelineno-8-3 name=__codelineno-8-3 href=#__codelineno-8-3></a>
</span><span id=__span-8-4><a id=__codelineno-8-4 name=__codelineno-8-4 href=#__codelineno-8-4></a>    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>age</span><span class=p>):</span>
</span><span id=__span-8-5><a id=__codelineno-8-5 name=__codelineno-8-5 href=#__codelineno-8-5></a>        <span class=bp>self</span><span class=o>.</span><span class=n>name</span> <span class=o>=</span> <span class=n>name</span>  <span class=c1># 实例属性</span>
</span><span id=__span-8-6><a id=__codelineno-8-6 name=__codelineno-8-6 href=#__codelineno-8-6></a>        <span class=bp>self</span><span class=o>.</span><span class=n>age</span> <span class=o>=</span> <span class=n>age</span>    <span class=c1># 实例属性</span>
</span><span id=__span-8-7><a id=__codelineno-8-7 name=__codelineno-8-7 href=#__codelineno-8-7></a>
</span><span id=__span-8-8><a id=__codelineno-8-8 name=__codelineno-8-8 href=#__codelineno-8-8></a>    <span class=k>def</span><span class=w> </span><span class=nf>bark</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>  <span class=c1># 实例方法</span>
</span><span id=__span-8-9><a id=__codelineno-8-9 name=__codelineno-8-9 href=#__codelineno-8-9></a>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>name</span><span class=si>}</span><span class=s2> is barking!&quot;</span><span class=p>)</span>
</span><span id=__span-8-10><a id=__codelineno-8-10 name=__codelineno-8-10 href=#__codelineno-8-10></a>
</span><span id=__span-8-11><a id=__codelineno-8-11 name=__codelineno-8-11 href=#__codelineno-8-11></a>    <span class=nd>@classmethod</span>
</span><span id=__span-8-12><a id=__codelineno-8-12 name=__codelineno-8-12 href=#__codelineno-8-12></a>    <span class=k>def</span><span class=w> </span><span class=nf>get_species</span><span class=p>(</span><span class=bp>cls</span><span class=p>):</span>  <span class=c1># 类方法</span>
</span><span id=__span-8-13><a id=__codelineno-8-13 name=__codelineno-8-13 href=#__codelineno-8-13></a>        <span class=k>return</span> <span class=bp>cls</span><span class=o>.</span><span class=n>species</span>
</span><span id=__span-8-14><a id=__codelineno-8-14 name=__codelineno-8-14 href=#__codelineno-8-14></a>
</span><span id=__span-8-15><a id=__codelineno-8-15 name=__codelineno-8-15 href=#__codelineno-8-15></a>    <span class=nd>@staticmethod</span>
</span><span id=__span-8-16><a id=__codelineno-8-16 name=__codelineno-8-16 href=#__codelineno-8-16></a>    <span class=k>def</span><span class=w> </span><span class=nf>is_valid_age</span><span class=p>(</span><span class=n>age</span><span class=p>):</span>  <span class=c1># 静态方法</span>
</span><span id=__span-8-17><a id=__codelineno-8-17 name=__codelineno-8-17 href=#__codelineno-8-17></a>        <span class=k>return</span> <span class=n>age</span> <span class=o>&gt;</span> <span class=mi>0</span>
</span><span id=__span-8-18><a id=__codelineno-8-18 name=__codelineno-8-18 href=#__codelineno-8-18></a>
</span><span id=__span-8-19><a id=__codelineno-8-19 name=__codelineno-8-19 href=#__codelineno-8-19></a><span class=c1># 测试</span>
</span><span id=__span-8-20><a id=__codelineno-8-20 name=__codelineno-8-20 href=#__codelineno-8-20></a><span class=n>dog</span> <span class=o>=</span> <span class=n>Dog</span><span class=p>(</span><span class=s2>&quot;Buddy&quot;</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span>
</span><span id=__span-8-21><a id=__codelineno-8-21 name=__codelineno-8-21 href=#__codelineno-8-21></a><span class=n>dog</span><span class=o>.</span><span class=n>bark</span><span class=p>()</span>  <span class=c1># 输出: Buddy is barking!</span>
</span><span id=__span-8-22><a id=__codelineno-8-22 name=__codelineno-8-22 href=#__codelineno-8-22></a><span class=nb>print</span><span class=p>(</span><span class=n>Dog</span><span class=o>.</span><span class=n>get_species</span><span class=p>())</span>  <span class=c1># 输出: Canis familiaris</span>
</span><span id=__span-8-23><a id=__codelineno-8-23 name=__codelineno-8-23 href=#__codelineno-8-23></a><span class=nb>print</span><span class=p>(</span><span class=n>Dog</span><span class=o>.</span><span class=n>is_valid_age</span><span class=p>(</span><span class=mi>3</span><span class=p>))</span>  <span class=c1># 输出: True</span>
</span></code></pre></div> <h3 id=_7>打印对象<a class=headerlink href=#_7 title="Permanent link">&para;</a></h3> <p>上面我们通过<code>__init__</code>方法在创建对象时为对象绑定了属性并赋予了初始值。在Python中，以两个下划线<code>__</code>（读作“dunder”）开头和结尾的方法通常都是有特殊用途和意义的方法，我们一般称之为<strong>魔术方法</strong>或<strong>魔法方法</strong>。如果我们在打印对象的时候不希望看到对象的地址而是看到我们自定义的信息，可以通过在类中放置<code>__repr__</code>魔术方法来做到，<strong>该方法返回的字符串就是用<code>print</code>函数打印对象的时候会显示的内容</strong>，代码如下所示。</p> <div class="language-Python highlight"><pre><span></span><code><span id=__span-9-1><a id=__codelineno-9-1 name=__codelineno-9-1 href=#__codelineno-9-1></a><span class=k>class</span><span class=w> </span><span class=nc>Student</span><span class=p>:</span>
</span><span id=__span-9-2><a id=__codelineno-9-2 name=__codelineno-9-2 href=#__codelineno-9-2></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;学生&quot;&quot;&quot;</span>
</span><span id=__span-9-3><a id=__codelineno-9-3 name=__codelineno-9-3 href=#__codelineno-9-3></a>
</span><span id=__span-9-4><a id=__codelineno-9-4 name=__codelineno-9-4 href=#__codelineno-9-4></a>    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>age</span><span class=p>):</span>
</span><span id=__span-9-5><a id=__codelineno-9-5 name=__codelineno-9-5 href=#__codelineno-9-5></a><span class=w>        </span><span class=sd>&quot;&quot;&quot;初始化方法&quot;&quot;&quot;</span>
</span><span id=__span-9-6><a id=__codelineno-9-6 name=__codelineno-9-6 href=#__codelineno-9-6></a>        <span class=bp>self</span><span class=o>.</span><span class=n>name</span> <span class=o>=</span> <span class=n>name</span>
</span><span id=__span-9-7><a id=__codelineno-9-7 name=__codelineno-9-7 href=#__codelineno-9-7></a>        <span class=bp>self</span><span class=o>.</span><span class=n>age</span> <span class=o>=</span> <span class=n>age</span>
</span><span id=__span-9-8><a id=__codelineno-9-8 name=__codelineno-9-8 href=#__codelineno-9-8></a>
</span><span id=__span-9-9><a id=__codelineno-9-9 name=__codelineno-9-9 href=#__codelineno-9-9></a>    <span class=k>def</span><span class=w> </span><span class=nf>study</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>course_name</span><span class=p>):</span>
</span><span id=__span-9-10><a id=__codelineno-9-10 name=__codelineno-9-10 href=#__codelineno-9-10></a><span class=w>        </span><span class=sd>&quot;&quot;&quot;学习&quot;&quot;&quot;</span>
</span><span id=__span-9-11><a id=__codelineno-9-11 name=__codelineno-9-11 href=#__codelineno-9-11></a>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>name</span><span class=si>}</span><span class=s1>正在学习</span><span class=si>{</span><span class=n>course_name</span><span class=si>}</span><span class=s1>.&#39;</span><span class=p>)</span>
</span><span id=__span-9-12><a id=__codelineno-9-12 name=__codelineno-9-12 href=#__codelineno-9-12></a>
</span><span id=__span-9-13><a id=__codelineno-9-13 name=__codelineno-9-13 href=#__codelineno-9-13></a>    <span class=k>def</span><span class=w> </span><span class=nf>play</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-9-14><a id=__codelineno-9-14 name=__codelineno-9-14 href=#__codelineno-9-14></a><span class=w>        </span><span class=sd>&quot;&quot;&quot;玩耍&quot;&quot;&quot;</span>
</span><span id=__span-9-15><a id=__codelineno-9-15 name=__codelineno-9-15 href=#__codelineno-9-15></a>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>name</span><span class=si>}</span><span class=s1>正在玩游戏.&#39;</span><span class=p>)</span>
</span><span id=__span-9-16><a id=__codelineno-9-16 name=__codelineno-9-16 href=#__codelineno-9-16></a>
</span><span id=__span-9-17><a id=__codelineno-9-17 name=__codelineno-9-17 href=#__codelineno-9-17></a>    <span class=k>def</span><span class=w> </span><span class=fm>__repr__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-9-18><a id=__codelineno-9-18 name=__codelineno-9-18 href=#__codelineno-9-18></a>        <span class=k>return</span> <span class=sa>f</span><span class=s1>&#39;</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>name</span><span class=si>}</span><span class=s1>: </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>age</span><span class=si>}</span><span class=s1>&#39;</span>
</span><span id=__span-9-19><a id=__codelineno-9-19 name=__codelineno-9-19 href=#__codelineno-9-19></a>
</span><span id=__span-9-20><a id=__codelineno-9-20 name=__codelineno-9-20 href=#__codelineno-9-20></a>
</span><span id=__span-9-21><a id=__codelineno-9-21 name=__codelineno-9-21 href=#__codelineno-9-21></a><span class=n>stu1</span> <span class=o>=</span> <span class=n>Student</span><span class=p>(</span><span class=s1>&#39;骆昊&#39;</span><span class=p>,</span> <span class=mi>40</span><span class=p>)</span>
</span><span id=__span-9-22><a id=__codelineno-9-22 name=__codelineno-9-22 href=#__codelineno-9-22></a><span class=nb>print</span><span class=p>(</span><span class=n>stu1</span><span class=p>)</span>        <span class=c1># 骆昊: 40</span>
</span><span id=__span-9-23><a id=__codelineno-9-23 name=__codelineno-9-23 href=#__codelineno-9-23></a><span class=n>students</span> <span class=o>=</span> <span class=p>[</span><span class=n>stu1</span><span class=p>,</span> <span class=n>Student</span><span class=p>(</span><span class=s1>&#39;李元芳&#39;</span><span class=p>,</span> <span class=mi>36</span><span class=p>),</span> <span class=n>Student</span><span class=p>(</span><span class=s1>&#39;王大锤&#39;</span><span class=p>,</span> <span class=mi>25</span><span class=p>)]</span>
</span><span id=__span-9-24><a id=__codelineno-9-24 name=__codelineno-9-24 href=#__codelineno-9-24></a><span class=nb>print</span><span class=p>(</span><span class=n>students</span><span class=p>)</span>    <span class=c1># [骆昊: 40, 李元芳: 36, 王大锤: 25]</span>
</span></code></pre></div> <h3 id=_8>访问可见性问题<a class=headerlink href=#_8 title="Permanent link">&para;</a></h3> <p>对于上面的代码，有C++、Java、C#等编程经验的程序员可能会问，我们给<code>Student</code>对象绑定的<code>name</code>和<code>age</code>属性到底具有怎样的访问权限（也称为可见性）。因为在很多面向对象编程语言中，我们通常会将对象的属性设置为私有的（private）或受保护的（protected），简单的说就是不允许外界访问，而对象的方法通常都是公开的（public），因为公开的方法就是对象能够接受的消息。在Python中，属性和方法的访问权限只有两种，也就是公开的和私有的，如果希望属性是私有的，在给属性命名时可以用两个下划线作为开头，下面的代码可以验证这一点。</p> <div class="language-Python highlight"><pre><span></span><code><span id=__span-10-1><a id=__codelineno-10-1 name=__codelineno-10-1 href=#__codelineno-10-1></a><span class=k>class</span><span class=w> </span><span class=nc>Test</span><span class=p>:</span>
</span><span id=__span-10-2><a id=__codelineno-10-2 name=__codelineno-10-2 href=#__codelineno-10-2></a>
</span><span id=__span-10-3><a id=__codelineno-10-3 name=__codelineno-10-3 href=#__codelineno-10-3></a>    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>foo</span><span class=p>):</span>
</span><span id=__span-10-4><a id=__codelineno-10-4 name=__codelineno-10-4 href=#__codelineno-10-4></a>        <span class=bp>self</span><span class=o>.</span><span class=n>__foo</span> <span class=o>=</span> <span class=n>foo</span>
</span><span id=__span-10-5><a id=__codelineno-10-5 name=__codelineno-10-5 href=#__codelineno-10-5></a>
</span><span id=__span-10-6><a id=__codelineno-10-6 name=__codelineno-10-6 href=#__codelineno-10-6></a>    <span class=k>def</span><span class=w> </span><span class=nf>__bar</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-10-7><a id=__codelineno-10-7 name=__codelineno-10-7 href=#__codelineno-10-7></a>        <span class=nb>print</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>__foo</span><span class=p>)</span>
</span><span id=__span-10-8><a id=__codelineno-10-8 name=__codelineno-10-8 href=#__codelineno-10-8></a>        <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;__bar&#39;</span><span class=p>)</span>
</span><span id=__span-10-9><a id=__codelineno-10-9 name=__codelineno-10-9 href=#__codelineno-10-9></a>
</span><span id=__span-10-10><a id=__codelineno-10-10 name=__codelineno-10-10 href=#__codelineno-10-10></a>
</span><span id=__span-10-11><a id=__codelineno-10-11 name=__codelineno-10-11 href=#__codelineno-10-11></a><span class=k>def</span><span class=w> </span><span class=nf>main</span><span class=p>():</span>
</span><span id=__span-10-12><a id=__codelineno-10-12 name=__codelineno-10-12 href=#__codelineno-10-12></a>    <span class=n>test</span> <span class=o>=</span> <span class=n>Test</span><span class=p>(</span><span class=s1>&#39;hello&#39;</span><span class=p>)</span>
</span><span id=__span-10-13><a id=__codelineno-10-13 name=__codelineno-10-13 href=#__codelineno-10-13></a>    <span class=c1># AttributeError: &#39;Test&#39; object has no attribute &#39;__bar&#39;</span>
</span><span id=__span-10-14><a id=__codelineno-10-14 name=__codelineno-10-14 href=#__codelineno-10-14></a>    <span class=n>test</span><span class=o>.</span><span class=n>__bar</span><span class=p>()</span>
</span><span id=__span-10-15><a id=__codelineno-10-15 name=__codelineno-10-15 href=#__codelineno-10-15></a>    <span class=c1># AttributeError: &#39;Test&#39; object has no attribute &#39;__foo&#39;</span>
</span><span id=__span-10-16><a id=__codelineno-10-16 name=__codelineno-10-16 href=#__codelineno-10-16></a>    <span class=nb>print</span><span class=p>(</span><span class=n>test</span><span class=o>.</span><span class=n>__foo</span><span class=p>)</span>
</span><span id=__span-10-17><a id=__codelineno-10-17 name=__codelineno-10-17 href=#__codelineno-10-17></a>
</span><span id=__span-10-18><a id=__codelineno-10-18 name=__codelineno-10-18 href=#__codelineno-10-18></a>
</span><span id=__span-10-19><a id=__codelineno-10-19 name=__codelineno-10-19 href=#__codelineno-10-19></a><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s2>&quot;__main__&quot;</span><span class=p>:</span>
</span><span id=__span-10-20><a id=__codelineno-10-20 name=__codelineno-10-20 href=#__codelineno-10-20></a>    <span class=n>main</span><span class=p>()</span>
</span></code></pre></div> <p>但是，Python并没有从语法上严格保证私有属性或方法的私密性，它只是给私有的属性和方法换了一个名字来妨碍对它们的访问，事实上如果你知道更换名字的规则仍然可以访问到它们。</p> <div class="language-Python highlight"><pre><span></span><code><span id=__span-11-1><a id=__codelineno-11-1 name=__codelineno-11-1 href=#__codelineno-11-1></a><span class=k>class</span><span class=w> </span><span class=nc>Test</span><span class=p>:</span>
</span><span id=__span-11-2><a id=__codelineno-11-2 name=__codelineno-11-2 href=#__codelineno-11-2></a>
</span><span id=__span-11-3><a id=__codelineno-11-3 name=__codelineno-11-3 href=#__codelineno-11-3></a>    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>foo</span><span class=p>):</span>
</span><span id=__span-11-4><a id=__codelineno-11-4 name=__codelineno-11-4 href=#__codelineno-11-4></a>        <span class=bp>self</span><span class=o>.</span><span class=n>__foo</span> <span class=o>=</span> <span class=n>foo</span>
</span><span id=__span-11-5><a id=__codelineno-11-5 name=__codelineno-11-5 href=#__codelineno-11-5></a>
</span><span id=__span-11-6><a id=__codelineno-11-6 name=__codelineno-11-6 href=#__codelineno-11-6></a>    <span class=k>def</span><span class=w> </span><span class=nf>__bar</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-11-7><a id=__codelineno-11-7 name=__codelineno-11-7 href=#__codelineno-11-7></a>        <span class=nb>print</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>__foo</span><span class=p>)</span>
</span><span id=__span-11-8><a id=__codelineno-11-8 name=__codelineno-11-8 href=#__codelineno-11-8></a>        <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;__bar&#39;</span><span class=p>)</span>
</span><span id=__span-11-9><a id=__codelineno-11-9 name=__codelineno-11-9 href=#__codelineno-11-9></a>
</span><span id=__span-11-10><a id=__codelineno-11-10 name=__codelineno-11-10 href=#__codelineno-11-10></a>
</span><span id=__span-11-11><a id=__codelineno-11-11 name=__codelineno-11-11 href=#__codelineno-11-11></a><span class=k>def</span><span class=w> </span><span class=nf>main</span><span class=p>():</span>
</span><span id=__span-11-12><a id=__codelineno-11-12 name=__codelineno-11-12 href=#__codelineno-11-12></a>    <span class=n>test</span> <span class=o>=</span> <span class=n>Test</span><span class=p>(</span><span class=s1>&#39;hello&#39;</span><span class=p>)</span>
</span><span id=__span-11-13><a id=__codelineno-11-13 name=__codelineno-11-13 href=#__codelineno-11-13></a>    <span class=n>test</span><span class=o>.</span><span class=n>_Test__bar</span><span class=p>()</span>
</span><span id=__span-11-14><a id=__codelineno-11-14 name=__codelineno-11-14 href=#__codelineno-11-14></a>    <span class=nb>print</span><span class=p>(</span><span class=n>test</span><span class=o>.</span><span class=n>_Test__foo</span><span class=p>)</span>
</span><span id=__span-11-15><a id=__codelineno-11-15 name=__codelineno-11-15 href=#__codelineno-11-15></a>
</span><span id=__span-11-16><a id=__codelineno-11-16 name=__codelineno-11-16 href=#__codelineno-11-16></a>
</span><span id=__span-11-17><a id=__codelineno-11-17 name=__codelineno-11-17 href=#__codelineno-11-17></a><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s2>&quot;__main__&quot;</span><span class=p>:</span>
</span><span id=__span-11-18><a id=__codelineno-11-18 name=__codelineno-11-18 href=#__codelineno-11-18></a>    <span class=n>main</span><span class=p>()</span>
</span></code></pre></div> <p>习惯上，让属性名以单下划线开头来表示属性是受保护的（因为实在没有必要用双下划线命名私有成员），事实上，外界都仍然是可以访问的</p> <h3 id=_9>封装<a class=headerlink href=#_9 title="Permanent link">&para;</a></h3> <p>封装：&quot;隐藏一切可以隐藏的实现细节，只向外界暴露（提供）简单的编程接口&quot;。我们在类中定义的方法其实就是把数据和对数据的操作封装起来了，在我们创建了对象之后，只需要给对象发送一个消息（调用方法）就可以执行方法中的代码，也就是说我们只需要知道方法的名字和传入的参数（方法的外部视图），而不需要知道方法内部的实现细节（方法的内部视图）。</p> <p><strong>示例</strong></p> <p>定义一个类描述数字时钟。</p> <p>参考答案：</p> <div class="language-Python highlight"><pre><span></span><code><span id=__span-12-1><a id=__codelineno-12-1 name=__codelineno-12-1 href=#__codelineno-12-1></a><span class=kn>from</span><span class=w> </span><span class=nn>time</span><span class=w> </span><span class=kn>import</span> <span class=n>sleep</span>
</span><span id=__span-12-2><a id=__codelineno-12-2 name=__codelineno-12-2 href=#__codelineno-12-2></a>
</span><span id=__span-12-3><a id=__codelineno-12-3 name=__codelineno-12-3 href=#__codelineno-12-3></a>
</span><span id=__span-12-4><a id=__codelineno-12-4 name=__codelineno-12-4 href=#__codelineno-12-4></a><span class=k>class</span><span class=w> </span><span class=nc>Clock</span><span class=p>(</span><span class=nb>object</span><span class=p>):</span>
</span><span id=__span-12-5><a id=__codelineno-12-5 name=__codelineno-12-5 href=#__codelineno-12-5></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;数字时钟&quot;&quot;&quot;</span>
</span><span id=__span-12-6><a id=__codelineno-12-6 name=__codelineno-12-6 href=#__codelineno-12-6></a>
</span><span id=__span-12-7><a id=__codelineno-12-7 name=__codelineno-12-7 href=#__codelineno-12-7></a>    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>hour</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=n>minute</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=n>second</span><span class=o>=</span><span class=mi>0</span><span class=p>):</span>
</span><span id=__span-12-8><a id=__codelineno-12-8 name=__codelineno-12-8 href=#__codelineno-12-8></a><span class=w>        </span><span class=sd>&quot;&quot;&quot;初始化方法</span>
</span><span id=__span-12-9><a id=__codelineno-12-9 name=__codelineno-12-9 href=#__codelineno-12-9></a>
</span><span id=__span-12-10><a id=__codelineno-12-10 name=__codelineno-12-10 href=#__codelineno-12-10></a><span class=sd>        :param hour: 时</span>
</span><span id=__span-12-11><a id=__codelineno-12-11 name=__codelineno-12-11 href=#__codelineno-12-11></a><span class=sd>        :param minute: 分</span>
</span><span id=__span-12-12><a id=__codelineno-12-12 name=__codelineno-12-12 href=#__codelineno-12-12></a><span class=sd>        :param second: 秒</span>
</span><span id=__span-12-13><a id=__codelineno-12-13 name=__codelineno-12-13 href=#__codelineno-12-13></a><span class=sd>        &quot;&quot;&quot;</span>
</span><span id=__span-12-14><a id=__codelineno-12-14 name=__codelineno-12-14 href=#__codelineno-12-14></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_hour</span> <span class=o>=</span> <span class=n>hour</span>
</span><span id=__span-12-15><a id=__codelineno-12-15 name=__codelineno-12-15 href=#__codelineno-12-15></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_minute</span> <span class=o>=</span> <span class=n>minute</span>
</span><span id=__span-12-16><a id=__codelineno-12-16 name=__codelineno-12-16 href=#__codelineno-12-16></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_second</span> <span class=o>=</span> <span class=n>second</span>
</span><span id=__span-12-17><a id=__codelineno-12-17 name=__codelineno-12-17 href=#__codelineno-12-17></a>
</span><span id=__span-12-18><a id=__codelineno-12-18 name=__codelineno-12-18 href=#__codelineno-12-18></a>    <span class=k>def</span><span class=w> </span><span class=nf>run</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-12-19><a id=__codelineno-12-19 name=__codelineno-12-19 href=#__codelineno-12-19></a><span class=w>        </span><span class=sd>&quot;&quot;&quot;走字&quot;&quot;&quot;</span>
</span><span id=__span-12-20><a id=__codelineno-12-20 name=__codelineno-12-20 href=#__codelineno-12-20></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_second</span> <span class=o>+=</span> <span class=mi>1</span>
</span><span id=__span-12-21><a id=__codelineno-12-21 name=__codelineno-12-21 href=#__codelineno-12-21></a>        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_second</span> <span class=o>==</span> <span class=mi>60</span><span class=p>:</span>
</span><span id=__span-12-22><a id=__codelineno-12-22 name=__codelineno-12-22 href=#__codelineno-12-22></a>            <span class=bp>self</span><span class=o>.</span><span class=n>_second</span> <span class=o>=</span> <span class=mi>0</span>
</span><span id=__span-12-23><a id=__codelineno-12-23 name=__codelineno-12-23 href=#__codelineno-12-23></a>            <span class=bp>self</span><span class=o>.</span><span class=n>_minute</span> <span class=o>+=</span> <span class=mi>1</span>
</span><span id=__span-12-24><a id=__codelineno-12-24 name=__codelineno-12-24 href=#__codelineno-12-24></a>            <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_minute</span> <span class=o>==</span> <span class=mi>60</span><span class=p>:</span>
</span><span id=__span-12-25><a id=__codelineno-12-25 name=__codelineno-12-25 href=#__codelineno-12-25></a>                <span class=bp>self</span><span class=o>.</span><span class=n>_minute</span> <span class=o>=</span> <span class=mi>0</span>
</span><span id=__span-12-26><a id=__codelineno-12-26 name=__codelineno-12-26 href=#__codelineno-12-26></a>                <span class=bp>self</span><span class=o>.</span><span class=n>_hour</span> <span class=o>+=</span> <span class=mi>1</span>
</span><span id=__span-12-27><a id=__codelineno-12-27 name=__codelineno-12-27 href=#__codelineno-12-27></a>                <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_hour</span> <span class=o>==</span> <span class=mi>24</span><span class=p>:</span>
</span><span id=__span-12-28><a id=__codelineno-12-28 name=__codelineno-12-28 href=#__codelineno-12-28></a>                    <span class=bp>self</span><span class=o>.</span><span class=n>_hour</span> <span class=o>=</span> <span class=mi>0</span>
</span><span id=__span-12-29><a id=__codelineno-12-29 name=__codelineno-12-29 href=#__codelineno-12-29></a>
</span><span id=__span-12-30><a id=__codelineno-12-30 name=__codelineno-12-30 href=#__codelineno-12-30></a>    <span class=k>def</span><span class=w> </span><span class=nf>show</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-12-31><a id=__codelineno-12-31 name=__codelineno-12-31 href=#__codelineno-12-31></a><span class=w>        </span><span class=sd>&quot;&quot;&quot;显示时间&quot;&quot;&quot;</span>
</span><span id=__span-12-32><a id=__codelineno-12-32 name=__codelineno-12-32 href=#__codelineno-12-32></a>        <span class=k>return</span> <span class=s1>&#39;</span><span class=si>%02d</span><span class=s1>:</span><span class=si>%02d</span><span class=s1>:</span><span class=si>%02d</span><span class=s1>&#39;</span> <span class=o>%</span> \
</span><span id=__span-12-33><a id=__codelineno-12-33 name=__codelineno-12-33 href=#__codelineno-12-33></a>               <span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_hour</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>_minute</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>_second</span><span class=p>)</span>
</span><span id=__span-12-34><a id=__codelineno-12-34 name=__codelineno-12-34 href=#__codelineno-12-34></a>
</span><span id=__span-12-35><a id=__codelineno-12-35 name=__codelineno-12-35 href=#__codelineno-12-35></a>
</span><span id=__span-12-36><a id=__codelineno-12-36 name=__codelineno-12-36 href=#__codelineno-12-36></a><span class=k>def</span><span class=w> </span><span class=nf>main</span><span class=p>():</span>
</span><span id=__span-12-37><a id=__codelineno-12-37 name=__codelineno-12-37 href=#__codelineno-12-37></a>    <span class=n>clock</span> <span class=o>=</span> <span class=n>Clock</span><span class=p>(</span><span class=mi>23</span><span class=p>,</span> <span class=mi>59</span><span class=p>,</span> <span class=mi>58</span><span class=p>)</span>
</span><span id=__span-12-38><a id=__codelineno-12-38 name=__codelineno-12-38 href=#__codelineno-12-38></a>    <span class=k>while</span> <span class=kc>True</span><span class=p>:</span>
</span><span id=__span-12-39><a id=__codelineno-12-39 name=__codelineno-12-39 href=#__codelineno-12-39></a>        <span class=nb>print</span><span class=p>(</span><span class=n>clock</span><span class=o>.</span><span class=n>show</span><span class=p>(),</span> <span class=n>end</span> <span class=o>=</span> <span class=s2>&quot;</span><span class=se>\r</span><span class=s2>&quot;</span><span class=p>)</span>
</span><span id=__span-12-40><a id=__codelineno-12-40 name=__codelineno-12-40 href=#__codelineno-12-40></a>        <span class=n>sleep</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
</span><span id=__span-12-41><a id=__codelineno-12-41 name=__codelineno-12-41 href=#__codelineno-12-41></a>        <span class=n>clock</span><span class=o>.</span><span class=n>run</span><span class=p>()</span>
</span><span id=__span-12-42><a id=__codelineno-12-42 name=__codelineno-12-42 href=#__codelineno-12-42></a>
</span><span id=__span-12-43><a id=__codelineno-12-43 name=__codelineno-12-43 href=#__codelineno-12-43></a>
</span><span id=__span-12-44><a id=__codelineno-12-44 name=__codelineno-12-44 href=#__codelineno-12-44></a><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s1>&#39;__main__&#39;</span><span class=p>:</span>
</span><span id=__span-12-45><a id=__codelineno-12-45 name=__codelineno-12-45 href=#__codelineno-12-45></a>    <span class=n>main</span><span class=p>()</span>
</span></code></pre></div> <p>定义一个类描述平面上的点并提供移动点和计算到另一个点距离的方法。</p> <p>参考答案：</p> <div class="language-Python highlight"><pre><span></span><code><span id=__span-13-1><a id=__codelineno-13-1 name=__codelineno-13-1 href=#__codelineno-13-1></a><span class=kn>from</span><span class=w> </span><span class=nn>math</span><span class=w> </span><span class=kn>import</span> <span class=n>sqrt</span>
</span><span id=__span-13-2><a id=__codelineno-13-2 name=__codelineno-13-2 href=#__codelineno-13-2></a>
</span><span id=__span-13-3><a id=__codelineno-13-3 name=__codelineno-13-3 href=#__codelineno-13-3></a>
</span><span id=__span-13-4><a id=__codelineno-13-4 name=__codelineno-13-4 href=#__codelineno-13-4></a><span class=k>class</span><span class=w> </span><span class=nc>Point</span><span class=p>(</span><span class=nb>object</span><span class=p>):</span>
</span><span id=__span-13-5><a id=__codelineno-13-5 name=__codelineno-13-5 href=#__codelineno-13-5></a>
</span><span id=__span-13-6><a id=__codelineno-13-6 name=__codelineno-13-6 href=#__codelineno-13-6></a>    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>x</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=n>y</span><span class=o>=</span><span class=mi>0</span><span class=p>):</span>
</span><span id=__span-13-7><a id=__codelineno-13-7 name=__codelineno-13-7 href=#__codelineno-13-7></a><span class=w>        </span><span class=sd>&quot;&quot;&quot;初始化方法</span>
</span><span id=__span-13-8><a id=__codelineno-13-8 name=__codelineno-13-8 href=#__codelineno-13-8></a>
</span><span id=__span-13-9><a id=__codelineno-13-9 name=__codelineno-13-9 href=#__codelineno-13-9></a><span class=sd>        :param x: 横坐标</span>
</span><span id=__span-13-10><a id=__codelineno-13-10 name=__codelineno-13-10 href=#__codelineno-13-10></a><span class=sd>        :param y: 纵坐标</span>
</span><span id=__span-13-11><a id=__codelineno-13-11 name=__codelineno-13-11 href=#__codelineno-13-11></a><span class=sd>        &quot;&quot;&quot;</span>
</span><span id=__span-13-12><a id=__codelineno-13-12 name=__codelineno-13-12 href=#__codelineno-13-12></a>        <span class=bp>self</span><span class=o>.</span><span class=n>x</span> <span class=o>=</span> <span class=n>x</span>
</span><span id=__span-13-13><a id=__codelineno-13-13 name=__codelineno-13-13 href=#__codelineno-13-13></a>        <span class=bp>self</span><span class=o>.</span><span class=n>y</span> <span class=o>=</span> <span class=n>y</span>
</span><span id=__span-13-14><a id=__codelineno-13-14 name=__codelineno-13-14 href=#__codelineno-13-14></a>
</span><span id=__span-13-15><a id=__codelineno-13-15 name=__codelineno-13-15 href=#__codelineno-13-15></a>    <span class=k>def</span><span class=w> </span><span class=nf>move_to</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>):</span>
</span><span id=__span-13-16><a id=__codelineno-13-16 name=__codelineno-13-16 href=#__codelineno-13-16></a><span class=w>        </span><span class=sd>&quot;&quot;&quot;移动到指定位置</span>
</span><span id=__span-13-17><a id=__codelineno-13-17 name=__codelineno-13-17 href=#__codelineno-13-17></a>
</span><span id=__span-13-18><a id=__codelineno-13-18 name=__codelineno-13-18 href=#__codelineno-13-18></a><span class=sd>        :param x: 新的横坐标</span>
</span><span id=__span-13-19><a id=__codelineno-13-19 name=__codelineno-13-19 href=#__codelineno-13-19></a><span class=sd>        &quot;param y: 新的纵坐标</span>
</span><span id=__span-13-20><a id=__codelineno-13-20 name=__codelineno-13-20 href=#__codelineno-13-20></a><span class=sd>        &quot;&quot;&quot;</span>
</span><span id=__span-13-21><a id=__codelineno-13-21 name=__codelineno-13-21 href=#__codelineno-13-21></a>        <span class=bp>self</span><span class=o>.</span><span class=n>x</span> <span class=o>=</span> <span class=n>x</span>
</span><span id=__span-13-22><a id=__codelineno-13-22 name=__codelineno-13-22 href=#__codelineno-13-22></a>        <span class=bp>self</span><span class=o>.</span><span class=n>y</span> <span class=o>=</span> <span class=n>y</span>
</span><span id=__span-13-23><a id=__codelineno-13-23 name=__codelineno-13-23 href=#__codelineno-13-23></a>
</span><span id=__span-13-24><a id=__codelineno-13-24 name=__codelineno-13-24 href=#__codelineno-13-24></a>    <span class=k>def</span><span class=w> </span><span class=nf>move_by</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>dx</span><span class=p>,</span> <span class=n>dy</span><span class=p>):</span>
</span><span id=__span-13-25><a id=__codelineno-13-25 name=__codelineno-13-25 href=#__codelineno-13-25></a><span class=w>        </span><span class=sd>&quot;&quot;&quot;移动指定的增量</span>
</span><span id=__span-13-26><a id=__codelineno-13-26 name=__codelineno-13-26 href=#__codelineno-13-26></a>
</span><span id=__span-13-27><a id=__codelineno-13-27 name=__codelineno-13-27 href=#__codelineno-13-27></a><span class=sd>        :param dx: 横坐标的增量</span>
</span><span id=__span-13-28><a id=__codelineno-13-28 name=__codelineno-13-28 href=#__codelineno-13-28></a><span class=sd>        &quot;param dy: 纵坐标的增量</span>
</span><span id=__span-13-29><a id=__codelineno-13-29 name=__codelineno-13-29 href=#__codelineno-13-29></a><span class=sd>        &quot;&quot;&quot;</span>
</span><span id=__span-13-30><a id=__codelineno-13-30 name=__codelineno-13-30 href=#__codelineno-13-30></a>        <span class=bp>self</span><span class=o>.</span><span class=n>x</span> <span class=o>+=</span> <span class=n>dx</span>
</span><span id=__span-13-31><a id=__codelineno-13-31 name=__codelineno-13-31 href=#__codelineno-13-31></a>        <span class=bp>self</span><span class=o>.</span><span class=n>y</span> <span class=o>+=</span> <span class=n>dy</span>
</span><span id=__span-13-32><a id=__codelineno-13-32 name=__codelineno-13-32 href=#__codelineno-13-32></a>
</span><span id=__span-13-33><a id=__codelineno-13-33 name=__codelineno-13-33 href=#__codelineno-13-33></a>    <span class=k>def</span><span class=w> </span><span class=nf>distance_to</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>other</span><span class=p>):</span>
</span><span id=__span-13-34><a id=__codelineno-13-34 name=__codelineno-13-34 href=#__codelineno-13-34></a><span class=w>        </span><span class=sd>&quot;&quot;&quot;计算与另一个点的距离</span>
</span><span id=__span-13-35><a id=__codelineno-13-35 name=__codelineno-13-35 href=#__codelineno-13-35></a>
</span><span id=__span-13-36><a id=__codelineno-13-36 name=__codelineno-13-36 href=#__codelineno-13-36></a><span class=sd>        :param other: 另一个点</span>
</span><span id=__span-13-37><a id=__codelineno-13-37 name=__codelineno-13-37 href=#__codelineno-13-37></a><span class=sd>        &quot;&quot;&quot;</span>
</span><span id=__span-13-38><a id=__codelineno-13-38 name=__codelineno-13-38 href=#__codelineno-13-38></a>        <span class=n>dx</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>x</span> <span class=o>-</span> <span class=n>other</span><span class=o>.</span><span class=n>x</span>
</span><span id=__span-13-39><a id=__codelineno-13-39 name=__codelineno-13-39 href=#__codelineno-13-39></a>        <span class=n>dy</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>y</span> <span class=o>-</span> <span class=n>other</span><span class=o>.</span><span class=n>y</span>
</span><span id=__span-13-40><a id=__codelineno-13-40 name=__codelineno-13-40 href=#__codelineno-13-40></a>        <span class=k>return</span> <span class=n>sqrt</span><span class=p>(</span><span class=n>dx</span> <span class=o>**</span> <span class=mi>2</span> <span class=o>+</span> <span class=n>dy</span> <span class=o>**</span> <span class=mi>2</span><span class=p>)</span>
</span><span id=__span-13-41><a id=__codelineno-13-41 name=__codelineno-13-41 href=#__codelineno-13-41></a>
</span><span id=__span-13-42><a id=__codelineno-13-42 name=__codelineno-13-42 href=#__codelineno-13-42></a>    <span class=k>def</span><span class=w> </span><span class=fm>__str__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-13-43><a id=__codelineno-13-43 name=__codelineno-13-43 href=#__codelineno-13-43></a>        <span class=k>return</span> <span class=s1>&#39;(</span><span class=si>%s</span><span class=s1>, </span><span class=si>%s</span><span class=s1>)&#39;</span> <span class=o>%</span> <span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>x</span><span class=p>),</span> <span class=nb>str</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>y</span><span class=p>))</span>
</span><span id=__span-13-44><a id=__codelineno-13-44 name=__codelineno-13-44 href=#__codelineno-13-44></a>
</span><span id=__span-13-45><a id=__codelineno-13-45 name=__codelineno-13-45 href=#__codelineno-13-45></a>
</span><span id=__span-13-46><a id=__codelineno-13-46 name=__codelineno-13-46 href=#__codelineno-13-46></a><span class=k>def</span><span class=w> </span><span class=nf>main</span><span class=p>():</span>
</span><span id=__span-13-47><a id=__codelineno-13-47 name=__codelineno-13-47 href=#__codelineno-13-47></a>    <span class=n>p1</span> <span class=o>=</span> <span class=n>Point</span><span class=p>(</span><span class=mi>3</span><span class=p>,</span> <span class=mi>5</span><span class=p>)</span>
</span><span id=__span-13-48><a id=__codelineno-13-48 name=__codelineno-13-48 href=#__codelineno-13-48></a>    <span class=n>p2</span> <span class=o>=</span> <span class=n>Point</span><span class=p>()</span>
</span><span id=__span-13-49><a id=__codelineno-13-49 name=__codelineno-13-49 href=#__codelineno-13-49></a>    <span class=nb>print</span><span class=p>(</span><span class=n>p1</span><span class=p>)</span>
</span><span id=__span-13-50><a id=__codelineno-13-50 name=__codelineno-13-50 href=#__codelineno-13-50></a>    <span class=nb>print</span><span class=p>(</span><span class=n>p2</span><span class=p>)</span>
</span><span id=__span-13-51><a id=__codelineno-13-51 name=__codelineno-13-51 href=#__codelineno-13-51></a>    <span class=n>p2</span><span class=o>.</span><span class=n>move_by</span><span class=p>(</span><span class=o>-</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>)</span>
</span><span id=__span-13-52><a id=__codelineno-13-52 name=__codelineno-13-52 href=#__codelineno-13-52></a>    <span class=nb>print</span><span class=p>(</span><span class=n>p2</span><span class=p>)</span>
</span><span id=__span-13-53><a id=__codelineno-13-53 name=__codelineno-13-53 href=#__codelineno-13-53></a>    <span class=nb>print</span><span class=p>(</span><span class=n>p1</span><span class=o>.</span><span class=n>distance_to</span><span class=p>(</span><span class=n>p2</span><span class=p>))</span>
</span><span id=__span-13-54><a id=__codelineno-13-54 name=__codelineno-13-54 href=#__codelineno-13-54></a>
</span><span id=__span-13-55><a id=__codelineno-13-55 name=__codelineno-13-55 href=#__codelineno-13-55></a>
</span><span id=__span-13-56><a id=__codelineno-13-56 name=__codelineno-13-56 href=#__codelineno-13-56></a><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s1>&#39;__main__&#39;</span><span class=p>:</span>
</span><span id=__span-13-57><a id=__codelineno-13-57 name=__codelineno-13-57 href=#__codelineno-13-57></a>    <span class=n>main</span><span class=p>()</span>
</span></code></pre></div> <h3 id=property>@property装饰器<a class=headerlink href=#property title="Permanent link">&para;</a></h3> <div class="admonition warning"> <p class=admonition-title>warning</p> <ol> <li>变量 / 函数命名：@property 修饰的方法直接命名为相应变量的名字，将 <code>__init__</code> 中相应变量改为私有属性（名字前面加一个下划线），@<name>.setter 中 “name” 是与 @property 修饰的方法同名。</li> </ol> </div> <blockquote> <p>之前我们讨论过Python中属性和方法访问权限的问题，虽然我们不建议将属性设置为私有的，但是如果直接将属性暴露给外界也是有问题的，比如我们没有办法检查赋给属性的值是否有效。我们之前的建议是将属性命名以单下划线开头，通过这种方式来暗示属性是受保护的，不建议外界直接访问，那么如果想访问属性可以通过属性的getter（访问器）和setter（修改器）方法进行对应的操作。如果要做到这点，就可以考虑使用@property包装器来包装getter和setter方法，使得对属性的访问既安全又方便，代码如下所示。</p> </blockquote> <div class="admonition success"> <p class=admonition-title>理解</p> <p>其实@property、getter、setter只是一种简单的习惯，不是什么高端的东西。</p> <p>目的是：</p> <ul> <li>通过@property（getter），使得<strong>可以像使用属性一样使用这个方法</strong></li> <li>通过@method_name.setter，使得外界可以修改对象的属性值，从而实现“动态性”</li> <li>通过@method_name.deleter，使得外界可以通过 <code>del</code> 删除对象的属性值，从而实现“动态性”</li> </ul> </div> <p><code>@property</code> 是 Python 中一个非常有用的装饰器，用于将一个方法转换为属性，使得你可以像访问属性一样访问方法，同时还可以添加额外的逻辑（如数据验证、计算属性等）。它的主要作用是提供一种更优雅的方式来管理类的属性访问。</p> <ol> <li>基本用法 <br> <code>@property</code> 通常用于定义“只读”属性，或者对属性的访问进行控制。以下是一个简单的例子：</li> </ol> <div class="language-python highlight"><pre><span></span><code><span id=__span-14-1><a id=__codelineno-14-1 name=__codelineno-14-1 href=#__codelineno-14-1></a><span class=k>class</span><span class=w> </span><span class=nc>Circle</span><span class=p>:</span>
</span><span id=__span-14-2><a id=__codelineno-14-2 name=__codelineno-14-2 href=#__codelineno-14-2></a>    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>radius</span><span class=p>):</span>
</span><span id=__span-14-3><a id=__codelineno-14-3 name=__codelineno-14-3 href=#__codelineno-14-3></a>        <span class=bp>self</span><span class=o>.</span><span class=n>radius</span> <span class=o>=</span> <span class=n>radius</span>
</span><span id=__span-14-4><a id=__codelineno-14-4 name=__codelineno-14-4 href=#__codelineno-14-4></a>
</span><span id=__span-14-5><a id=__codelineno-14-5 name=__codelineno-14-5 href=#__codelineno-14-5></a>    <span class=nd>@property</span>
</span><span id=__span-14-6><a id=__codelineno-14-6 name=__codelineno-14-6 href=#__codelineno-14-6></a>    <span class=k>def</span><span class=w> </span><span class=nf>diameter</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-14-7><a id=__codelineno-14-7 name=__codelineno-14-7 href=#__codelineno-14-7></a>        <span class=k>return</span> <span class=mi>2</span> <span class=o>*</span> <span class=bp>self</span><span class=o>.</span><span class=n>radius</span>
</span><span id=__span-14-8><a id=__codelineno-14-8 name=__codelineno-14-8 href=#__codelineno-14-8></a>
</span><span id=__span-14-9><a id=__codelineno-14-9 name=__codelineno-14-9 href=#__codelineno-14-9></a><span class=c1># 使用</span>
</span><span id=__span-14-10><a id=__codelineno-14-10 name=__codelineno-14-10 href=#__codelineno-14-10></a><span class=n>c</span> <span class=o>=</span> <span class=n>Circle</span><span class=p>(</span><span class=mi>5</span><span class=p>)</span>
</span><span id=__span-14-11><a id=__codelineno-14-11 name=__codelineno-14-11 href=#__codelineno-14-11></a><span class=nb>print</span><span class=p>(</span><span class=n>c</span><span class=o>.</span><span class=n>diameter</span><span class=p>)</span>  <span class=c1># 输出: 10</span>
</span></code></pre></div> <p>解释： - <code>diameter</code> 是一个方法，但通过 <code>@property</code> 装饰后，可以像属性一样直接访问（<code>c.diameter</code>），而不需要调用方法（<code>c.diameter()</code>）。 - 这里 <code>diameter</code> 是一个只读属性，因为它没有定义对应的 setter。</p> <hr> <ol start=2> <li>设置属性的值 <br> 除了定义只读属性，<code>@property</code> 还可以与 setter 和 deleter 结合使用，实现对属性的赋值和删除操作。</li> </ol> <p>示例： <div class="language-python highlight"><pre><span></span><code><span id=__span-15-1><a id=__codelineno-15-1 name=__codelineno-15-1 href=#__codelineno-15-1></a><span class=k>class</span><span class=w> </span><span class=nc>Circle</span><span class=p>:</span>
</span><span id=__span-15-2><a id=__codelineno-15-2 name=__codelineno-15-2 href=#__codelineno-15-2></a>    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>radius</span><span class=p>):</span>
</span><span id=__span-15-3><a id=__codelineno-15-3 name=__codelineno-15-3 href=#__codelineno-15-3></a>        <span class=bp>self</span><span class=o>.</span><span class=n>radius</span> <span class=o>=</span> <span class=n>radius</span>
</span><span id=__span-15-4><a id=__codelineno-15-4 name=__codelineno-15-4 href=#__codelineno-15-4></a>
</span><span id=__span-15-5><a id=__codelineno-15-5 name=__codelineno-15-5 href=#__codelineno-15-5></a>    <span class=nd>@property</span>
</span><span id=__span-15-6><a id=__codelineno-15-6 name=__codelineno-15-6 href=#__codelineno-15-6></a>    <span class=k>def</span><span class=w> </span><span class=nf>diameter</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-15-7><a id=__codelineno-15-7 name=__codelineno-15-7 href=#__codelineno-15-7></a>        <span class=k>return</span> <span class=mi>2</span> <span class=o>*</span> <span class=bp>self</span><span class=o>.</span><span class=n>radius</span>
</span><span id=__span-15-8><a id=__codelineno-15-8 name=__codelineno-15-8 href=#__codelineno-15-8></a>
</span><span id=__span-15-9><a id=__codelineno-15-9 name=__codelineno-15-9 href=#__codelineno-15-9></a>    <span class=nd>@diameter</span><span class=o>.</span><span class=n>setter</span>
</span><span id=__span-15-10><a id=__codelineno-15-10 name=__codelineno-15-10 href=#__codelineno-15-10></a>    <span class=k>def</span><span class=w> </span><span class=nf>diameter</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>value</span><span class=p>):</span>
</span><span id=__span-15-11><a id=__codelineno-15-11 name=__codelineno-15-11 href=#__codelineno-15-11></a>        <span class=k>if</span> <span class=n>value</span> <span class=o>&lt;=</span> <span class=mi>0</span><span class=p>:</span>
</span><span id=__span-15-12><a id=__codelineno-15-12 name=__codelineno-15-12 href=#__codelineno-15-12></a>            <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=s2>&quot;Diameter must be positive&quot;</span><span class=p>)</span>
</span><span id=__span-15-13><a id=__codelineno-15-13 name=__codelineno-15-13 href=#__codelineno-15-13></a>        <span class=bp>self</span><span class=o>.</span><span class=n>radius</span> <span class=o>=</span> <span class=n>value</span> <span class=o>/</span> <span class=mi>2</span>
</span><span id=__span-15-14><a id=__codelineno-15-14 name=__codelineno-15-14 href=#__codelineno-15-14></a>
</span><span id=__span-15-15><a id=__codelineno-15-15 name=__codelineno-15-15 href=#__codelineno-15-15></a>    <span class=nd>@diameter</span><span class=o>.</span><span class=n>deleter</span>
</span><span id=__span-15-16><a id=__codelineno-15-16 name=__codelineno-15-16 href=#__codelineno-15-16></a>    <span class=k>def</span><span class=w> </span><span class=nf>diameter</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-15-17><a id=__codelineno-15-17 name=__codelineno-15-17 href=#__codelineno-15-17></a>        <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Deleting diameter&quot;</span><span class=p>)</span>
</span><span id=__span-15-18><a id=__codelineno-15-18 name=__codelineno-15-18 href=#__codelineno-15-18></a>        <span class=k>del</span> <span class=bp>self</span><span class=o>.</span><span class=n>radius</span>
</span><span id=__span-15-19><a id=__codelineno-15-19 name=__codelineno-15-19 href=#__codelineno-15-19></a>
</span><span id=__span-15-20><a id=__codelineno-15-20 name=__codelineno-15-20 href=#__codelineno-15-20></a><span class=c1># 使用</span>
</span><span id=__span-15-21><a id=__codelineno-15-21 name=__codelineno-15-21 href=#__codelineno-15-21></a><span class=n>c</span> <span class=o>=</span> <span class=n>Circle</span><span class=p>(</span><span class=mi>5</span><span class=p>)</span>
</span><span id=__span-15-22><a id=__codelineno-15-22 name=__codelineno-15-22 href=#__codelineno-15-22></a><span class=nb>print</span><span class=p>(</span><span class=n>c</span><span class=o>.</span><span class=n>diameter</span><span class=p>)</span>  <span class=c1># 输出: 10</span>
</span><span id=__span-15-23><a id=__codelineno-15-23 name=__codelineno-15-23 href=#__codelineno-15-23></a>
</span><span id=__span-15-24><a id=__codelineno-15-24 name=__codelineno-15-24 href=#__codelineno-15-24></a><span class=n>c</span><span class=o>.</span><span class=n>diameter</span> <span class=o>=</span> <span class=mi>12</span>  <span class=c1># 设置 diameter，会自动更新 radius</span>
</span><span id=__span-15-25><a id=__codelineno-15-25 name=__codelineno-15-25 href=#__codelineno-15-25></a><span class=nb>print</span><span class=p>(</span><span class=n>c</span><span class=o>.</span><span class=n>radius</span><span class=p>)</span>  <span class=c1># 输出: 6</span>
</span><span id=__span-15-26><a id=__codelineno-15-26 name=__codelineno-15-26 href=#__codelineno-15-26></a>
</span><span id=__span-15-27><a id=__codelineno-15-27 name=__codelineno-15-27 href=#__codelineno-15-27></a><span class=k>del</span> <span class=n>c</span><span class=o>.</span><span class=n>diameter</span>  <span class=c1># 删除 diameter，会触发 deleter</span>
</span></code></pre></div></p> <p>解释： - <code>@diameter.setter</code>：定义了一个 setter 方法，允许通过 <code>c.diameter = value</code> 的方式设置 <code>diameter</code> 的值。 - <code>@diameter.deleter</code>：定义了一个 deleter 方法，允许通过 <code>del c.diameter</code> 的方式删除属性。 - 通过这些方法，你可以在属性赋值或删除时添加额外的逻辑（如数据验证）。</p> <hr> <ol start=3> <li>数据验证 <br> <code>@property</code> 的一个常见用途是对属性赋值进行验证。例如，确保半径不能为负数：</li> </ol> <div class="language-python highlight"><pre><span></span><code><span id=__span-16-1><a id=__codelineno-16-1 name=__codelineno-16-1 href=#__codelineno-16-1></a><span class=k>class</span><span class=w> </span><span class=nc>Circle</span><span class=p>:</span>
</span><span id=__span-16-2><a id=__codelineno-16-2 name=__codelineno-16-2 href=#__codelineno-16-2></a>    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>radius</span><span class=p>):</span>
</span><span id=__span-16-3><a id=__codelineno-16-3 name=__codelineno-16-3 href=#__codelineno-16-3></a>        <span class=bp>self</span><span class=o>.</span><span class=n>radius</span> <span class=o>=</span> <span class=n>radius</span>
</span><span id=__span-16-4><a id=__codelineno-16-4 name=__codelineno-16-4 href=#__codelineno-16-4></a>
</span><span id=__span-16-5><a id=__codelineno-16-5 name=__codelineno-16-5 href=#__codelineno-16-5></a>    <span class=nd>@property</span>
</span><span id=__span-16-6><a id=__codelineno-16-6 name=__codelineno-16-6 href=#__codelineno-16-6></a>    <span class=k>def</span><span class=w> </span><span class=nf>radius</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-16-7><a id=__codelineno-16-7 name=__codelineno-16-7 href=#__codelineno-16-7></a>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_radius</span>
</span><span id=__span-16-8><a id=__codelineno-16-8 name=__codelineno-16-8 href=#__codelineno-16-8></a>
</span><span id=__span-16-9><a id=__codelineno-16-9 name=__codelineno-16-9 href=#__codelineno-16-9></a>    <span class=nd>@radius</span><span class=o>.</span><span class=n>setter</span>
</span><span id=__span-16-10><a id=__codelineno-16-10 name=__codelineno-16-10 href=#__codelineno-16-10></a>    <span class=k>def</span><span class=w> </span><span class=nf>radius</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>value</span><span class=p>):</span>
</span><span id=__span-16-11><a id=__codelineno-16-11 name=__codelineno-16-11 href=#__codelineno-16-11></a>        <span class=k>if</span> <span class=n>value</span> <span class=o>&lt;</span> <span class=mi>0</span><span class=p>:</span>
</span><span id=__span-16-12><a id=__codelineno-16-12 name=__codelineno-16-12 href=#__codelineno-16-12></a>            <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=s2>&quot;Radius cannot be negative&quot;</span><span class=p>)</span>
</span><span id=__span-16-13><a id=__codelineno-16-13 name=__codelineno-16-13 href=#__codelineno-16-13></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_radius</span> <span class=o>=</span> <span class=n>value</span>
</span><span id=__span-16-14><a id=__codelineno-16-14 name=__codelineno-16-14 href=#__codelineno-16-14></a>
</span><span id=__span-16-15><a id=__codelineno-16-15 name=__codelineno-16-15 href=#__codelineno-16-15></a><span class=c1># 使用</span>
</span><span id=__span-16-16><a id=__codelineno-16-16 name=__codelineno-16-16 href=#__codelineno-16-16></a><span class=n>c</span> <span class=o>=</span> <span class=n>Circle</span><span class=p>(</span><span class=mi>5</span><span class=p>)</span>
</span><span id=__span-16-17><a id=__codelineno-16-17 name=__codelineno-16-17 href=#__codelineno-16-17></a><span class=nb>print</span><span class=p>(</span><span class=n>c</span><span class=o>.</span><span class=n>radius</span><span class=p>)</span>  <span class=c1># 输出: 5</span>
</span><span id=__span-16-18><a id=__codelineno-16-18 name=__codelineno-16-18 href=#__codelineno-16-18></a>
</span><span id=__span-16-19><a id=__codelineno-16-19 name=__codelineno-16-19 href=#__codelineno-16-19></a><span class=n>c</span><span class=o>.</span><span class=n>radius</span> <span class=o>=</span> <span class=o>-</span><span class=mi>10</span>  <span class=c1># 抛出 ValueError: Radius cannot be negative</span>
</span></code></pre></div> <p>解释： </p> <ul> <li>这里 <code>radius</code> 被定义为一个属性，通过 setter 方法确保赋值的合法性。</li> <li>注意：在 <code>__init__</code> 中直接赋值 <code>self.radius</code> 会触发 setter 方法，因此可以确保初始值也是合法的。</li> </ul> <hr> <ol start=4> <li>计算属性 <br> <code>@property</code> 还可以用于定义计算属性，即属性的值是根据其他属性动态计算的。</li> </ol> <p>示例： <div class="language-python highlight"><pre><span></span><code><span id=__span-17-1><a id=__codelineno-17-1 name=__codelineno-17-1 href=#__codelineno-17-1></a><span class=k>class</span><span class=w> </span><span class=nc>Rectangle</span><span class=p>:</span>
</span><span id=__span-17-2><a id=__codelineno-17-2 name=__codelineno-17-2 href=#__codelineno-17-2></a>    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>width</span><span class=p>,</span> <span class=n>height</span><span class=p>):</span>
</span><span id=__span-17-3><a id=__codelineno-17-3 name=__codelineno-17-3 href=#__codelineno-17-3></a>        <span class=bp>self</span><span class=o>.</span><span class=n>width</span> <span class=o>=</span> <span class=n>width</span>
</span><span id=__span-17-4><a id=__codelineno-17-4 name=__codelineno-17-4 href=#__codelineno-17-4></a>        <span class=bp>self</span><span class=o>.</span><span class=n>height</span> <span class=o>=</span> <span class=n>height</span>
</span><span id=__span-17-5><a id=__codelineno-17-5 name=__codelineno-17-5 href=#__codelineno-17-5></a>
</span><span id=__span-17-6><a id=__codelineno-17-6 name=__codelineno-17-6 href=#__codelineno-17-6></a>    <span class=nd>@property</span>
</span><span id=__span-17-7><a id=__codelineno-17-7 name=__codelineno-17-7 href=#__codelineno-17-7></a>    <span class=k>def</span><span class=w> </span><span class=nf>area</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-17-8><a id=__codelineno-17-8 name=__codelineno-17-8 href=#__codelineno-17-8></a>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>width</span> <span class=o>*</span> <span class=bp>self</span><span class=o>.</span><span class=n>height</span>
</span><span id=__span-17-9><a id=__codelineno-17-9 name=__codelineno-17-9 href=#__codelineno-17-9></a>
</span><span id=__span-17-10><a id=__codelineno-17-10 name=__codelineno-17-10 href=#__codelineno-17-10></a><span class=c1># 使用</span>
</span><span id=__span-17-11><a id=__codelineno-17-11 name=__codelineno-17-11 href=#__codelineno-17-11></a><span class=n>r</span> <span class=o>=</span> <span class=n>Rectangle</span><span class=p>(</span><span class=mi>4</span><span class=p>,</span> <span class=mi>5</span><span class=p>)</span>
</span><span id=__span-17-12><a id=__codelineno-17-12 name=__codelineno-17-12 href=#__codelineno-17-12></a><span class=nb>print</span><span class=p>(</span><span class=n>r</span><span class=o>.</span><span class=n>area</span><span class=p>)</span>  <span class=c1># 输出: 20</span>
</span></code></pre></div></p> <p>解释：</p> <ul> <li><code>area</code> 是一个计算属性，它的值是根据 <code>width</code> 和 <code>height</code> 动态计算的。</li> <li>每次访问 <code>r.area</code> 时，都会重新计算。</li> </ul> <hr> <ol start=5> <li>优点</li> </ol> <ul> <li><strong>封装性</strong>：通过 <code>@property</code>，你可以隐藏内部实现细节，只暴露必要的接口。</li> <li><strong>灵活性</strong>：可以在属性访问、赋值和删除时添加额外的逻辑。</li> <li><strong>兼容性</strong>：可以将已有的方法转换为属性，而不需要修改外部调用代码。</li> </ul> <hr> <ol start=6> <li>注意事项</li> </ol> <ul> <li><strong>性能</strong>：如果 <code>@property</code> 方法的计算量很大，频繁访问可能会导致性能问题。在这种情况下，可以考虑缓存结果。</li> <li><strong>只读属性</strong>：如果没有定义 setter，那么属性是只读的，尝试赋值会抛出 <code>AttributeError</code>。</li> </ul> <details class=info> <summary>my try</summary> <div class="language-python highlight"><pre><span></span><code><span id=__span-18-1><a id=__codelineno-18-1 name=__codelineno-18-1 href=#__codelineno-18-1></a><span class=k>class</span><span class=w> </span><span class=nc>Article</span><span class=p>():</span>
</span><span id=__span-18-2><a id=__codelineno-18-2 name=__codelineno-18-2 href=#__codelineno-18-2></a>    <span class=n>language</span> <span class=o>=</span> <span class=s2>&quot;Chinese&quot;</span>
</span><span id=__span-18-3><a id=__codelineno-18-3 name=__codelineno-18-3 href=#__codelineno-18-3></a>    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>reads</span><span class=p>,</span> <span class=n>likes</span><span class=p>,</span> <span class=n>form</span><span class=p>,</span> <span class=n>theme</span><span class=p>,</span> <span class=n>platform</span><span class=p>):</span>
</span><span id=__span-18-4><a id=__codelineno-18-4 name=__codelineno-18-4 href=#__codelineno-18-4></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_reads</span> <span class=o>=</span> <span class=n>reads</span>
</span><span id=__span-18-5><a id=__codelineno-18-5 name=__codelineno-18-5 href=#__codelineno-18-5></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_likes</span> <span class=o>=</span> <span class=n>likes</span>
</span><span id=__span-18-6><a id=__codelineno-18-6 name=__codelineno-18-6 href=#__codelineno-18-6></a>        <span class=bp>self</span><span class=o>.</span><span class=n>form</span> <span class=o>=</span> <span class=n>form</span>
</span><span id=__span-18-7><a id=__codelineno-18-7 name=__codelineno-18-7 href=#__codelineno-18-7></a>        <span class=bp>self</span><span class=o>.</span><span class=n>theme</span> <span class=o>=</span> <span class=n>theme</span>
</span><span id=__span-18-8><a id=__codelineno-18-8 name=__codelineno-18-8 href=#__codelineno-18-8></a>        <span class=bp>self</span><span class=o>.</span><span class=n>platform</span> <span class=o>=</span> <span class=n>platform</span>
</span><span id=__span-18-9><a id=__codelineno-18-9 name=__codelineno-18-9 href=#__codelineno-18-9></a>
</span><span id=__span-18-10><a id=__codelineno-18-10 name=__codelineno-18-10 href=#__codelineno-18-10></a>    <span class=nd>@property</span>
</span><span id=__span-18-11><a id=__codelineno-18-11 name=__codelineno-18-11 href=#__codelineno-18-11></a>    <span class=k>def</span><span class=w> </span><span class=nf>proportion_of_likes</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-18-12><a id=__codelineno-18-12 name=__codelineno-18-12 href=#__codelineno-18-12></a>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_likes</span> <span class=o>/</span> <span class=bp>self</span><span class=o>.</span><span class=n>_reads</span>
</span><span id=__span-18-13><a id=__codelineno-18-13 name=__codelineno-18-13 href=#__codelineno-18-13></a>
</span><span id=__span-18-14><a id=__codelineno-18-14 name=__codelineno-18-14 href=#__codelineno-18-14></a>    <span class=nd>@property</span>
</span><span id=__span-18-15><a id=__codelineno-18-15 name=__codelineno-18-15 href=#__codelineno-18-15></a>    <span class=k>def</span><span class=w> </span><span class=nf>judge_form</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-18-16><a id=__codelineno-18-16 name=__codelineno-18-16 href=#__codelineno-18-16></a>        <span class=n>forms</span> <span class=o>=</span> <span class=p>[</span><span class=s2>&quot;video&quot;</span><span class=p>,</span> <span class=s2>&quot;character&quot;</span><span class=p>,</span> <span class=s2>&quot;film&quot;</span><span class=p>]</span>
</span><span id=__span-18-17><a id=__codelineno-18-17 name=__codelineno-18-17 href=#__codelineno-18-17></a>        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>form</span> <span class=ow>in</span> <span class=n>forms</span><span class=p>:</span>
</span><span id=__span-18-18><a id=__codelineno-18-18 name=__codelineno-18-18 href=#__codelineno-18-18></a>            <span class=n>index</span> <span class=o>=</span> <span class=n>forms</span><span class=o>.</span><span class=n>index</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>form</span><span class=p>)</span>
</span><span id=__span-18-19><a id=__codelineno-18-19 name=__codelineno-18-19 href=#__codelineno-18-19></a>        <span class=k>else</span><span class=p>:</span>
</span><span id=__span-18-20><a id=__codelineno-18-20 name=__codelineno-18-20 href=#__codelineno-18-20></a>            <span class=n>forms</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>form</span><span class=p>)</span>
</span><span id=__span-18-21><a id=__codelineno-18-21 name=__codelineno-18-21 href=#__codelineno-18-21></a>            <span class=n>index</span> <span class=o>=</span> <span class=n>forms</span><span class=o>.</span><span class=n>index</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>form</span><span class=p>)</span>
</span><span id=__span-18-22><a id=__codelineno-18-22 name=__codelineno-18-22 href=#__codelineno-18-22></a>        <span class=k>return</span> <span class=n>index</span>
</span><span id=__span-18-23><a id=__codelineno-18-23 name=__codelineno-18-23 href=#__codelineno-18-23></a>
</span><span id=__span-18-24><a id=__codelineno-18-24 name=__codelineno-18-24 href=#__codelineno-18-24></a>    <span class=nd>@property</span>
</span><span id=__span-18-25><a id=__codelineno-18-25 name=__codelineno-18-25 href=#__codelineno-18-25></a>    <span class=k>def</span><span class=w> </span><span class=nf>likes</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-18-26><a id=__codelineno-18-26 name=__codelineno-18-26 href=#__codelineno-18-26></a>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_likes</span>
</span><span id=__span-18-27><a id=__codelineno-18-27 name=__codelineno-18-27 href=#__codelineno-18-27></a>
</span><span id=__span-18-28><a id=__codelineno-18-28 name=__codelineno-18-28 href=#__codelineno-18-28></a>    <span class=nd>@likes</span><span class=o>.</span><span class=n>setter</span>
</span><span id=__span-18-29><a id=__codelineno-18-29 name=__codelineno-18-29 href=#__codelineno-18-29></a>    <span class=k>def</span><span class=w> </span><span class=nf>likes</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>cnt</span><span class=p>):</span>
</span><span id=__span-18-30><a id=__codelineno-18-30 name=__codelineno-18-30 href=#__codelineno-18-30></a>        <span class=k>if</span> <span class=n>cnt</span> <span class=o>&lt;</span> <span class=mi>0</span><span class=p>:</span>
</span><span id=__span-18-31><a id=__codelineno-18-31 name=__codelineno-18-31 href=#__codelineno-18-31></a>            <span class=k>raise</span> <span class=ne>ValueError</span>
</span><span id=__span-18-32><a id=__codelineno-18-32 name=__codelineno-18-32 href=#__codelineno-18-32></a>        <span class=k>else</span><span class=p>:</span>
</span><span id=__span-18-33><a id=__codelineno-18-33 name=__codelineno-18-33 href=#__codelineno-18-33></a>            <span class=bp>self</span><span class=o>.</span><span class=n>_likes</span> <span class=o>=</span> <span class=n>cnt</span>
</span><span id=__span-18-34><a id=__codelineno-18-34 name=__codelineno-18-34 href=#__codelineno-18-34></a>
</span><span id=__span-18-35><a id=__codelineno-18-35 name=__codelineno-18-35 href=#__codelineno-18-35></a>
</span><span id=__span-18-36><a id=__codelineno-18-36 name=__codelineno-18-36 href=#__codelineno-18-36></a><span class=k>class</span><span class=w> </span><span class=nc>xhs</span><span class=p>(</span><span class=n>Article</span><span class=p>):</span>
</span><span id=__span-18-37><a id=__codelineno-18-37 name=__codelineno-18-37 href=#__codelineno-18-37></a>    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>reads</span><span class=p>,</span> <span class=n>likes</span><span class=p>,</span> <span class=n>form</span><span class=p>,</span> <span class=n>theme</span><span class=p>,</span> <span class=n>platform</span> <span class=o>=</span> <span class=s2>&quot;xhs&quot;</span><span class=p>):</span>
</span><span id=__span-18-38><a id=__codelineno-18-38 name=__codelineno-18-38 href=#__codelineno-18-38></a>        <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__init__</span><span class=p>(</span><span class=n>reads</span><span class=p>,</span> <span class=n>likes</span><span class=p>,</span> <span class=n>form</span><span class=p>,</span> <span class=n>theme</span><span class=p>,</span> <span class=n>platform</span><span class=p>)</span>
</span><span id=__span-18-39><a id=__codelineno-18-39 name=__codelineno-18-39 href=#__codelineno-18-39></a>
</span><span id=__span-18-40><a id=__codelineno-18-40 name=__codelineno-18-40 href=#__codelineno-18-40></a><span class=k>class</span><span class=w> </span><span class=nc>gzh</span><span class=p>(</span><span class=n>Article</span><span class=p>):</span>
</span><span id=__span-18-41><a id=__codelineno-18-41 name=__codelineno-18-41 href=#__codelineno-18-41></a>    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>reads</span><span class=p>,</span> <span class=n>likes</span><span class=p>,</span> <span class=n>form</span><span class=p>,</span> <span class=n>theme</span><span class=p>,</span> <span class=n>platform</span> <span class=o>=</span> <span class=s2>&quot;wechat&quot;</span><span class=p>):</span>
</span><span id=__span-18-42><a id=__codelineno-18-42 name=__codelineno-18-42 href=#__codelineno-18-42></a>        <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__init__</span><span class=p>(</span><span class=n>reads</span><span class=p>,</span> <span class=n>likes</span><span class=p>,</span> <span class=n>form</span><span class=p>,</span> <span class=n>theme</span><span class=p>,</span> <span class=n>platform</span><span class=p>)</span>
</span><span id=__span-18-43><a id=__codelineno-18-43 name=__codelineno-18-43 href=#__codelineno-18-43></a>
</span><span id=__span-18-44><a id=__codelineno-18-44 name=__codelineno-18-44 href=#__codelineno-18-44></a>
</span><span id=__span-18-45><a id=__codelineno-18-45 name=__codelineno-18-45 href=#__codelineno-18-45></a><span class=n>art1</span> <span class=o>=</span> <span class=n>xhs</span><span class=p>(</span><span class=mi>5</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=s2>&quot;video&quot;</span><span class=p>,</span> <span class=s2>&quot;fun&quot;</span><span class=p>,</span> <span class=s2>&quot;xhs&quot;</span><span class=p>)</span>
</span><span id=__span-18-46><a id=__codelineno-18-46 name=__codelineno-18-46 href=#__codelineno-18-46></a><span class=n>art2</span> <span class=o>=</span> <span class=n>gzh</span><span class=p>(</span><span class=mi>10</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=s2>&quot;character&quot;</span><span class=p>,</span> <span class=s2>&quot;cs&quot;</span><span class=p>,</span> <span class=s2>&quot;wechat&quot;</span><span class=p>)</span>
</span><span id=__span-18-47><a id=__codelineno-18-47 name=__codelineno-18-47 href=#__codelineno-18-47></a><span class=n>art3</span> <span class=o>=</span> <span class=n>gzh</span><span class=p>(</span><span class=mi>14</span><span class=p>,</span> <span class=mi>5</span><span class=p>,</span> <span class=s2>&quot;hhh&quot;</span><span class=p>,</span> <span class=s2>&quot;hhh&quot;</span><span class=p>,</span> <span class=s2>&quot;wechat&quot;</span><span class=p>)</span>
</span><span id=__span-18-48><a id=__codelineno-18-48 name=__codelineno-18-48 href=#__codelineno-18-48></a>
</span><span id=__span-18-49><a id=__codelineno-18-49 name=__codelineno-18-49 href=#__codelineno-18-49></a><span class=nb>print</span><span class=p>(</span><span class=n>art3</span><span class=o>.</span><span class=n>judge_form</span><span class=p>)</span>
</span><span id=__span-18-50><a id=__codelineno-18-50 name=__codelineno-18-50 href=#__codelineno-18-50></a><span class=nb>print</span><span class=p>(</span><span class=n>art2</span><span class=o>.</span><span class=n>proportion_of_likes</span><span class=p>)</span>
</span><span id=__span-18-51><a id=__codelineno-18-51 name=__codelineno-18-51 href=#__codelineno-18-51></a><span class=nb>print</span><span class=p>(</span><span class=n>art1</span><span class=o>.</span><span class=n>proportion_of_likes</span><span class=p>)</span>
</span><span id=__span-18-52><a id=__codelineno-18-52 name=__codelineno-18-52 href=#__codelineno-18-52></a><span class=n>art1</span><span class=o>.</span><span class=n>likes</span> <span class=o>=</span> <span class=mi>2</span>
</span><span id=__span-18-53><a id=__codelineno-18-53 name=__codelineno-18-53 href=#__codelineno-18-53></a><span class=nb>print</span><span class=p>(</span><span class=n>art1</span><span class=o>.</span><span class=n>proportion_of_likes</span><span class=p>)</span>
</span></code></pre></div> </details> <div class="language-Python highlight"><pre><span></span><code><span id=__span-19-1><a id=__codelineno-19-1 name=__codelineno-19-1 href=#__codelineno-19-1></a><span class=k>class</span><span class=w> </span><span class=nc>Person</span><span class=p>(</span><span class=nb>object</span><span class=p>):</span>
</span><span id=__span-19-2><a id=__codelineno-19-2 name=__codelineno-19-2 href=#__codelineno-19-2></a>
</span><span id=__span-19-3><a id=__codelineno-19-3 name=__codelineno-19-3 href=#__codelineno-19-3></a>    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>age</span><span class=p>):</span>
</span><span id=__span-19-4><a id=__codelineno-19-4 name=__codelineno-19-4 href=#__codelineno-19-4></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_name</span> <span class=o>=</span> <span class=n>name</span>
</span><span id=__span-19-5><a id=__codelineno-19-5 name=__codelineno-19-5 href=#__codelineno-19-5></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_age</span> <span class=o>=</span> <span class=n>age</span>
</span><span id=__span-19-6><a id=__codelineno-19-6 name=__codelineno-19-6 href=#__codelineno-19-6></a>
</span><span id=__span-19-7><a id=__codelineno-19-7 name=__codelineno-19-7 href=#__codelineno-19-7></a>    <span class=c1># 访问器 - getter方法</span>
</span><span id=__span-19-8><a id=__codelineno-19-8 name=__codelineno-19-8 href=#__codelineno-19-8></a>    <span class=nd>@property</span>
</span><span id=__span-19-9><a id=__codelineno-19-9 name=__codelineno-19-9 href=#__codelineno-19-9></a>    <span class=k>def</span><span class=w> </span><span class=nf>name</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-19-10><a id=__codelineno-19-10 name=__codelineno-19-10 href=#__codelineno-19-10></a>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_name</span>
</span><span id=__span-19-11><a id=__codelineno-19-11 name=__codelineno-19-11 href=#__codelineno-19-11></a>
</span><span id=__span-19-12><a id=__codelineno-19-12 name=__codelineno-19-12 href=#__codelineno-19-12></a>    <span class=c1># 访问器 - getter方法</span>
</span><span id=__span-19-13><a id=__codelineno-19-13 name=__codelineno-19-13 href=#__codelineno-19-13></a>    <span class=nd>@property</span>
</span><span id=__span-19-14><a id=__codelineno-19-14 name=__codelineno-19-14 href=#__codelineno-19-14></a>    <span class=k>def</span><span class=w> </span><span class=nf>age</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-19-15><a id=__codelineno-19-15 name=__codelineno-19-15 href=#__codelineno-19-15></a>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_age</span>
</span><span id=__span-19-16><a id=__codelineno-19-16 name=__codelineno-19-16 href=#__codelineno-19-16></a>
</span><span id=__span-19-17><a id=__codelineno-19-17 name=__codelineno-19-17 href=#__codelineno-19-17></a>    <span class=c1># 修改器 - setter方法</span>
</span><span id=__span-19-18><a id=__codelineno-19-18 name=__codelineno-19-18 href=#__codelineno-19-18></a>    <span class=nd>@age</span><span class=o>.</span><span class=n>setter</span>
</span><span id=__span-19-19><a id=__codelineno-19-19 name=__codelineno-19-19 href=#__codelineno-19-19></a>    <span class=k>def</span><span class=w> </span><span class=nf>age</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>age</span><span class=p>):</span>
</span><span id=__span-19-20><a id=__codelineno-19-20 name=__codelineno-19-20 href=#__codelineno-19-20></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_age</span> <span class=o>=</span> <span class=n>age</span>
</span><span id=__span-19-21><a id=__codelineno-19-21 name=__codelineno-19-21 href=#__codelineno-19-21></a>
</span><span id=__span-19-22><a id=__codelineno-19-22 name=__codelineno-19-22 href=#__codelineno-19-22></a>    <span class=k>def</span><span class=w> </span><span class=nf>play</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-19-23><a id=__codelineno-19-23 name=__codelineno-19-23 href=#__codelineno-19-23></a>        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_age</span> <span class=o>&lt;=</span> <span class=mi>16</span><span class=p>:</span>
</span><span id=__span-19-24><a id=__codelineno-19-24 name=__codelineno-19-24 href=#__codelineno-19-24></a>            <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;</span><span class=si>%s</span><span class=s1>正在玩飞行棋.&#39;</span> <span class=o>%</span> <span class=bp>self</span><span class=o>.</span><span class=n>_name</span><span class=p>)</span>
</span><span id=__span-19-25><a id=__codelineno-19-25 name=__codelineno-19-25 href=#__codelineno-19-25></a>        <span class=k>else</span><span class=p>:</span>
</span><span id=__span-19-26><a id=__codelineno-19-26 name=__codelineno-19-26 href=#__codelineno-19-26></a>            <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;</span><span class=si>%s</span><span class=s1>正在玩斗地主.&#39;</span> <span class=o>%</span> <span class=bp>self</span><span class=o>.</span><span class=n>_name</span><span class=p>)</span>
</span><span id=__span-19-27><a id=__codelineno-19-27 name=__codelineno-19-27 href=#__codelineno-19-27></a>
</span><span id=__span-19-28><a id=__codelineno-19-28 name=__codelineno-19-28 href=#__codelineno-19-28></a>
</span><span id=__span-19-29><a id=__codelineno-19-29 name=__codelineno-19-29 href=#__codelineno-19-29></a><span class=k>def</span><span class=w> </span><span class=nf>main</span><span class=p>():</span>
</span><span id=__span-19-30><a id=__codelineno-19-30 name=__codelineno-19-30 href=#__codelineno-19-30></a>    <span class=n>person</span> <span class=o>=</span> <span class=n>Person</span><span class=p>(</span><span class=s1>&#39;王大锤&#39;</span><span class=p>,</span> <span class=mi>12</span><span class=p>)</span>
</span><span id=__span-19-31><a id=__codelineno-19-31 name=__codelineno-19-31 href=#__codelineno-19-31></a>    <span class=n>person</span><span class=o>.</span><span class=n>play</span><span class=p>()</span>
</span><span id=__span-19-32><a id=__codelineno-19-32 name=__codelineno-19-32 href=#__codelineno-19-32></a>    <span class=n>person</span><span class=o>.</span><span class=n>age</span> <span class=o>=</span> <span class=mi>22</span>
</span><span id=__span-19-33><a id=__codelineno-19-33 name=__codelineno-19-33 href=#__codelineno-19-33></a>    <span class=n>person</span><span class=o>.</span><span class=n>play</span><span class=p>()</span>
</span><span id=__span-19-34><a id=__codelineno-19-34 name=__codelineno-19-34 href=#__codelineno-19-34></a>    <span class=c1># person.name = &#39;白元芳&#39;  # AttributeError: can&#39;t set attribute</span>
</span><span id=__span-19-35><a id=__codelineno-19-35 name=__codelineno-19-35 href=#__codelineno-19-35></a>
</span><span id=__span-19-36><a id=__codelineno-19-36 name=__codelineno-19-36 href=#__codelineno-19-36></a>
</span><span id=__span-19-37><a id=__codelineno-19-37 name=__codelineno-19-37 href=#__codelineno-19-37></a><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s1>&#39;__main__&#39;</span><span class=p>:</span>
</span><span id=__span-19-38><a id=__codelineno-19-38 name=__codelineno-19-38 href=#__codelineno-19-38></a>    <span class=n>main</span><span class=p>()</span>
</span></code></pre></div> <h3 id=__slots__>__slots__魔法<a class=headerlink href=#__slots__ title="Permanent link">&para;</a></h3> <p>我们讲到这里，不知道大家是否已经意识到，Python是一门<a href=https://zh.wikipedia.org/wiki/%E5%8A%A8%E6%80%81%E8%AF%AD%E8%A8%80>动态语言</a>。通常，动态语言允许我们在程序运行时给对象绑定新的属性或方法，当然也可以对已经绑定的属性和方法进行解绑定。但是如果我们需要限定自定义类型的对象只能绑定某些属性，可以通过在类中定义__slots__变量来进行限定。需要注意的是__slots__的限定只对当前类的对象生效，对子类并不起任何作用。</p> <div class="language-Python highlight"><pre><span></span><code><span id=__span-20-1><a id=__codelineno-20-1 name=__codelineno-20-1 href=#__codelineno-20-1></a><span class=k>class</span><span class=w> </span><span class=nc>Person</span><span class=p>(</span><span class=nb>object</span><span class=p>):</span>
</span><span id=__span-20-2><a id=__codelineno-20-2 name=__codelineno-20-2 href=#__codelineno-20-2></a>
</span><span id=__span-20-3><a id=__codelineno-20-3 name=__codelineno-20-3 href=#__codelineno-20-3></a>    <span class=c1># 限定Person对象只能绑定_name, _age和_gender属性</span>
</span><span id=__span-20-4><a id=__codelineno-20-4 name=__codelineno-20-4 href=#__codelineno-20-4></a>    <span class=vm>__slots__</span> <span class=o>=</span> <span class=p>(</span><span class=s1>&#39;_name&#39;</span><span class=p>,</span> <span class=s1>&#39;_age&#39;</span><span class=p>,</span> <span class=s1>&#39;_gender&#39;</span><span class=p>)</span>
</span><span id=__span-20-5><a id=__codelineno-20-5 name=__codelineno-20-5 href=#__codelineno-20-5></a>
</span><span id=__span-20-6><a id=__codelineno-20-6 name=__codelineno-20-6 href=#__codelineno-20-6></a>    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>age</span><span class=p>):</span>
</span><span id=__span-20-7><a id=__codelineno-20-7 name=__codelineno-20-7 href=#__codelineno-20-7></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_name</span> <span class=o>=</span> <span class=n>name</span>
</span><span id=__span-20-8><a id=__codelineno-20-8 name=__codelineno-20-8 href=#__codelineno-20-8></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_age</span> <span class=o>=</span> <span class=n>age</span>
</span><span id=__span-20-9><a id=__codelineno-20-9 name=__codelineno-20-9 href=#__codelineno-20-9></a>
</span><span id=__span-20-10><a id=__codelineno-20-10 name=__codelineno-20-10 href=#__codelineno-20-10></a>    <span class=nd>@property</span>
</span><span id=__span-20-11><a id=__codelineno-20-11 name=__codelineno-20-11 href=#__codelineno-20-11></a>    <span class=k>def</span><span class=w> </span><span class=nf>name</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-20-12><a id=__codelineno-20-12 name=__codelineno-20-12 href=#__codelineno-20-12></a>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_name</span>
</span><span id=__span-20-13><a id=__codelineno-20-13 name=__codelineno-20-13 href=#__codelineno-20-13></a>
</span><span id=__span-20-14><a id=__codelineno-20-14 name=__codelineno-20-14 href=#__codelineno-20-14></a>    <span class=nd>@property</span>
</span><span id=__span-20-15><a id=__codelineno-20-15 name=__codelineno-20-15 href=#__codelineno-20-15></a>    <span class=k>def</span><span class=w> </span><span class=nf>age</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-20-16><a id=__codelineno-20-16 name=__codelineno-20-16 href=#__codelineno-20-16></a>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_age</span>
</span><span id=__span-20-17><a id=__codelineno-20-17 name=__codelineno-20-17 href=#__codelineno-20-17></a>
</span><span id=__span-20-18><a id=__codelineno-20-18 name=__codelineno-20-18 href=#__codelineno-20-18></a>    <span class=nd>@age</span><span class=o>.</span><span class=n>setter</span>
</span><span id=__span-20-19><a id=__codelineno-20-19 name=__codelineno-20-19 href=#__codelineno-20-19></a>    <span class=k>def</span><span class=w> </span><span class=nf>age</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>age</span><span class=p>):</span>
</span><span id=__span-20-20><a id=__codelineno-20-20 name=__codelineno-20-20 href=#__codelineno-20-20></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_age</span> <span class=o>=</span> <span class=n>age</span>
</span><span id=__span-20-21><a id=__codelineno-20-21 name=__codelineno-20-21 href=#__codelineno-20-21></a>
</span><span id=__span-20-22><a id=__codelineno-20-22 name=__codelineno-20-22 href=#__codelineno-20-22></a>    <span class=k>def</span><span class=w> </span><span class=nf>play</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-20-23><a id=__codelineno-20-23 name=__codelineno-20-23 href=#__codelineno-20-23></a>        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_age</span> <span class=o>&lt;=</span> <span class=mi>16</span><span class=p>:</span>
</span><span id=__span-20-24><a id=__codelineno-20-24 name=__codelineno-20-24 href=#__codelineno-20-24></a>            <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;</span><span class=si>%s</span><span class=s1>正在玩飞行棋.&#39;</span> <span class=o>%</span> <span class=bp>self</span><span class=o>.</span><span class=n>_name</span><span class=p>)</span>
</span><span id=__span-20-25><a id=__codelineno-20-25 name=__codelineno-20-25 href=#__codelineno-20-25></a>        <span class=k>else</span><span class=p>:</span>
</span><span id=__span-20-26><a id=__codelineno-20-26 name=__codelineno-20-26 href=#__codelineno-20-26></a>            <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;</span><span class=si>%s</span><span class=s1>正在玩斗地主.&#39;</span> <span class=o>%</span> <span class=bp>self</span><span class=o>.</span><span class=n>_name</span><span class=p>)</span>
</span><span id=__span-20-27><a id=__codelineno-20-27 name=__codelineno-20-27 href=#__codelineno-20-27></a>
</span><span id=__span-20-28><a id=__codelineno-20-28 name=__codelineno-20-28 href=#__codelineno-20-28></a>
</span><span id=__span-20-29><a id=__codelineno-20-29 name=__codelineno-20-29 href=#__codelineno-20-29></a><span class=k>def</span><span class=w> </span><span class=nf>main</span><span class=p>():</span>
</span><span id=__span-20-30><a id=__codelineno-20-30 name=__codelineno-20-30 href=#__codelineno-20-30></a>    <span class=n>person</span> <span class=o>=</span> <span class=n>Person</span><span class=p>(</span><span class=s1>&#39;王大锤&#39;</span><span class=p>,</span> <span class=mi>22</span><span class=p>)</span>
</span><span id=__span-20-31><a id=__codelineno-20-31 name=__codelineno-20-31 href=#__codelineno-20-31></a>    <span class=n>person</span><span class=o>.</span><span class=n>play</span><span class=p>()</span>
</span><span id=__span-20-32><a id=__codelineno-20-32 name=__codelineno-20-32 href=#__codelineno-20-32></a>    <span class=n>person</span><span class=o>.</span><span class=n>_gender</span> <span class=o>=</span> <span class=s1>&#39;男&#39;</span>
</span><span id=__span-20-33><a id=__codelineno-20-33 name=__codelineno-20-33 href=#__codelineno-20-33></a>    <span class=c1># AttributeError: &#39;Person&#39; object has no attribute &#39;_is_gay&#39;</span>
</span><span id=__span-20-34><a id=__codelineno-20-34 name=__codelineno-20-34 href=#__codelineno-20-34></a>    <span class=c1># person._is_gay = True</span>
</span></code></pre></div> <h3 id=_10>静态方法和类方法<a class=headerlink href=#_10 title="Permanent link">&para;</a></h3> <p>之前，我们在类中定义的方法都是对象方法，也就是说这些方法都是发送给对象的消息。实际上，我们写在类中的方法并不需要都是对象方法，例如我们定义一个“三角形”类，通过传入三条边长来构造三角形，并提供计算周长和面积的方法，但是传入的三条边长未必能构造出三角形对象，因此我们可以先写一个方法来验证三条边长是否可以构成三角形，这个方法很显然就不是对象方法，因为在调用这个方法时三角形对象尚未创建出来（因为都不知道三条边能不能构成三角形），所以这个方法是属于三角形类而并不属于三角形对象的。我们可以使用静态方法来解决这类问题，代码如下所示。</p> <div class="language-Python highlight"><pre><span></span><code><span id=__span-21-1><a id=__codelineno-21-1 name=__codelineno-21-1 href=#__codelineno-21-1></a><span class=kn>from</span><span class=w> </span><span class=nn>math</span><span class=w> </span><span class=kn>import</span> <span class=n>sqrt</span>
</span><span id=__span-21-2><a id=__codelineno-21-2 name=__codelineno-21-2 href=#__codelineno-21-2></a>
</span><span id=__span-21-3><a id=__codelineno-21-3 name=__codelineno-21-3 href=#__codelineno-21-3></a>
</span><span id=__span-21-4><a id=__codelineno-21-4 name=__codelineno-21-4 href=#__codelineno-21-4></a><span class=k>class</span><span class=w> </span><span class=nc>Triangle</span><span class=p>(</span><span class=nb>object</span><span class=p>):</span>
</span><span id=__span-21-5><a id=__codelineno-21-5 name=__codelineno-21-5 href=#__codelineno-21-5></a>
</span><span id=__span-21-6><a id=__codelineno-21-6 name=__codelineno-21-6 href=#__codelineno-21-6></a>    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>,</span> <span class=n>c</span><span class=p>):</span>
</span><span id=__span-21-7><a id=__codelineno-21-7 name=__codelineno-21-7 href=#__codelineno-21-7></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_a</span> <span class=o>=</span> <span class=n>a</span>
</span><span id=__span-21-8><a id=__codelineno-21-8 name=__codelineno-21-8 href=#__codelineno-21-8></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_b</span> <span class=o>=</span> <span class=n>b</span>
</span><span id=__span-21-9><a id=__codelineno-21-9 name=__codelineno-21-9 href=#__codelineno-21-9></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_c</span> <span class=o>=</span> <span class=n>c</span>
</span><span id=__span-21-10><a id=__codelineno-21-10 name=__codelineno-21-10 href=#__codelineno-21-10></a>
</span><span id=__span-21-11><a id=__codelineno-21-11 name=__codelineno-21-11 href=#__codelineno-21-11></a>    <span class=nd>@staticmethod</span>
</span><span id=__span-21-12><a id=__codelineno-21-12 name=__codelineno-21-12 href=#__codelineno-21-12></a>    <span class=k>def</span><span class=w> </span><span class=nf>is_valid</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>,</span> <span class=n>c</span><span class=p>):</span>
</span><span id=__span-21-13><a id=__codelineno-21-13 name=__codelineno-21-13 href=#__codelineno-21-13></a>        <span class=k>return</span> <span class=n>a</span> <span class=o>+</span> <span class=n>b</span> <span class=o>&gt;</span> <span class=n>c</span> <span class=ow>and</span> <span class=n>b</span> <span class=o>+</span> <span class=n>c</span> <span class=o>&gt;</span> <span class=n>a</span> <span class=ow>and</span> <span class=n>a</span> <span class=o>+</span> <span class=n>c</span> <span class=o>&gt;</span> <span class=n>b</span>
</span><span id=__span-21-14><a id=__codelineno-21-14 name=__codelineno-21-14 href=#__codelineno-21-14></a>
</span><span id=__span-21-15><a id=__codelineno-21-15 name=__codelineno-21-15 href=#__codelineno-21-15></a>    <span class=k>def</span><span class=w> </span><span class=nf>perimeter</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-21-16><a id=__codelineno-21-16 name=__codelineno-21-16 href=#__codelineno-21-16></a>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_a</span> <span class=o>+</span> <span class=bp>self</span><span class=o>.</span><span class=n>_b</span> <span class=o>+</span> <span class=bp>self</span><span class=o>.</span><span class=n>_c</span>
</span><span id=__span-21-17><a id=__codelineno-21-17 name=__codelineno-21-17 href=#__codelineno-21-17></a>
</span><span id=__span-21-18><a id=__codelineno-21-18 name=__codelineno-21-18 href=#__codelineno-21-18></a>    <span class=k>def</span><span class=w> </span><span class=nf>area</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-21-19><a id=__codelineno-21-19 name=__codelineno-21-19 href=#__codelineno-21-19></a>        <span class=n>half</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>perimeter</span><span class=p>()</span> <span class=o>/</span> <span class=mi>2</span>
</span><span id=__span-21-20><a id=__codelineno-21-20 name=__codelineno-21-20 href=#__codelineno-21-20></a>        <span class=k>return</span> <span class=n>sqrt</span><span class=p>(</span><span class=n>half</span> <span class=o>*</span> <span class=p>(</span><span class=n>half</span> <span class=o>-</span> <span class=bp>self</span><span class=o>.</span><span class=n>_a</span><span class=p>)</span> <span class=o>*</span>
</span><span id=__span-21-21><a id=__codelineno-21-21 name=__codelineno-21-21 href=#__codelineno-21-21></a>                    <span class=p>(</span><span class=n>half</span> <span class=o>-</span> <span class=bp>self</span><span class=o>.</span><span class=n>_b</span><span class=p>)</span> <span class=o>*</span> <span class=p>(</span><span class=n>half</span> <span class=o>-</span> <span class=bp>self</span><span class=o>.</span><span class=n>_c</span><span class=p>))</span>
</span><span id=__span-21-22><a id=__codelineno-21-22 name=__codelineno-21-22 href=#__codelineno-21-22></a>
</span><span id=__span-21-23><a id=__codelineno-21-23 name=__codelineno-21-23 href=#__codelineno-21-23></a>
</span><span id=__span-21-24><a id=__codelineno-21-24 name=__codelineno-21-24 href=#__codelineno-21-24></a><span class=k>def</span><span class=w> </span><span class=nf>main</span><span class=p>():</span>
</span><span id=__span-21-25><a id=__codelineno-21-25 name=__codelineno-21-25 href=#__codelineno-21-25></a>    <span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>,</span> <span class=n>c</span> <span class=o>=</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=mi>5</span>
</span><span id=__span-21-26><a id=__codelineno-21-26 name=__codelineno-21-26 href=#__codelineno-21-26></a>    <span class=c1># 静态方法和类方法都是通过给类发消息来调用的</span>
</span><span id=__span-21-27><a id=__codelineno-21-27 name=__codelineno-21-27 href=#__codelineno-21-27></a>    <span class=k>if</span> <span class=n>Triangle</span><span class=o>.</span><span class=n>is_valid</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>,</span> <span class=n>c</span><span class=p>):</span>
</span><span id=__span-21-28><a id=__codelineno-21-28 name=__codelineno-21-28 href=#__codelineno-21-28></a>        <span class=n>t</span> <span class=o>=</span> <span class=n>Triangle</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>,</span> <span class=n>c</span><span class=p>)</span>
</span><span id=__span-21-29><a id=__codelineno-21-29 name=__codelineno-21-29 href=#__codelineno-21-29></a>        <span class=nb>print</span><span class=p>(</span><span class=n>t</span><span class=o>.</span><span class=n>perimeter</span><span class=p>())</span>
</span><span id=__span-21-30><a id=__codelineno-21-30 name=__codelineno-21-30 href=#__codelineno-21-30></a>        <span class=c1># 也可以通过给类发消息来调用对象方法但是要传入接收消息的对象作为参数</span>
</span><span id=__span-21-31><a id=__codelineno-21-31 name=__codelineno-21-31 href=#__codelineno-21-31></a>        <span class=c1># print(Triangle.perimeter(t))</span>
</span><span id=__span-21-32><a id=__codelineno-21-32 name=__codelineno-21-32 href=#__codelineno-21-32></a>        <span class=nb>print</span><span class=p>(</span><span class=n>t</span><span class=o>.</span><span class=n>area</span><span class=p>())</span>
</span><span id=__span-21-33><a id=__codelineno-21-33 name=__codelineno-21-33 href=#__codelineno-21-33></a>        <span class=c1># print(Triangle.area(t))</span>
</span><span id=__span-21-34><a id=__codelineno-21-34 name=__codelineno-21-34 href=#__codelineno-21-34></a>    <span class=k>else</span><span class=p>:</span>
</span><span id=__span-21-35><a id=__codelineno-21-35 name=__codelineno-21-35 href=#__codelineno-21-35></a>        <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;无法构成三角形.&#39;</span><span class=p>)</span>
</span><span id=__span-21-36><a id=__codelineno-21-36 name=__codelineno-21-36 href=#__codelineno-21-36></a>
</span><span id=__span-21-37><a id=__codelineno-21-37 name=__codelineno-21-37 href=#__codelineno-21-37></a>
</span><span id=__span-21-38><a id=__codelineno-21-38 name=__codelineno-21-38 href=#__codelineno-21-38></a><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s1>&#39;__main__&#39;</span><span class=p>:</span>
</span><span id=__span-21-39><a id=__codelineno-21-39 name=__codelineno-21-39 href=#__codelineno-21-39></a>    <span class=n>main</span><span class=p>()</span>
</span></code></pre></div> <p>和静态方法比较类似，Python还可以在类中定义类方法，类方法的第一个参数约定名为cls，它代表的是当前类相关的信息的对象（类本身也是一个对象，有的地方也称之为类的元数据对象），通过这个参数我们可以获取和类相关的信息并且可以创建出类的对象，代码如下所示。</p> <div class="language-Python highlight"><pre><span></span><code><span id=__span-22-1><a id=__codelineno-22-1 name=__codelineno-22-1 href=#__codelineno-22-1></a><span class=kn>from</span><span class=w> </span><span class=nn>time</span><span class=w> </span><span class=kn>import</span> <span class=n>time</span><span class=p>,</span> <span class=n>localtime</span><span class=p>,</span> <span class=n>sleep</span>
</span><span id=__span-22-2><a id=__codelineno-22-2 name=__codelineno-22-2 href=#__codelineno-22-2></a>
</span><span id=__span-22-3><a id=__codelineno-22-3 name=__codelineno-22-3 href=#__codelineno-22-3></a>
</span><span id=__span-22-4><a id=__codelineno-22-4 name=__codelineno-22-4 href=#__codelineno-22-4></a><span class=k>class</span><span class=w> </span><span class=nc>Clock</span><span class=p>(</span><span class=nb>object</span><span class=p>):</span>
</span><span id=__span-22-5><a id=__codelineno-22-5 name=__codelineno-22-5 href=#__codelineno-22-5></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;数字时钟&quot;&quot;&quot;</span>
</span><span id=__span-22-6><a id=__codelineno-22-6 name=__codelineno-22-6 href=#__codelineno-22-6></a>
</span><span id=__span-22-7><a id=__codelineno-22-7 name=__codelineno-22-7 href=#__codelineno-22-7></a>    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>hour</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=n>minute</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=n>second</span><span class=o>=</span><span class=mi>0</span><span class=p>):</span>
</span><span id=__span-22-8><a id=__codelineno-22-8 name=__codelineno-22-8 href=#__codelineno-22-8></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_hour</span> <span class=o>=</span> <span class=n>hour</span>
</span><span id=__span-22-9><a id=__codelineno-22-9 name=__codelineno-22-9 href=#__codelineno-22-9></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_minute</span> <span class=o>=</span> <span class=n>minute</span>
</span><span id=__span-22-10><a id=__codelineno-22-10 name=__codelineno-22-10 href=#__codelineno-22-10></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_second</span> <span class=o>=</span> <span class=n>second</span>
</span><span id=__span-22-11><a id=__codelineno-22-11 name=__codelineno-22-11 href=#__codelineno-22-11></a>
</span><span id=__span-22-12><a id=__codelineno-22-12 name=__codelineno-22-12 href=#__codelineno-22-12></a>    <span class=nd>@classmethod</span>
</span><span id=__span-22-13><a id=__codelineno-22-13 name=__codelineno-22-13 href=#__codelineno-22-13></a>    <span class=k>def</span><span class=w> </span><span class=nf>now</span><span class=p>(</span><span class=bp>cls</span><span class=p>):</span>
</span><span id=__span-22-14><a id=__codelineno-22-14 name=__codelineno-22-14 href=#__codelineno-22-14></a>        <span class=n>ctime</span> <span class=o>=</span> <span class=n>localtime</span><span class=p>(</span><span class=n>time</span><span class=p>())</span>
</span><span id=__span-22-15><a id=__codelineno-22-15 name=__codelineno-22-15 href=#__codelineno-22-15></a>        <span class=k>return</span> <span class=bp>cls</span><span class=p>(</span><span class=n>ctime</span><span class=o>.</span><span class=n>tm_hour</span><span class=p>,</span> <span class=n>ctime</span><span class=o>.</span><span class=n>tm_min</span><span class=p>,</span> <span class=n>ctime</span><span class=o>.</span><span class=n>tm_sec</span><span class=p>)</span>
</span><span id=__span-22-16><a id=__codelineno-22-16 name=__codelineno-22-16 href=#__codelineno-22-16></a>
</span><span id=__span-22-17><a id=__codelineno-22-17 name=__codelineno-22-17 href=#__codelineno-22-17></a>    <span class=k>def</span><span class=w> </span><span class=nf>run</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-22-18><a id=__codelineno-22-18 name=__codelineno-22-18 href=#__codelineno-22-18></a><span class=w>        </span><span class=sd>&quot;&quot;&quot;走字&quot;&quot;&quot;</span>
</span><span id=__span-22-19><a id=__codelineno-22-19 name=__codelineno-22-19 href=#__codelineno-22-19></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_second</span> <span class=o>+=</span> <span class=mi>1</span>
</span><span id=__span-22-20><a id=__codelineno-22-20 name=__codelineno-22-20 href=#__codelineno-22-20></a>        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_second</span> <span class=o>==</span> <span class=mi>60</span><span class=p>:</span>
</span><span id=__span-22-21><a id=__codelineno-22-21 name=__codelineno-22-21 href=#__codelineno-22-21></a>            <span class=bp>self</span><span class=o>.</span><span class=n>_second</span> <span class=o>=</span> <span class=mi>0</span>
</span><span id=__span-22-22><a id=__codelineno-22-22 name=__codelineno-22-22 href=#__codelineno-22-22></a>            <span class=bp>self</span><span class=o>.</span><span class=n>_minute</span> <span class=o>+=</span> <span class=mi>1</span>
</span><span id=__span-22-23><a id=__codelineno-22-23 name=__codelineno-22-23 href=#__codelineno-22-23></a>            <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_minute</span> <span class=o>==</span> <span class=mi>60</span><span class=p>:</span>
</span><span id=__span-22-24><a id=__codelineno-22-24 name=__codelineno-22-24 href=#__codelineno-22-24></a>                <span class=bp>self</span><span class=o>.</span><span class=n>_minute</span> <span class=o>=</span> <span class=mi>0</span>
</span><span id=__span-22-25><a id=__codelineno-22-25 name=__codelineno-22-25 href=#__codelineno-22-25></a>                <span class=bp>self</span><span class=o>.</span><span class=n>_hour</span> <span class=o>+=</span> <span class=mi>1</span>
</span><span id=__span-22-26><a id=__codelineno-22-26 name=__codelineno-22-26 href=#__codelineno-22-26></a>                <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_hour</span> <span class=o>==</span> <span class=mi>24</span><span class=p>:</span>
</span><span id=__span-22-27><a id=__codelineno-22-27 name=__codelineno-22-27 href=#__codelineno-22-27></a>                    <span class=bp>self</span><span class=o>.</span><span class=n>_hour</span> <span class=o>=</span> <span class=mi>0</span>
</span><span id=__span-22-28><a id=__codelineno-22-28 name=__codelineno-22-28 href=#__codelineno-22-28></a>
</span><span id=__span-22-29><a id=__codelineno-22-29 name=__codelineno-22-29 href=#__codelineno-22-29></a>    <span class=k>def</span><span class=w> </span><span class=nf>show</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-22-30><a id=__codelineno-22-30 name=__codelineno-22-30 href=#__codelineno-22-30></a><span class=w>        </span><span class=sd>&quot;&quot;&quot;显示时间&quot;&quot;&quot;</span>
</span><span id=__span-22-31><a id=__codelineno-22-31 name=__codelineno-22-31 href=#__codelineno-22-31></a>        <span class=k>return</span> <span class=s1>&#39;</span><span class=si>%02d</span><span class=s1>:</span><span class=si>%02d</span><span class=s1>:</span><span class=si>%02d</span><span class=s1>&#39;</span> <span class=o>%</span> \
</span><span id=__span-22-32><a id=__codelineno-22-32 name=__codelineno-22-32 href=#__codelineno-22-32></a>               <span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_hour</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>_minute</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>_second</span><span class=p>)</span>
</span><span id=__span-22-33><a id=__codelineno-22-33 name=__codelineno-22-33 href=#__codelineno-22-33></a>
</span><span id=__span-22-34><a id=__codelineno-22-34 name=__codelineno-22-34 href=#__codelineno-22-34></a>
</span><span id=__span-22-35><a id=__codelineno-22-35 name=__codelineno-22-35 href=#__codelineno-22-35></a><span class=k>def</span><span class=w> </span><span class=nf>main</span><span class=p>():</span>
</span><span id=__span-22-36><a id=__codelineno-22-36 name=__codelineno-22-36 href=#__codelineno-22-36></a>    <span class=c1># 通过类方法创建对象并获取系统时间</span>
</span><span id=__span-22-37><a id=__codelineno-22-37 name=__codelineno-22-37 href=#__codelineno-22-37></a>    <span class=n>clock</span> <span class=o>=</span> <span class=n>Clock</span><span class=o>.</span><span class=n>now</span><span class=p>()</span>
</span><span id=__span-22-38><a id=__codelineno-22-38 name=__codelineno-22-38 href=#__codelineno-22-38></a>    <span class=k>while</span> <span class=kc>True</span><span class=p>:</span>
</span><span id=__span-22-39><a id=__codelineno-22-39 name=__codelineno-22-39 href=#__codelineno-22-39></a>        <span class=nb>print</span><span class=p>(</span><span class=n>clock</span><span class=o>.</span><span class=n>show</span><span class=p>())</span>
</span><span id=__span-22-40><a id=__codelineno-22-40 name=__codelineno-22-40 href=#__codelineno-22-40></a>        <span class=n>sleep</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
</span><span id=__span-22-41><a id=__codelineno-22-41 name=__codelineno-22-41 href=#__codelineno-22-41></a>        <span class=n>clock</span><span class=o>.</span><span class=n>run</span><span class=p>()</span>
</span><span id=__span-22-42><a id=__codelineno-22-42 name=__codelineno-22-42 href=#__codelineno-22-42></a>
</span><span id=__span-22-43><a id=__codelineno-22-43 name=__codelineno-22-43 href=#__codelineno-22-43></a>
</span><span id=__span-22-44><a id=__codelineno-22-44 name=__codelineno-22-44 href=#__codelineno-22-44></a><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s1>&#39;__main__&#39;</span><span class=p>:</span>
</span><span id=__span-22-45><a id=__codelineno-22-45 name=__codelineno-22-45 href=#__codelineno-22-45></a>    <span class=n>main</span><span class=p>()</span>
</span></code></pre></div> <p>使用staticmethod装饰器声明某方法是某类的静态方法，如果要声明类方法，可以使用classmethod装饰器。可以直接使用 <code>类名.方法名</code> 的方式来调用静态方法和类方法，二者的区别在于，类方法的第一个参数是类对象本身 <code>cls</code>，而静态方法则没有这个参数。</p> <p>简单的总结一下，对象方法、类方法、静态方法都可以通过类名.方法名的方式来调用，区别在于方法的第一个参数到底是普通对象还是类对象，还是没有接受消息的对象。静态方法通常也可以直接写成一个独立的函数，因为它并没有跟特定的对象绑定。</p> <h3 id=_11>类之间的关系<a class=headerlink href=#_11 title="Permanent link">&para;</a></h3> <p>简单的说，类和类之间的关系有三种：is-a、has-a和use-a关系。</p> <ul> <li>is-a关系也叫继承或泛化，比如学生和人的关系、手机和电子产品的关系都属于继承关系。</li> <li>has-a关系通常称之为关联，比如部门和员工的关系，汽车和引擎的关系都属于关联关系；关联关系如果是整体和部分的关联，那么我们称之为聚合关系；如果整体进一步负责了部分的生命周期（整体和部分是不可分割的，同时同在也同时消亡），那么这种就是最强的关联关系，我们称之为合成关系。</li> <li>use-a关系通常称之为依赖，比如司机有一个驾驶的行为（方法），其中（的参数）使用到了汽车，那么司机和汽车的关系就是依赖关系。</li> </ul> <p>我们可以使用一种叫做<a href=https://zh.wikipedia.org/wiki/%E7%BB%9F%E4%B8%80%E5%BB%BA%E6%A8%A1%E8%AF%AD%E8%A8%80>UML</a>（统一建模语言）的东西来进行面向对象建模，其中一项重要的工作就是把类和类之间的关系用标准化的图形符号描述出来。关于UML我们在这里不做详细的介绍，有兴趣的读者可以自行阅读<a href=https://e.jd.com/30392949.html>《UML面向对象设计基础》</a>一书。</p> <p><a class=glightbox href=./res/uml-components.png data-type=image data-width=auto data-height=auto data-desc-position=bottom><img alt src=./res/uml-components.png></a></p> <p><a class=glightbox href=./res/uml-example.png data-type=image data-width=auto data-height=auto data-desc-position=bottom><img alt src=./res/uml-example.png></a></p> <p>利用类之间的这些关系，我们可以在已有类的基础上来完成某些操作，也可以在已有类的基础上创建新的类，这些都是实现代码复用的重要手段。复用现有的代码不仅可以减少开发的工作量，也有利于代码的管理和维护，这是我们在日常工作中都会使用到的技术手段。</p> <h3 id=_12>继承和多态<a class=headerlink href=#_12 title="Permanent link">&para;</a></h3> <p>继承的语法是在定义类的时候，在类名后的圆括号中指定当前类的父类。如果定义一个类的时候没有指定它的父类是谁，那么默认的父类是 <code>object</code> 类。<code>object</code> 类是Python中的顶级类，这也就意味着所有的类都是它的子类，要么直接继承它，要么间接继承它。Python语言允许多重继承，也就是说一个类可以有一个或多个父类。</p> <p>在子类的初始化方法中，我们可以通过 <code>super().__init__()</code> 来调用父类初始化方法，<code>super</code> 函数是Python内置函数中专门为获取当前对象的父类对象而设计的。从上面的代码可以看出，子类除了可以通过继承得到父类提供的属性和方法外，还可以定义自己特有的属性和方法，所以子类比父类拥有的更多的能力。</p> <p>在实际开发中，我们经常会用子类对象去替换掉一个父类对象，这是面向对象编程中一个常见的行为，也叫做“里氏替换原则”（Liskov Substitution Principle）。</p> <div class="admonition warning"> <p class=admonition-title>warning</p> <ol> <li> <p>子类的 <code>super().__init__()</code> 的参数顺序和数量一定要与父类的 <code>__init__()</code> 方法完全一致（除self）</p> </li> <li> <p>带不带self：，每一个（子类 &amp; 父类） <code>__init__()</code> 都带，子类的 <code>super().__init__()</code> 不带</p> </li> </ol> </div> <div class="language-Python highlight"><pre><span></span><code><span id=__span-23-1><a id=__codelineno-23-1 name=__codelineno-23-1 href=#__codelineno-23-1></a><span class=k>class</span><span class=w> </span><span class=nc>Person</span><span class=p>(</span><span class=nb>object</span><span class=p>):</span>
</span><span id=__span-23-2><a id=__codelineno-23-2 name=__codelineno-23-2 href=#__codelineno-23-2></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;人&quot;&quot;&quot;</span>
</span><span id=__span-23-3><a id=__codelineno-23-3 name=__codelineno-23-3 href=#__codelineno-23-3></a>
</span><span id=__span-23-4><a id=__codelineno-23-4 name=__codelineno-23-4 href=#__codelineno-23-4></a>    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>age</span><span class=p>):</span>
</span><span id=__span-23-5><a id=__codelineno-23-5 name=__codelineno-23-5 href=#__codelineno-23-5></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_name</span> <span class=o>=</span> <span class=n>name</span>
</span><span id=__span-23-6><a id=__codelineno-23-6 name=__codelineno-23-6 href=#__codelineno-23-6></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_age</span> <span class=o>=</span> <span class=n>age</span>
</span><span id=__span-23-7><a id=__codelineno-23-7 name=__codelineno-23-7 href=#__codelineno-23-7></a>
</span><span id=__span-23-8><a id=__codelineno-23-8 name=__codelineno-23-8 href=#__codelineno-23-8></a>    <span class=nd>@property</span>
</span><span id=__span-23-9><a id=__codelineno-23-9 name=__codelineno-23-9 href=#__codelineno-23-9></a>    <span class=k>def</span><span class=w> </span><span class=nf>name</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-23-10><a id=__codelineno-23-10 name=__codelineno-23-10 href=#__codelineno-23-10></a>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_name</span>
</span><span id=__span-23-11><a id=__codelineno-23-11 name=__codelineno-23-11 href=#__codelineno-23-11></a>
</span><span id=__span-23-12><a id=__codelineno-23-12 name=__codelineno-23-12 href=#__codelineno-23-12></a>    <span class=nd>@property</span>
</span><span id=__span-23-13><a id=__codelineno-23-13 name=__codelineno-23-13 href=#__codelineno-23-13></a>    <span class=k>def</span><span class=w> </span><span class=nf>age</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-23-14><a id=__codelineno-23-14 name=__codelineno-23-14 href=#__codelineno-23-14></a>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_age</span>
</span><span id=__span-23-15><a id=__codelineno-23-15 name=__codelineno-23-15 href=#__codelineno-23-15></a>
</span><span id=__span-23-16><a id=__codelineno-23-16 name=__codelineno-23-16 href=#__codelineno-23-16></a>    <span class=nd>@age</span><span class=o>.</span><span class=n>setter</span>
</span><span id=__span-23-17><a id=__codelineno-23-17 name=__codelineno-23-17 href=#__codelineno-23-17></a>    <span class=k>def</span><span class=w> </span><span class=nf>age</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>age</span><span class=p>):</span>
</span><span id=__span-23-18><a id=__codelineno-23-18 name=__codelineno-23-18 href=#__codelineno-23-18></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_age</span> <span class=o>=</span> <span class=n>age</span>
</span><span id=__span-23-19><a id=__codelineno-23-19 name=__codelineno-23-19 href=#__codelineno-23-19></a>
</span><span id=__span-23-20><a id=__codelineno-23-20 name=__codelineno-23-20 href=#__codelineno-23-20></a>    <span class=k>def</span><span class=w> </span><span class=nf>play</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-23-21><a id=__codelineno-23-21 name=__codelineno-23-21 href=#__codelineno-23-21></a>        <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;</span><span class=si>%s</span><span class=s1>正在愉快的玩耍.&#39;</span> <span class=o>%</span> <span class=bp>self</span><span class=o>.</span><span class=n>_name</span><span class=p>)</span>
</span><span id=__span-23-22><a id=__codelineno-23-22 name=__codelineno-23-22 href=#__codelineno-23-22></a>
</span><span id=__span-23-23><a id=__codelineno-23-23 name=__codelineno-23-23 href=#__codelineno-23-23></a>    <span class=k>def</span><span class=w> </span><span class=nf>watch_av</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-23-24><a id=__codelineno-23-24 name=__codelineno-23-24 href=#__codelineno-23-24></a>        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_age</span> <span class=o>&gt;=</span> <span class=mi>18</span><span class=p>:</span>
</span><span id=__span-23-25><a id=__codelineno-23-25 name=__codelineno-23-25 href=#__codelineno-23-25></a>            <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;</span><span class=si>%s</span><span class=s1>正在观看爱情动作片.&#39;</span> <span class=o>%</span> <span class=bp>self</span><span class=o>.</span><span class=n>_name</span><span class=p>)</span>
</span><span id=__span-23-26><a id=__codelineno-23-26 name=__codelineno-23-26 href=#__codelineno-23-26></a>        <span class=k>else</span><span class=p>:</span>
</span><span id=__span-23-27><a id=__codelineno-23-27 name=__codelineno-23-27 href=#__codelineno-23-27></a>            <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;</span><span class=si>%s</span><span class=s1>只能观看《熊出没》.&#39;</span> <span class=o>%</span> <span class=bp>self</span><span class=o>.</span><span class=n>_name</span><span class=p>)</span>
</span><span id=__span-23-28><a id=__codelineno-23-28 name=__codelineno-23-28 href=#__codelineno-23-28></a>
</span><span id=__span-23-29><a id=__codelineno-23-29 name=__codelineno-23-29 href=#__codelineno-23-29></a>
</span><span id=__span-23-30><a id=__codelineno-23-30 name=__codelineno-23-30 href=#__codelineno-23-30></a><span class=k>class</span><span class=w> </span><span class=nc>Student</span><span class=p>(</span><span class=n>Person</span><span class=p>):</span>
</span><span id=__span-23-31><a id=__codelineno-23-31 name=__codelineno-23-31 href=#__codelineno-23-31></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;学生&quot;&quot;&quot;</span>
</span><span id=__span-23-32><a id=__codelineno-23-32 name=__codelineno-23-32 href=#__codelineno-23-32></a>
</span><span id=__span-23-33><a id=__codelineno-23-33 name=__codelineno-23-33 href=#__codelineno-23-33></a>    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>age</span><span class=p>,</span> <span class=n>grade</span><span class=p>):</span>
</span><span id=__span-23-34><a id=__codelineno-23-34 name=__codelineno-23-34 href=#__codelineno-23-34></a>        <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__init__</span><span class=p>(</span><span class=n>name</span><span class=p>,</span> <span class=n>age</span><span class=p>)</span>
</span><span id=__span-23-35><a id=__codelineno-23-35 name=__codelineno-23-35 href=#__codelineno-23-35></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_grade</span> <span class=o>=</span> <span class=n>grade</span>
</span><span id=__span-23-36><a id=__codelineno-23-36 name=__codelineno-23-36 href=#__codelineno-23-36></a>
</span><span id=__span-23-37><a id=__codelineno-23-37 name=__codelineno-23-37 href=#__codelineno-23-37></a>    <span class=nd>@property</span>
</span><span id=__span-23-38><a id=__codelineno-23-38 name=__codelineno-23-38 href=#__codelineno-23-38></a>    <span class=k>def</span><span class=w> </span><span class=nf>grade</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-23-39><a id=__codelineno-23-39 name=__codelineno-23-39 href=#__codelineno-23-39></a>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_grade</span>
</span><span id=__span-23-40><a id=__codelineno-23-40 name=__codelineno-23-40 href=#__codelineno-23-40></a>
</span><span id=__span-23-41><a id=__codelineno-23-41 name=__codelineno-23-41 href=#__codelineno-23-41></a>    <span class=nd>@grade</span><span class=o>.</span><span class=n>setter</span>
</span><span id=__span-23-42><a id=__codelineno-23-42 name=__codelineno-23-42 href=#__codelineno-23-42></a>    <span class=k>def</span><span class=w> </span><span class=nf>grade</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>grade</span><span class=p>):</span>
</span><span id=__span-23-43><a id=__codelineno-23-43 name=__codelineno-23-43 href=#__codelineno-23-43></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_grade</span> <span class=o>=</span> <span class=n>grade</span>
</span><span id=__span-23-44><a id=__codelineno-23-44 name=__codelineno-23-44 href=#__codelineno-23-44></a>
</span><span id=__span-23-45><a id=__codelineno-23-45 name=__codelineno-23-45 href=#__codelineno-23-45></a>    <span class=k>def</span><span class=w> </span><span class=nf>study</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>course</span><span class=p>):</span>
</span><span id=__span-23-46><a id=__codelineno-23-46 name=__codelineno-23-46 href=#__codelineno-23-46></a>        <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;</span><span class=si>%s</span><span class=s1>的</span><span class=si>%s</span><span class=s1>正在学习</span><span class=si>%s</span><span class=s1>.&#39;</span> <span class=o>%</span> <span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_grade</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>_name</span><span class=p>,</span> <span class=n>course</span><span class=p>))</span>
</span><span id=__span-23-47><a id=__codelineno-23-47 name=__codelineno-23-47 href=#__codelineno-23-47></a>
</span><span id=__span-23-48><a id=__codelineno-23-48 name=__codelineno-23-48 href=#__codelineno-23-48></a>
</span><span id=__span-23-49><a id=__codelineno-23-49 name=__codelineno-23-49 href=#__codelineno-23-49></a><span class=k>class</span><span class=w> </span><span class=nc>Teacher</span><span class=p>(</span><span class=n>Person</span><span class=p>):</span>
</span><span id=__span-23-50><a id=__codelineno-23-50 name=__codelineno-23-50 href=#__codelineno-23-50></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;老师&quot;&quot;&quot;</span>
</span><span id=__span-23-51><a id=__codelineno-23-51 name=__codelineno-23-51 href=#__codelineno-23-51></a>
</span><span id=__span-23-52><a id=__codelineno-23-52 name=__codelineno-23-52 href=#__codelineno-23-52></a>    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>age</span><span class=p>,</span> <span class=n>title</span><span class=p>):</span>
</span><span id=__span-23-53><a id=__codelineno-23-53 name=__codelineno-23-53 href=#__codelineno-23-53></a>        <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__init__</span><span class=p>(</span><span class=n>name</span><span class=p>,</span> <span class=n>age</span><span class=p>)</span>
</span><span id=__span-23-54><a id=__codelineno-23-54 name=__codelineno-23-54 href=#__codelineno-23-54></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_title</span> <span class=o>=</span> <span class=n>title</span>
</span><span id=__span-23-55><a id=__codelineno-23-55 name=__codelineno-23-55 href=#__codelineno-23-55></a>
</span><span id=__span-23-56><a id=__codelineno-23-56 name=__codelineno-23-56 href=#__codelineno-23-56></a>    <span class=nd>@property</span>
</span><span id=__span-23-57><a id=__codelineno-23-57 name=__codelineno-23-57 href=#__codelineno-23-57></a>    <span class=k>def</span><span class=w> </span><span class=nf>title</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-23-58><a id=__codelineno-23-58 name=__codelineno-23-58 href=#__codelineno-23-58></a>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_title</span>
</span><span id=__span-23-59><a id=__codelineno-23-59 name=__codelineno-23-59 href=#__codelineno-23-59></a>
</span><span id=__span-23-60><a id=__codelineno-23-60 name=__codelineno-23-60 href=#__codelineno-23-60></a>    <span class=nd>@title</span><span class=o>.</span><span class=n>setter</span>
</span><span id=__span-23-61><a id=__codelineno-23-61 name=__codelineno-23-61 href=#__codelineno-23-61></a>    <span class=k>def</span><span class=w> </span><span class=nf>title</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>title</span><span class=p>):</span>
</span><span id=__span-23-62><a id=__codelineno-23-62 name=__codelineno-23-62 href=#__codelineno-23-62></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_title</span> <span class=o>=</span> <span class=n>title</span>
</span><span id=__span-23-63><a id=__codelineno-23-63 name=__codelineno-23-63 href=#__codelineno-23-63></a>
</span><span id=__span-23-64><a id=__codelineno-23-64 name=__codelineno-23-64 href=#__codelineno-23-64></a>    <span class=k>def</span><span class=w> </span><span class=nf>teach</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>course</span><span class=p>):</span>
</span><span id=__span-23-65><a id=__codelineno-23-65 name=__codelineno-23-65 href=#__codelineno-23-65></a>        <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;</span><span class=si>%s%s</span><span class=s1>正在讲</span><span class=si>%s</span><span class=s1>.&#39;</span> <span class=o>%</span> <span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_name</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>_title</span><span class=p>,</span> <span class=n>course</span><span class=p>))</span>
</span><span id=__span-23-66><a id=__codelineno-23-66 name=__codelineno-23-66 href=#__codelineno-23-66></a>
</span><span id=__span-23-67><a id=__codelineno-23-67 name=__codelineno-23-67 href=#__codelineno-23-67></a>
</span><span id=__span-23-68><a id=__codelineno-23-68 name=__codelineno-23-68 href=#__codelineno-23-68></a><span class=k>def</span><span class=w> </span><span class=nf>main</span><span class=p>():</span>
</span><span id=__span-23-69><a id=__codelineno-23-69 name=__codelineno-23-69 href=#__codelineno-23-69></a>    <span class=n>stu</span> <span class=o>=</span> <span class=n>Student</span><span class=p>(</span><span class=s1>&#39;王大锤&#39;</span><span class=p>,</span> <span class=mi>15</span><span class=p>,</span> <span class=s1>&#39;初三&#39;</span><span class=p>)</span>
</span><span id=__span-23-70><a id=__codelineno-23-70 name=__codelineno-23-70 href=#__codelineno-23-70></a>    <span class=n>stu</span><span class=o>.</span><span class=n>study</span><span class=p>(</span><span class=s1>&#39;数学&#39;</span><span class=p>)</span>
</span><span id=__span-23-71><a id=__codelineno-23-71 name=__codelineno-23-71 href=#__codelineno-23-71></a>    <span class=n>stu</span><span class=o>.</span><span class=n>watch_av</span><span class=p>()</span>
</span><span id=__span-23-72><a id=__codelineno-23-72 name=__codelineno-23-72 href=#__codelineno-23-72></a>    <span class=n>t</span> <span class=o>=</span> <span class=n>Teacher</span><span class=p>(</span><span class=s1>&#39;骆昊&#39;</span><span class=p>,</span> <span class=mi>38</span><span class=p>,</span> <span class=s1>&#39;砖家&#39;</span><span class=p>)</span>
</span><span id=__span-23-73><a id=__codelineno-23-73 name=__codelineno-23-73 href=#__codelineno-23-73></a>    <span class=n>t</span><span class=o>.</span><span class=n>teach</span><span class=p>(</span><span class=s1>&#39;Python程序设计&#39;</span><span class=p>)</span>
</span><span id=__span-23-74><a id=__codelineno-23-74 name=__codelineno-23-74 href=#__codelineno-23-74></a>    <span class=n>t</span><span class=o>.</span><span class=n>watch_av</span><span class=p>()</span>
</span><span id=__span-23-75><a id=__codelineno-23-75 name=__codelineno-23-75 href=#__codelineno-23-75></a>
</span><span id=__span-23-76><a id=__codelineno-23-76 name=__codelineno-23-76 href=#__codelineno-23-76></a>
</span><span id=__span-23-77><a id=__codelineno-23-77 name=__codelineno-23-77 href=#__codelineno-23-77></a><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s1>&#39;__main__&#39;</span><span class=p>:</span>
</span><span id=__span-23-78><a id=__codelineno-23-78 name=__codelineno-23-78 href=#__codelineno-23-78></a>    <span class=n>main</span><span class=p>()</span>
</span></code></pre></div> <p>子类在继承了父类的方法后，可以对父类已有的方法给出新的实现版本，这个动作称之为方法重写（override）。通过方法重写我们可以让父类的同一个行为在子类中拥有不同的实现版本，当我们调用这个经过子类重写的方法时，不同的子类对象会表现出不同的行为，这个就是多态（poly-morphism）。</p> <div class="language-Python highlight"><pre><span></span><code><span id=__span-24-1><a id=__codelineno-24-1 name=__codelineno-24-1 href=#__codelineno-24-1></a><span class=kn>from</span><span class=w> </span><span class=nn>abc</span><span class=w> </span><span class=kn>import</span> <span class=n>ABCMeta</span><span class=p>,</span> <span class=n>abstractmethod</span>
</span><span id=__span-24-2><a id=__codelineno-24-2 name=__codelineno-24-2 href=#__codelineno-24-2></a>
</span><span id=__span-24-3><a id=__codelineno-24-3 name=__codelineno-24-3 href=#__codelineno-24-3></a>
</span><span id=__span-24-4><a id=__codelineno-24-4 name=__codelineno-24-4 href=#__codelineno-24-4></a><span class=k>class</span><span class=w> </span><span class=nc>Pet</span><span class=p>(</span><span class=nb>object</span><span class=p>,</span> <span class=n>metaclass</span><span class=o>=</span><span class=n>ABCMeta</span><span class=p>):</span>
</span><span id=__span-24-5><a id=__codelineno-24-5 name=__codelineno-24-5 href=#__codelineno-24-5></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;宠物&quot;&quot;&quot;</span>
</span><span id=__span-24-6><a id=__codelineno-24-6 name=__codelineno-24-6 href=#__codelineno-24-6></a>
</span><span id=__span-24-7><a id=__codelineno-24-7 name=__codelineno-24-7 href=#__codelineno-24-7></a>    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>nickname</span><span class=p>):</span>
</span><span id=__span-24-8><a id=__codelineno-24-8 name=__codelineno-24-8 href=#__codelineno-24-8></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_nickname</span> <span class=o>=</span> <span class=n>nickname</span>
</span><span id=__span-24-9><a id=__codelineno-24-9 name=__codelineno-24-9 href=#__codelineno-24-9></a>
</span><span id=__span-24-10><a id=__codelineno-24-10 name=__codelineno-24-10 href=#__codelineno-24-10></a>    <span class=nd>@abstractmethod</span>
</span><span id=__span-24-11><a id=__codelineno-24-11 name=__codelineno-24-11 href=#__codelineno-24-11></a>    <span class=k>def</span><span class=w> </span><span class=nf>make_voice</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-24-12><a id=__codelineno-24-12 name=__codelineno-24-12 href=#__codelineno-24-12></a><span class=w>        </span><span class=sd>&quot;&quot;&quot;发出声音&quot;&quot;&quot;</span>
</span><span id=__span-24-13><a id=__codelineno-24-13 name=__codelineno-24-13 href=#__codelineno-24-13></a>        <span class=k>pass</span>
</span><span id=__span-24-14><a id=__codelineno-24-14 name=__codelineno-24-14 href=#__codelineno-24-14></a>
</span><span id=__span-24-15><a id=__codelineno-24-15 name=__codelineno-24-15 href=#__codelineno-24-15></a>
</span><span id=__span-24-16><a id=__codelineno-24-16 name=__codelineno-24-16 href=#__codelineno-24-16></a><span class=k>class</span><span class=w> </span><span class=nc>Dog</span><span class=p>(</span><span class=n>Pet</span><span class=p>):</span>
</span><span id=__span-24-17><a id=__codelineno-24-17 name=__codelineno-24-17 href=#__codelineno-24-17></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;狗&quot;&quot;&quot;</span>
</span><span id=__span-24-18><a id=__codelineno-24-18 name=__codelineno-24-18 href=#__codelineno-24-18></a>
</span><span id=__span-24-19><a id=__codelineno-24-19 name=__codelineno-24-19 href=#__codelineno-24-19></a>    <span class=k>def</span><span class=w> </span><span class=nf>make_voice</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-24-20><a id=__codelineno-24-20 name=__codelineno-24-20 href=#__codelineno-24-20></a>        <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;</span><span class=si>%s</span><span class=s1>: 汪汪汪...&#39;</span> <span class=o>%</span> <span class=bp>self</span><span class=o>.</span><span class=n>_nickname</span><span class=p>)</span>
</span><span id=__span-24-21><a id=__codelineno-24-21 name=__codelineno-24-21 href=#__codelineno-24-21></a>
</span><span id=__span-24-22><a id=__codelineno-24-22 name=__codelineno-24-22 href=#__codelineno-24-22></a>
</span><span id=__span-24-23><a id=__codelineno-24-23 name=__codelineno-24-23 href=#__codelineno-24-23></a><span class=k>class</span><span class=w> </span><span class=nc>Cat</span><span class=p>(</span><span class=n>Pet</span><span class=p>):</span>
</span><span id=__span-24-24><a id=__codelineno-24-24 name=__codelineno-24-24 href=#__codelineno-24-24></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;猫&quot;&quot;&quot;</span>
</span><span id=__span-24-25><a id=__codelineno-24-25 name=__codelineno-24-25 href=#__codelineno-24-25></a>
</span><span id=__span-24-26><a id=__codelineno-24-26 name=__codelineno-24-26 href=#__codelineno-24-26></a>    <span class=k>def</span><span class=w> </span><span class=nf>make_voice</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-24-27><a id=__codelineno-24-27 name=__codelineno-24-27 href=#__codelineno-24-27></a>        <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;</span><span class=si>%s</span><span class=s1>: 喵...喵...&#39;</span> <span class=o>%</span> <span class=bp>self</span><span class=o>.</span><span class=n>_nickname</span><span class=p>)</span>
</span><span id=__span-24-28><a id=__codelineno-24-28 name=__codelineno-24-28 href=#__codelineno-24-28></a>
</span><span id=__span-24-29><a id=__codelineno-24-29 name=__codelineno-24-29 href=#__codelineno-24-29></a>
</span><span id=__span-24-30><a id=__codelineno-24-30 name=__codelineno-24-30 href=#__codelineno-24-30></a><span class=k>def</span><span class=w> </span><span class=nf>main</span><span class=p>():</span>
</span><span id=__span-24-31><a id=__codelineno-24-31 name=__codelineno-24-31 href=#__codelineno-24-31></a>    <span class=n>pets</span> <span class=o>=</span> <span class=p>[</span><span class=n>Dog</span><span class=p>(</span><span class=s1>&#39;旺财&#39;</span><span class=p>),</span> <span class=n>Cat</span><span class=p>(</span><span class=s1>&#39;凯蒂&#39;</span><span class=p>),</span> <span class=n>Dog</span><span class=p>(</span><span class=s1>&#39;大黄&#39;</span><span class=p>)]</span>
</span><span id=__span-24-32><a id=__codelineno-24-32 name=__codelineno-24-32 href=#__codelineno-24-32></a>    <span class=k>for</span> <span class=n>pet</span> <span class=ow>in</span> <span class=n>pets</span><span class=p>:</span>
</span><span id=__span-24-33><a id=__codelineno-24-33 name=__codelineno-24-33 href=#__codelineno-24-33></a>        <span class=n>pet</span><span class=o>.</span><span class=n>make_voice</span><span class=p>()</span>
</span><span id=__span-24-34><a id=__codelineno-24-34 name=__codelineno-24-34 href=#__codelineno-24-34></a>
</span><span id=__span-24-35><a id=__codelineno-24-35 name=__codelineno-24-35 href=#__codelineno-24-35></a>
</span><span id=__span-24-36><a id=__codelineno-24-36 name=__codelineno-24-36 href=#__codelineno-24-36></a><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s1>&#39;__main__&#39;</span><span class=p>:</span>
</span><span id=__span-24-37><a id=__codelineno-24-37 name=__codelineno-24-37 href=#__codelineno-24-37></a>    <span class=n>main</span><span class=p>()</span>
</span></code></pre></div> <p>在上面的代码中，我们将<code>Pet</code>类处理成了一个抽象类，所谓抽象类就是不能够创建对象的类，这种类的存在就是专门为了让其他类去继承它。Python从语法层面并没有像Java或C#那样提供对抽象类的支持，但是我们可以通过<code>abc</code>模块的<code>ABCMeta</code>元类和<code>abstractmethod</code>包装器来达到抽象类的效果，如果一个类中存在抽象方法那么这个类就不能够实例化（创建对象）。上面的代码中，<code>Dog</code>和<code>Cat</code>两个子类分别对<code>Pet</code>类中的<code>make_voice</code>抽象方法进行了重写并给出了不同的实现版本，当我们在<code>main</code>函数中调用该方法时，这个方法就表现出了多态行为（同样的方法做了不同的事情）。</p> <p>子类继承父类的方法后，还可以对方法进行重写（重新实现该方法），不同的子类可以对父类的同一个方法给出不同的实现版本，这样的方法在程序运行时就会表现出多态行为（调用相同的方法，做了不同的事情）。多态是面向对象编程中最精髓的部分，当然也是对初学者来说最难以理解和灵活运用的部分，我们会在下一节课中用专门的例子来讲解多态这个知识点。</p> <h3 id=_13>示例<a class=headerlink href=#_13 title="Permanent link">&para;</a></h3> <p>示例1：奥特曼打小怪兽。</p> <p><div class="language-Python highlight"><pre><span></span><code><span id=__span-25-1><a id=__codelineno-25-1 name=__codelineno-25-1 href=#__codelineno-25-1></a><span class=kn>from</span><span class=w> </span><span class=nn>abc</span><span class=w> </span><span class=kn>import</span> <span class=n>ABCMeta</span><span class=p>,</span> <span class=n>abstractmethod</span>
</span><span id=__span-25-2><a id=__codelineno-25-2 name=__codelineno-25-2 href=#__codelineno-25-2></a><span class=kn>from</span><span class=w> </span><span class=nn>random</span><span class=w> </span><span class=kn>import</span> <span class=n>randint</span><span class=p>,</span> <span class=n>randrange</span>
</span><span id=__span-25-3><a id=__codelineno-25-3 name=__codelineno-25-3 href=#__codelineno-25-3></a>
</span><span id=__span-25-4><a id=__codelineno-25-4 name=__codelineno-25-4 href=#__codelineno-25-4></a>
</span><span id=__span-25-5><a id=__codelineno-25-5 name=__codelineno-25-5 href=#__codelineno-25-5></a><span class=k>class</span><span class=w> </span><span class=nc>Fighter</span><span class=p>(</span><span class=nb>object</span><span class=p>,</span> <span class=n>metaclass</span><span class=o>=</span><span class=n>ABCMeta</span><span class=p>):</span>
</span><span id=__span-25-6><a id=__codelineno-25-6 name=__codelineno-25-6 href=#__codelineno-25-6></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;战斗者&quot;&quot;&quot;</span>
</span><span id=__span-25-7><a id=__codelineno-25-7 name=__codelineno-25-7 href=#__codelineno-25-7></a>
</span><span id=__span-25-8><a id=__codelineno-25-8 name=__codelineno-25-8 href=#__codelineno-25-8></a>    <span class=c1># 通过__slots__魔法限定对象可以绑定的成员变量</span>
</span><span id=__span-25-9><a id=__codelineno-25-9 name=__codelineno-25-9 href=#__codelineno-25-9></a>    <span class=vm>__slots__</span> <span class=o>=</span> <span class=p>(</span><span class=s1>&#39;_name&#39;</span><span class=p>,</span> <span class=s1>&#39;_hp&#39;</span><span class=p>)</span>
</span><span id=__span-25-10><a id=__codelineno-25-10 name=__codelineno-25-10 href=#__codelineno-25-10></a>
</span><span id=__span-25-11><a id=__codelineno-25-11 name=__codelineno-25-11 href=#__codelineno-25-11></a>    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>hp</span><span class=p>):</span>
</span><span id=__span-25-12><a id=__codelineno-25-12 name=__codelineno-25-12 href=#__codelineno-25-12></a><span class=w>        </span><span class=sd>&quot;&quot;&quot;初始化方法</span>
</span><span id=__span-25-13><a id=__codelineno-25-13 name=__codelineno-25-13 href=#__codelineno-25-13></a>
</span><span id=__span-25-14><a id=__codelineno-25-14 name=__codelineno-25-14 href=#__codelineno-25-14></a><span class=sd>        :param name: 名字</span>
</span><span id=__span-25-15><a id=__codelineno-25-15 name=__codelineno-25-15 href=#__codelineno-25-15></a><span class=sd>        :param hp: 生命值</span>
</span><span id=__span-25-16><a id=__codelineno-25-16 name=__codelineno-25-16 href=#__codelineno-25-16></a><span class=sd>        &quot;&quot;&quot;</span>
</span><span id=__span-25-17><a id=__codelineno-25-17 name=__codelineno-25-17 href=#__codelineno-25-17></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_name</span> <span class=o>=</span> <span class=n>name</span>
</span><span id=__span-25-18><a id=__codelineno-25-18 name=__codelineno-25-18 href=#__codelineno-25-18></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_hp</span> <span class=o>=</span> <span class=n>hp</span>
</span><span id=__span-25-19><a id=__codelineno-25-19 name=__codelineno-25-19 href=#__codelineno-25-19></a>
</span><span id=__span-25-20><a id=__codelineno-25-20 name=__codelineno-25-20 href=#__codelineno-25-20></a>    <span class=nd>@property</span>
</span><span id=__span-25-21><a id=__codelineno-25-21 name=__codelineno-25-21 href=#__codelineno-25-21></a>    <span class=k>def</span><span class=w> </span><span class=nf>name</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-25-22><a id=__codelineno-25-22 name=__codelineno-25-22 href=#__codelineno-25-22></a>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_name</span>
</span><span id=__span-25-23><a id=__codelineno-25-23 name=__codelineno-25-23 href=#__codelineno-25-23></a>
</span><span id=__span-25-24><a id=__codelineno-25-24 name=__codelineno-25-24 href=#__codelineno-25-24></a>    <span class=nd>@property</span>
</span><span id=__span-25-25><a id=__codelineno-25-25 name=__codelineno-25-25 href=#__codelineno-25-25></a>    <span class=k>def</span><span class=w> </span><span class=nf>hp</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-25-26><a id=__codelineno-25-26 name=__codelineno-25-26 href=#__codelineno-25-26></a>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_hp</span>
</span><span id=__span-25-27><a id=__codelineno-25-27 name=__codelineno-25-27 href=#__codelineno-25-27></a>
</span><span id=__span-25-28><a id=__codelineno-25-28 name=__codelineno-25-28 href=#__codelineno-25-28></a>    <span class=nd>@hp</span><span class=o>.</span><span class=n>setter</span>
</span><span id=__span-25-29><a id=__codelineno-25-29 name=__codelineno-25-29 href=#__codelineno-25-29></a>    <span class=k>def</span><span class=w> </span><span class=nf>hp</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>hp</span><span class=p>):</span>
</span><span id=__span-25-30><a id=__codelineno-25-30 name=__codelineno-25-30 href=#__codelineno-25-30></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_hp</span> <span class=o>=</span> <span class=n>hp</span> <span class=k>if</span> <span class=n>hp</span> <span class=o>&gt;=</span> <span class=mi>0</span> <span class=k>else</span> <span class=mi>0</span>
</span><span id=__span-25-31><a id=__codelineno-25-31 name=__codelineno-25-31 href=#__codelineno-25-31></a>
</span><span id=__span-25-32><a id=__codelineno-25-32 name=__codelineno-25-32 href=#__codelineno-25-32></a>    <span class=nd>@property</span>
</span><span id=__span-25-33><a id=__codelineno-25-33 name=__codelineno-25-33 href=#__codelineno-25-33></a>    <span class=k>def</span><span class=w> </span><span class=nf>alive</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-25-34><a id=__codelineno-25-34 name=__codelineno-25-34 href=#__codelineno-25-34></a>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_hp</span> <span class=o>&gt;</span> <span class=mi>0</span>
</span><span id=__span-25-35><a id=__codelineno-25-35 name=__codelineno-25-35 href=#__codelineno-25-35></a>
</span><span id=__span-25-36><a id=__codelineno-25-36 name=__codelineno-25-36 href=#__codelineno-25-36></a>    <span class=nd>@abstractmethod</span>
</span><span id=__span-25-37><a id=__codelineno-25-37 name=__codelineno-25-37 href=#__codelineno-25-37></a>    <span class=k>def</span><span class=w> </span><span class=nf>attack</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>other</span><span class=p>):</span>
</span><span id=__span-25-38><a id=__codelineno-25-38 name=__codelineno-25-38 href=#__codelineno-25-38></a><span class=w>        </span><span class=sd>&quot;&quot;&quot;攻击</span>
</span><span id=__span-25-39><a id=__codelineno-25-39 name=__codelineno-25-39 href=#__codelineno-25-39></a>
</span><span id=__span-25-40><a id=__codelineno-25-40 name=__codelineno-25-40 href=#__codelineno-25-40></a><span class=sd>        :param other: 被攻击的对象</span>
</span><span id=__span-25-41><a id=__codelineno-25-41 name=__codelineno-25-41 href=#__codelineno-25-41></a><span class=sd>        &quot;&quot;&quot;</span>
</span><span id=__span-25-42><a id=__codelineno-25-42 name=__codelineno-25-42 href=#__codelineno-25-42></a>        <span class=k>pass</span>
</span><span id=__span-25-43><a id=__codelineno-25-43 name=__codelineno-25-43 href=#__codelineno-25-43></a>
</span><span id=__span-25-44><a id=__codelineno-25-44 name=__codelineno-25-44 href=#__codelineno-25-44></a>
</span><span id=__span-25-45><a id=__codelineno-25-45 name=__codelineno-25-45 href=#__codelineno-25-45></a><span class=k>class</span><span class=w> </span><span class=nc>Ultraman</span><span class=p>(</span><span class=n>Fighter</span><span class=p>):</span>
</span><span id=__span-25-46><a id=__codelineno-25-46 name=__codelineno-25-46 href=#__codelineno-25-46></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;奥特曼&quot;&quot;&quot;</span>
</span><span id=__span-25-47><a id=__codelineno-25-47 name=__codelineno-25-47 href=#__codelineno-25-47></a>
</span><span id=__span-25-48><a id=__codelineno-25-48 name=__codelineno-25-48 href=#__codelineno-25-48></a>    <span class=vm>__slots__</span> <span class=o>=</span> <span class=p>(</span><span class=s1>&#39;_name&#39;</span><span class=p>,</span> <span class=s1>&#39;_hp&#39;</span><span class=p>,</span> <span class=s1>&#39;_mp&#39;</span><span class=p>)</span>
</span><span id=__span-25-49><a id=__codelineno-25-49 name=__codelineno-25-49 href=#__codelineno-25-49></a>
</span><span id=__span-25-50><a id=__codelineno-25-50 name=__codelineno-25-50 href=#__codelineno-25-50></a>    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>hp</span><span class=p>,</span> <span class=n>mp</span><span class=p>):</span>
</span><span id=__span-25-51><a id=__codelineno-25-51 name=__codelineno-25-51 href=#__codelineno-25-51></a><span class=w>        </span><span class=sd>&quot;&quot;&quot;初始化方法</span>
</span><span id=__span-25-52><a id=__codelineno-25-52 name=__codelineno-25-52 href=#__codelineno-25-52></a>
</span><span id=__span-25-53><a id=__codelineno-25-53 name=__codelineno-25-53 href=#__codelineno-25-53></a><span class=sd>        :param name: 名字</span>
</span><span id=__span-25-54><a id=__codelineno-25-54 name=__codelineno-25-54 href=#__codelineno-25-54></a><span class=sd>        :param hp: 生命值</span>
</span><span id=__span-25-55><a id=__codelineno-25-55 name=__codelineno-25-55 href=#__codelineno-25-55></a><span class=sd>        :param mp: 魔法值</span>
</span><span id=__span-25-56><a id=__codelineno-25-56 name=__codelineno-25-56 href=#__codelineno-25-56></a><span class=sd>        &quot;&quot;&quot;</span>
</span><span id=__span-25-57><a id=__codelineno-25-57 name=__codelineno-25-57 href=#__codelineno-25-57></a>        <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__init__</span><span class=p>(</span><span class=n>name</span><span class=p>,</span> <span class=n>hp</span><span class=p>)</span>
</span><span id=__span-25-58><a id=__codelineno-25-58 name=__codelineno-25-58 href=#__codelineno-25-58></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_mp</span> <span class=o>=</span> <span class=n>mp</span>
</span><span id=__span-25-59><a id=__codelineno-25-59 name=__codelineno-25-59 href=#__codelineno-25-59></a>
</span><span id=__span-25-60><a id=__codelineno-25-60 name=__codelineno-25-60 href=#__codelineno-25-60></a>    <span class=k>def</span><span class=w> </span><span class=nf>attack</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>other</span><span class=p>):</span>
</span><span id=__span-25-61><a id=__codelineno-25-61 name=__codelineno-25-61 href=#__codelineno-25-61></a>        <span class=n>other</span><span class=o>.</span><span class=n>hp</span> <span class=o>-=</span> <span class=n>randint</span><span class=p>(</span><span class=mi>15</span><span class=p>,</span> <span class=mi>25</span><span class=p>)</span>
</span><span id=__span-25-62><a id=__codelineno-25-62 name=__codelineno-25-62 href=#__codelineno-25-62></a>
</span><span id=__span-25-63><a id=__codelineno-25-63 name=__codelineno-25-63 href=#__codelineno-25-63></a>    <span class=k>def</span><span class=w> </span><span class=nf>huge_attack</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>other</span><span class=p>):</span>
</span><span id=__span-25-64><a id=__codelineno-25-64 name=__codelineno-25-64 href=#__codelineno-25-64></a><span class=w>        </span><span class=sd>&quot;&quot;&quot;究极必杀技(打掉对方至少50点或四分之三的血)</span>
</span><span id=__span-25-65><a id=__codelineno-25-65 name=__codelineno-25-65 href=#__codelineno-25-65></a>
</span><span id=__span-25-66><a id=__codelineno-25-66 name=__codelineno-25-66 href=#__codelineno-25-66></a><span class=sd>        :param other: 被攻击的对象</span>
</span><span id=__span-25-67><a id=__codelineno-25-67 name=__codelineno-25-67 href=#__codelineno-25-67></a>
</span><span id=__span-25-68><a id=__codelineno-25-68 name=__codelineno-25-68 href=#__codelineno-25-68></a><span class=sd>        :return: 使用成功返回True否则返回False</span>
</span><span id=__span-25-69><a id=__codelineno-25-69 name=__codelineno-25-69 href=#__codelineno-25-69></a><span class=sd>        &quot;&quot;&quot;</span>
</span><span id=__span-25-70><a id=__codelineno-25-70 name=__codelineno-25-70 href=#__codelineno-25-70></a>        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_mp</span> <span class=o>&gt;=</span> <span class=mi>50</span><span class=p>:</span>
</span><span id=__span-25-71><a id=__codelineno-25-71 name=__codelineno-25-71 href=#__codelineno-25-71></a>            <span class=bp>self</span><span class=o>.</span><span class=n>_mp</span> <span class=o>-=</span> <span class=mi>50</span>
</span><span id=__span-25-72><a id=__codelineno-25-72 name=__codelineno-25-72 href=#__codelineno-25-72></a>            <span class=n>injury</span> <span class=o>=</span> <span class=n>other</span><span class=o>.</span><span class=n>hp</span> <span class=o>*</span> <span class=mi>3</span> <span class=o>//</span> <span class=mi>4</span>
</span><span id=__span-25-73><a id=__codelineno-25-73 name=__codelineno-25-73 href=#__codelineno-25-73></a>            <span class=n>injury</span> <span class=o>=</span> <span class=n>injury</span> <span class=k>if</span> <span class=n>injury</span> <span class=o>&gt;=</span> <span class=mi>50</span> <span class=k>else</span> <span class=mi>50</span>
</span><span id=__span-25-74><a id=__codelineno-25-74 name=__codelineno-25-74 href=#__codelineno-25-74></a>            <span class=n>other</span><span class=o>.</span><span class=n>hp</span> <span class=o>-=</span> <span class=n>injury</span>
</span><span id=__span-25-75><a id=__codelineno-25-75 name=__codelineno-25-75 href=#__codelineno-25-75></a>            <span class=k>return</span> <span class=kc>True</span>
</span><span id=__span-25-76><a id=__codelineno-25-76 name=__codelineno-25-76 href=#__codelineno-25-76></a>        <span class=k>else</span><span class=p>:</span>
</span><span id=__span-25-77><a id=__codelineno-25-77 name=__codelineno-25-77 href=#__codelineno-25-77></a>            <span class=bp>self</span><span class=o>.</span><span class=n>attack</span><span class=p>(</span><span class=n>other</span><span class=p>)</span>
</span><span id=__span-25-78><a id=__codelineno-25-78 name=__codelineno-25-78 href=#__codelineno-25-78></a>            <span class=k>return</span> <span class=kc>False</span>
</span><span id=__span-25-79><a id=__codelineno-25-79 name=__codelineno-25-79 href=#__codelineno-25-79></a>
</span><span id=__span-25-80><a id=__codelineno-25-80 name=__codelineno-25-80 href=#__codelineno-25-80></a>    <span class=k>def</span><span class=w> </span><span class=nf>magic_attack</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>others</span><span class=p>):</span>
</span><span id=__span-25-81><a id=__codelineno-25-81 name=__codelineno-25-81 href=#__codelineno-25-81></a><span class=w>        </span><span class=sd>&quot;&quot;&quot;魔法攻击</span>
</span><span id=__span-25-82><a id=__codelineno-25-82 name=__codelineno-25-82 href=#__codelineno-25-82></a>
</span><span id=__span-25-83><a id=__codelineno-25-83 name=__codelineno-25-83 href=#__codelineno-25-83></a><span class=sd>        :param others: 被攻击的群体</span>
</span><span id=__span-25-84><a id=__codelineno-25-84 name=__codelineno-25-84 href=#__codelineno-25-84></a>
</span><span id=__span-25-85><a id=__codelineno-25-85 name=__codelineno-25-85 href=#__codelineno-25-85></a><span class=sd>        :return: 使用魔法成功返回True否则返回False</span>
</span><span id=__span-25-86><a id=__codelineno-25-86 name=__codelineno-25-86 href=#__codelineno-25-86></a><span class=sd>        &quot;&quot;&quot;</span>
</span><span id=__span-25-87><a id=__codelineno-25-87 name=__codelineno-25-87 href=#__codelineno-25-87></a>        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_mp</span> <span class=o>&gt;=</span> <span class=mi>20</span><span class=p>:</span>
</span><span id=__span-25-88><a id=__codelineno-25-88 name=__codelineno-25-88 href=#__codelineno-25-88></a>            <span class=bp>self</span><span class=o>.</span><span class=n>_mp</span> <span class=o>-=</span> <span class=mi>20</span>
</span><span id=__span-25-89><a id=__codelineno-25-89 name=__codelineno-25-89 href=#__codelineno-25-89></a>            <span class=k>for</span> <span class=n>temp</span> <span class=ow>in</span> <span class=n>others</span><span class=p>:</span>
</span><span id=__span-25-90><a id=__codelineno-25-90 name=__codelineno-25-90 href=#__codelineno-25-90></a>                <span class=k>if</span> <span class=n>temp</span><span class=o>.</span><span class=n>alive</span><span class=p>:</span>
</span><span id=__span-25-91><a id=__codelineno-25-91 name=__codelineno-25-91 href=#__codelineno-25-91></a>                    <span class=n>temp</span><span class=o>.</span><span class=n>hp</span> <span class=o>-=</span> <span class=n>randint</span><span class=p>(</span><span class=mi>10</span><span class=p>,</span> <span class=mi>15</span><span class=p>)</span>
</span><span id=__span-25-92><a id=__codelineno-25-92 name=__codelineno-25-92 href=#__codelineno-25-92></a>            <span class=k>return</span> <span class=kc>True</span>
</span><span id=__span-25-93><a id=__codelineno-25-93 name=__codelineno-25-93 href=#__codelineno-25-93></a>        <span class=k>else</span><span class=p>:</span>
</span><span id=__span-25-94><a id=__codelineno-25-94 name=__codelineno-25-94 href=#__codelineno-25-94></a>            <span class=k>return</span> <span class=kc>False</span>
</span><span id=__span-25-95><a id=__codelineno-25-95 name=__codelineno-25-95 href=#__codelineno-25-95></a>
</span><span id=__span-25-96><a id=__codelineno-25-96 name=__codelineno-25-96 href=#__codelineno-25-96></a>    <span class=k>def</span><span class=w> </span><span class=nf>resume</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-25-97><a id=__codelineno-25-97 name=__codelineno-25-97 href=#__codelineno-25-97></a><span class=w>        </span><span class=sd>&quot;&quot;&quot;恢复魔法值&quot;&quot;&quot;</span>
</span><span id=__span-25-98><a id=__codelineno-25-98 name=__codelineno-25-98 href=#__codelineno-25-98></a>        <span class=n>incr_point</span> <span class=o>=</span> <span class=n>randint</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>10</span><span class=p>)</span>
</span><span id=__span-25-99><a id=__codelineno-25-99 name=__codelineno-25-99 href=#__codelineno-25-99></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_mp</span> <span class=o>+=</span> <span class=n>incr_point</span>
</span><span id=__span-25-100><a id=__codelineno-25-100 name=__codelineno-25-100 href=#__codelineno-25-100></a>        <span class=k>return</span> <span class=n>incr_point</span>
</span><span id=__span-25-101><a id=__codelineno-25-101 name=__codelineno-25-101 href=#__codelineno-25-101></a>
</span><span id=__span-25-102><a id=__codelineno-25-102 name=__codelineno-25-102 href=#__codelineno-25-102></a>    <span class=k>def</span><span class=w> </span><span class=fm>__str__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-25-103><a id=__codelineno-25-103 name=__codelineno-25-103 href=#__codelineno-25-103></a>        <span class=k>return</span> <span class=s1>&#39;~~~</span><span class=si>%s</span><span class=s1>奥特曼~~~</span><span class=se>\n</span><span class=s1>&#39;</span> <span class=o>%</span> <span class=bp>self</span><span class=o>.</span><span class=n>_name</span> <span class=o>+</span> \
</span><span id=__span-25-104><a id=__codelineno-25-104 name=__codelineno-25-104 href=#__codelineno-25-104></a>            <span class=s1>&#39;生命值: </span><span class=si>%d</span><span class=se>\n</span><span class=s1>&#39;</span> <span class=o>%</span> <span class=bp>self</span><span class=o>.</span><span class=n>_hp</span> <span class=o>+</span> \
</span><span id=__span-25-105><a id=__codelineno-25-105 name=__codelineno-25-105 href=#__codelineno-25-105></a>            <span class=s1>&#39;魔法值: </span><span class=si>%d</span><span class=se>\n</span><span class=s1>&#39;</span> <span class=o>%</span> <span class=bp>self</span><span class=o>.</span><span class=n>_mp</span>
</span><span id=__span-25-106><a id=__codelineno-25-106 name=__codelineno-25-106 href=#__codelineno-25-106></a>
</span><span id=__span-25-107><a id=__codelineno-25-107 name=__codelineno-25-107 href=#__codelineno-25-107></a>
</span><span id=__span-25-108><a id=__codelineno-25-108 name=__codelineno-25-108 href=#__codelineno-25-108></a><span class=k>class</span><span class=w> </span><span class=nc>Monster</span><span class=p>(</span><span class=n>Fighter</span><span class=p>):</span>
</span><span id=__span-25-109><a id=__codelineno-25-109 name=__codelineno-25-109 href=#__codelineno-25-109></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;小怪兽&quot;&quot;&quot;</span>
</span><span id=__span-25-110><a id=__codelineno-25-110 name=__codelineno-25-110 href=#__codelineno-25-110></a>
</span><span id=__span-25-111><a id=__codelineno-25-111 name=__codelineno-25-111 href=#__codelineno-25-111></a>    <span class=vm>__slots__</span> <span class=o>=</span> <span class=p>(</span><span class=s1>&#39;_name&#39;</span><span class=p>,</span> <span class=s1>&#39;_hp&#39;</span><span class=p>)</span>
</span><span id=__span-25-112><a id=__codelineno-25-112 name=__codelineno-25-112 href=#__codelineno-25-112></a>
</span><span id=__span-25-113><a id=__codelineno-25-113 name=__codelineno-25-113 href=#__codelineno-25-113></a>    <span class=k>def</span><span class=w> </span><span class=nf>attack</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>other</span><span class=p>):</span>
</span><span id=__span-25-114><a id=__codelineno-25-114 name=__codelineno-25-114 href=#__codelineno-25-114></a>        <span class=n>other</span><span class=o>.</span><span class=n>hp</span> <span class=o>-=</span> <span class=n>randint</span><span class=p>(</span><span class=mi>10</span><span class=p>,</span> <span class=mi>20</span><span class=p>)</span>
</span><span id=__span-25-115><a id=__codelineno-25-115 name=__codelineno-25-115 href=#__codelineno-25-115></a>
</span><span id=__span-25-116><a id=__codelineno-25-116 name=__codelineno-25-116 href=#__codelineno-25-116></a>    <span class=k>def</span><span class=w> </span><span class=fm>__str__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-25-117><a id=__codelineno-25-117 name=__codelineno-25-117 href=#__codelineno-25-117></a>        <span class=k>return</span> <span class=s1>&#39;~~~</span><span class=si>%s</span><span class=s1>小怪兽~~~</span><span class=se>\n</span><span class=s1>&#39;</span> <span class=o>%</span> <span class=bp>self</span><span class=o>.</span><span class=n>_name</span> <span class=o>+</span> \
</span><span id=__span-25-118><a id=__codelineno-25-118 name=__codelineno-25-118 href=#__codelineno-25-118></a>            <span class=s1>&#39;生命值: </span><span class=si>%d</span><span class=se>\n</span><span class=s1>&#39;</span> <span class=o>%</span> <span class=bp>self</span><span class=o>.</span><span class=n>_hp</span>
</span><span id=__span-25-119><a id=__codelineno-25-119 name=__codelineno-25-119 href=#__codelineno-25-119></a>
</span><span id=__span-25-120><a id=__codelineno-25-120 name=__codelineno-25-120 href=#__codelineno-25-120></a>
</span><span id=__span-25-121><a id=__codelineno-25-121 name=__codelineno-25-121 href=#__codelineno-25-121></a><span class=k>def</span><span class=w> </span><span class=nf>is_any_alive</span><span class=p>(</span><span class=n>monsters</span><span class=p>):</span>
</span><span id=__span-25-122><a id=__codelineno-25-122 name=__codelineno-25-122 href=#__codelineno-25-122></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;判断有没有小怪兽是活着的&quot;&quot;&quot;</span>
</span><span id=__span-25-123><a id=__codelineno-25-123 name=__codelineno-25-123 href=#__codelineno-25-123></a>    <span class=k>for</span> <span class=n>monster</span> <span class=ow>in</span> <span class=n>monsters</span><span class=p>:</span>
</span><span id=__span-25-124><a id=__codelineno-25-124 name=__codelineno-25-124 href=#__codelineno-25-124></a>        <span class=k>if</span> <span class=n>monster</span><span class=o>.</span><span class=n>alive</span> <span class=o>&gt;</span> <span class=mi>0</span><span class=p>:</span>
</span><span id=__span-25-125><a id=__codelineno-25-125 name=__codelineno-25-125 href=#__codelineno-25-125></a>            <span class=k>return</span> <span class=kc>True</span>
</span><span id=__span-25-126><a id=__codelineno-25-126 name=__codelineno-25-126 href=#__codelineno-25-126></a>    <span class=k>return</span> <span class=kc>False</span>
</span><span id=__span-25-127><a id=__codelineno-25-127 name=__codelineno-25-127 href=#__codelineno-25-127></a>
</span><span id=__span-25-128><a id=__codelineno-25-128 name=__codelineno-25-128 href=#__codelineno-25-128></a>
</span><span id=__span-25-129><a id=__codelineno-25-129 name=__codelineno-25-129 href=#__codelineno-25-129></a><span class=k>def</span><span class=w> </span><span class=nf>select_alive_one</span><span class=p>(</span><span class=n>monsters</span><span class=p>):</span>
</span><span id=__span-25-130><a id=__codelineno-25-130 name=__codelineno-25-130 href=#__codelineno-25-130></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;选中一只活着的小怪兽&quot;&quot;&quot;</span>
</span><span id=__span-25-131><a id=__codelineno-25-131 name=__codelineno-25-131 href=#__codelineno-25-131></a>    <span class=n>monsters_len</span> <span class=o>=</span> <span class=nb>len</span><span class=p>(</span><span class=n>monsters</span><span class=p>)</span>
</span><span id=__span-25-132><a id=__codelineno-25-132 name=__codelineno-25-132 href=#__codelineno-25-132></a>    <span class=k>while</span> <span class=kc>True</span><span class=p>:</span>
</span><span id=__span-25-133><a id=__codelineno-25-133 name=__codelineno-25-133 href=#__codelineno-25-133></a>        <span class=n>index</span> <span class=o>=</span> <span class=n>randrange</span><span class=p>(</span><span class=n>monsters_len</span><span class=p>)</span>
</span><span id=__span-25-134><a id=__codelineno-25-134 name=__codelineno-25-134 href=#__codelineno-25-134></a>        <span class=n>monster</span> <span class=o>=</span> <span class=n>monsters</span><span class=p>[</span><span class=n>index</span><span class=p>]</span>
</span><span id=__span-25-135><a id=__codelineno-25-135 name=__codelineno-25-135 href=#__codelineno-25-135></a>        <span class=k>if</span> <span class=n>monster</span><span class=o>.</span><span class=n>alive</span> <span class=o>&gt;</span> <span class=mi>0</span><span class=p>:</span>
</span><span id=__span-25-136><a id=__codelineno-25-136 name=__codelineno-25-136 href=#__codelineno-25-136></a>            <span class=k>return</span> <span class=n>monster</span>
</span><span id=__span-25-137><a id=__codelineno-25-137 name=__codelineno-25-137 href=#__codelineno-25-137></a>
</span><span id=__span-25-138><a id=__codelineno-25-138 name=__codelineno-25-138 href=#__codelineno-25-138></a>
</span><span id=__span-25-139><a id=__codelineno-25-139 name=__codelineno-25-139 href=#__codelineno-25-139></a><span class=k>def</span><span class=w> </span><span class=nf>display_info</span><span class=p>(</span><span class=n>ultraman</span><span class=p>,</span> <span class=n>monsters</span><span class=p>):</span>
</span><span id=__span-25-140><a id=__codelineno-25-140 name=__codelineno-25-140 href=#__codelineno-25-140></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;显示奥特曼和小怪兽的信息&quot;&quot;&quot;</span>
</span><span id=__span-25-141><a id=__codelineno-25-141 name=__codelineno-25-141 href=#__codelineno-25-141></a>    <span class=nb>print</span><span class=p>(</span><span class=n>ultraman</span><span class=p>)</span>
</span><span id=__span-25-142><a id=__codelineno-25-142 name=__codelineno-25-142 href=#__codelineno-25-142></a>    <span class=k>for</span> <span class=n>monster</span> <span class=ow>in</span> <span class=n>monsters</span><span class=p>:</span>
</span><span id=__span-25-143><a id=__codelineno-25-143 name=__codelineno-25-143 href=#__codelineno-25-143></a>        <span class=nb>print</span><span class=p>(</span><span class=n>monster</span><span class=p>,</span> <span class=n>end</span><span class=o>=</span><span class=s1>&#39;&#39;</span><span class=p>)</span>
</span><span id=__span-25-144><a id=__codelineno-25-144 name=__codelineno-25-144 href=#__codelineno-25-144></a>
</span><span id=__span-25-145><a id=__codelineno-25-145 name=__codelineno-25-145 href=#__codelineno-25-145></a>
</span><span id=__span-25-146><a id=__codelineno-25-146 name=__codelineno-25-146 href=#__codelineno-25-146></a><span class=k>def</span><span class=w> </span><span class=nf>main</span><span class=p>():</span>
</span><span id=__span-25-147><a id=__codelineno-25-147 name=__codelineno-25-147 href=#__codelineno-25-147></a>    <span class=n>u</span> <span class=o>=</span> <span class=n>Ultraman</span><span class=p>(</span><span class=s1>&#39;骆昊&#39;</span><span class=p>,</span> <span class=mi>1000</span><span class=p>,</span> <span class=mi>120</span><span class=p>)</span>
</span><span id=__span-25-148><a id=__codelineno-25-148 name=__codelineno-25-148 href=#__codelineno-25-148></a>    <span class=n>m1</span> <span class=o>=</span> <span class=n>Monster</span><span class=p>(</span><span class=s1>&#39;狄仁杰&#39;</span><span class=p>,</span> <span class=mi>250</span><span class=p>)</span>
</span><span id=__span-25-149><a id=__codelineno-25-149 name=__codelineno-25-149 href=#__codelineno-25-149></a>    <span class=n>m2</span> <span class=o>=</span> <span class=n>Monster</span><span class=p>(</span><span class=s1>&#39;白元芳&#39;</span><span class=p>,</span> <span class=mi>500</span><span class=p>)</span>
</span><span id=__span-25-150><a id=__codelineno-25-150 name=__codelineno-25-150 href=#__codelineno-25-150></a>    <span class=n>m3</span> <span class=o>=</span> <span class=n>Monster</span><span class=p>(</span><span class=s1>&#39;王大锤&#39;</span><span class=p>,</span> <span class=mi>750</span><span class=p>)</span>
</span><span id=__span-25-151><a id=__codelineno-25-151 name=__codelineno-25-151 href=#__codelineno-25-151></a>    <span class=n>ms</span> <span class=o>=</span> <span class=p>[</span><span class=n>m1</span><span class=p>,</span> <span class=n>m2</span><span class=p>,</span> <span class=n>m3</span><span class=p>]</span>
</span><span id=__span-25-152><a id=__codelineno-25-152 name=__codelineno-25-152 href=#__codelineno-25-152></a>    <span class=n>fight_round</span> <span class=o>=</span> <span class=mi>1</span>
</span><span id=__span-25-153><a id=__codelineno-25-153 name=__codelineno-25-153 href=#__codelineno-25-153></a>    <span class=k>while</span> <span class=n>u</span><span class=o>.</span><span class=n>alive</span> <span class=ow>and</span> <span class=n>is_any_alive</span><span class=p>(</span><span class=n>ms</span><span class=p>):</span>
</span><span id=__span-25-154><a id=__codelineno-25-154 name=__codelineno-25-154 href=#__codelineno-25-154></a>        <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;========第</span><span class=si>%02d</span><span class=s1>回合========&#39;</span> <span class=o>%</span> <span class=n>fight_round</span><span class=p>)</span>
</span><span id=__span-25-155><a id=__codelineno-25-155 name=__codelineno-25-155 href=#__codelineno-25-155></a>        <span class=n>m</span> <span class=o>=</span> <span class=n>select_alive_one</span><span class=p>(</span><span class=n>ms</span><span class=p>)</span>  <span class=c1># 选中一只小怪兽</span>
</span><span id=__span-25-156><a id=__codelineno-25-156 name=__codelineno-25-156 href=#__codelineno-25-156></a>        <span class=n>skill</span> <span class=o>=</span> <span class=n>randint</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>10</span><span class=p>)</span>   <span class=c1># 通过随机数选择使用哪种技能</span>
</span><span id=__span-25-157><a id=__codelineno-25-157 name=__codelineno-25-157 href=#__codelineno-25-157></a>        <span class=k>if</span> <span class=n>skill</span> <span class=o>&lt;=</span> <span class=mi>6</span><span class=p>:</span>  <span class=c1># 60%的概率使用普通攻击</span>
</span><span id=__span-25-158><a id=__codelineno-25-158 name=__codelineno-25-158 href=#__codelineno-25-158></a>            <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;</span><span class=si>%s</span><span class=s1>使用普通攻击打了</span><span class=si>%s</span><span class=s1>.&#39;</span> <span class=o>%</span> <span class=p>(</span><span class=n>u</span><span class=o>.</span><span class=n>name</span><span class=p>,</span> <span class=n>m</span><span class=o>.</span><span class=n>name</span><span class=p>))</span>
</span><span id=__span-25-159><a id=__codelineno-25-159 name=__codelineno-25-159 href=#__codelineno-25-159></a>            <span class=n>u</span><span class=o>.</span><span class=n>attack</span><span class=p>(</span><span class=n>m</span><span class=p>)</span>
</span><span id=__span-25-160><a id=__codelineno-25-160 name=__codelineno-25-160 href=#__codelineno-25-160></a>            <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;</span><span class=si>%s</span><span class=s1>的魔法值恢复了</span><span class=si>%d</span><span class=s1>点.&#39;</span> <span class=o>%</span> <span class=p>(</span><span class=n>u</span><span class=o>.</span><span class=n>name</span><span class=p>,</span> <span class=n>u</span><span class=o>.</span><span class=n>resume</span><span class=p>()))</span>
</span><span id=__span-25-161><a id=__codelineno-25-161 name=__codelineno-25-161 href=#__codelineno-25-161></a>        <span class=k>elif</span> <span class=n>skill</span> <span class=o>&lt;=</span> <span class=mi>9</span><span class=p>:</span>  <span class=c1># 30%的概率使用魔法攻击(可能因魔法值不足而失败)</span>
</span><span id=__span-25-162><a id=__codelineno-25-162 name=__codelineno-25-162 href=#__codelineno-25-162></a>            <span class=k>if</span> <span class=n>u</span><span class=o>.</span><span class=n>magic_attack</span><span class=p>(</span><span class=n>ms</span><span class=p>):</span>
</span><span id=__span-25-163><a id=__codelineno-25-163 name=__codelineno-25-163 href=#__codelineno-25-163></a>                <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;</span><span class=si>%s</span><span class=s1>使用了魔法攻击.&#39;</span> <span class=o>%</span> <span class=n>u</span><span class=o>.</span><span class=n>name</span><span class=p>)</span>
</span><span id=__span-25-164><a id=__codelineno-25-164 name=__codelineno-25-164 href=#__codelineno-25-164></a>            <span class=k>else</span><span class=p>:</span>
</span><span id=__span-25-165><a id=__codelineno-25-165 name=__codelineno-25-165 href=#__codelineno-25-165></a>                <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;</span><span class=si>%s</span><span class=s1>使用魔法失败.&#39;</span> <span class=o>%</span> <span class=n>u</span><span class=o>.</span><span class=n>name</span><span class=p>)</span>
</span><span id=__span-25-166><a id=__codelineno-25-166 name=__codelineno-25-166 href=#__codelineno-25-166></a>        <span class=k>else</span><span class=p>:</span>  <span class=c1># 10%的概率使用究极必杀技(如果魔法值不足则使用普通攻击)</span>
</span><span id=__span-25-167><a id=__codelineno-25-167 name=__codelineno-25-167 href=#__codelineno-25-167></a>            <span class=k>if</span> <span class=n>u</span><span class=o>.</span><span class=n>huge_attack</span><span class=p>(</span><span class=n>m</span><span class=p>):</span>
</span><span id=__span-25-168><a id=__codelineno-25-168 name=__codelineno-25-168 href=#__codelineno-25-168></a>                <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;</span><span class=si>%s</span><span class=s1>使用究极必杀技虐了</span><span class=si>%s</span><span class=s1>.&#39;</span> <span class=o>%</span> <span class=p>(</span><span class=n>u</span><span class=o>.</span><span class=n>name</span><span class=p>,</span> <span class=n>m</span><span class=o>.</span><span class=n>name</span><span class=p>))</span>
</span><span id=__span-25-169><a id=__codelineno-25-169 name=__codelineno-25-169 href=#__codelineno-25-169></a>            <span class=k>else</span><span class=p>:</span>
</span><span id=__span-25-170><a id=__codelineno-25-170 name=__codelineno-25-170 href=#__codelineno-25-170></a>                <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;</span><span class=si>%s</span><span class=s1>使用普通攻击打了</span><span class=si>%s</span><span class=s1>.&#39;</span> <span class=o>%</span> <span class=p>(</span><span class=n>u</span><span class=o>.</span><span class=n>name</span><span class=p>,</span> <span class=n>m</span><span class=o>.</span><span class=n>name</span><span class=p>))</span>
</span><span id=__span-25-171><a id=__codelineno-25-171 name=__codelineno-25-171 href=#__codelineno-25-171></a>                <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;</span><span class=si>%s</span><span class=s1>的魔法值恢复了</span><span class=si>%d</span><span class=s1>点.&#39;</span> <span class=o>%</span> <span class=p>(</span><span class=n>u</span><span class=o>.</span><span class=n>name</span><span class=p>,</span> <span class=n>u</span><span class=o>.</span><span class=n>resume</span><span class=p>()))</span>
</span><span id=__span-25-172><a id=__codelineno-25-172 name=__codelineno-25-172 href=#__codelineno-25-172></a>        <span class=k>if</span> <span class=n>m</span><span class=o>.</span><span class=n>alive</span> <span class=o>&gt;</span> <span class=mi>0</span><span class=p>:</span>  <span class=c1># 如果选中的小怪兽没有死就回击奥特曼</span>
</span><span id=__span-25-173><a id=__codelineno-25-173 name=__codelineno-25-173 href=#__codelineno-25-173></a>            <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;</span><span class=si>%s</span><span class=s1>回击了</span><span class=si>%s</span><span class=s1>.&#39;</span> <span class=o>%</span> <span class=p>(</span><span class=n>m</span><span class=o>.</span><span class=n>name</span><span class=p>,</span> <span class=n>u</span><span class=o>.</span><span class=n>name</span><span class=p>))</span>
</span><span id=__span-25-174><a id=__codelineno-25-174 name=__codelineno-25-174 href=#__codelineno-25-174></a>            <span class=n>m</span><span class=o>.</span><span class=n>attack</span><span class=p>(</span><span class=n>u</span><span class=p>)</span>
</span><span id=__span-25-175><a id=__codelineno-25-175 name=__codelineno-25-175 href=#__codelineno-25-175></a>        <span class=n>display_info</span><span class=p>(</span><span class=n>u</span><span class=p>,</span> <span class=n>ms</span><span class=p>)</span>  <span class=c1># 每个回合结束后显示奥特曼和小怪兽的信息</span>
</span><span id=__span-25-176><a id=__codelineno-25-176 name=__codelineno-25-176 href=#__codelineno-25-176></a>        <span class=n>fight_round</span> <span class=o>+=</span> <span class=mi>1</span>
</span><span id=__span-25-177><a id=__codelineno-25-177 name=__codelineno-25-177 href=#__codelineno-25-177></a>    <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;</span><span class=se>\n</span><span class=s1>========战斗结束!========</span><span class=se>\n</span><span class=s1>&#39;</span><span class=p>)</span>
</span><span id=__span-25-178><a id=__codelineno-25-178 name=__codelineno-25-178 href=#__codelineno-25-178></a>    <span class=k>if</span> <span class=n>u</span><span class=o>.</span><span class=n>alive</span> <span class=o>&gt;</span> <span class=mi>0</span><span class=p>:</span>
</span><span id=__span-25-179><a id=__codelineno-25-179 name=__codelineno-25-179 href=#__codelineno-25-179></a>        <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;</span><span class=si>%s</span><span class=s1>奥特曼胜利!&#39;</span> <span class=o>%</span> <span class=n>u</span><span class=o>.</span><span class=n>name</span><span class=p>)</span>
</span><span id=__span-25-180><a id=__codelineno-25-180 name=__codelineno-25-180 href=#__codelineno-25-180></a>    <span class=k>else</span><span class=p>:</span>
</span><span id=__span-25-181><a id=__codelineno-25-181 name=__codelineno-25-181 href=#__codelineno-25-181></a>        <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;小怪兽胜利!&#39;</span><span class=p>)</span>
</span><span id=__span-25-182><a id=__codelineno-25-182 name=__codelineno-25-182 href=#__codelineno-25-182></a>
</span><span id=__span-25-183><a id=__codelineno-25-183 name=__codelineno-25-183 href=#__codelineno-25-183></a>
</span><span id=__span-25-184><a id=__codelineno-25-184 name=__codelineno-25-184 href=#__codelineno-25-184></a><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s1>&#39;__main__&#39;</span><span class=p>:</span>
</span><span id=__span-25-185><a id=__codelineno-25-185 name=__codelineno-25-185 href=#__codelineno-25-185></a>    <span class=n>main</span><span class=p>()</span>
</span></code></pre></div> 案例2：扑克游戏。</p> <blockquote> <p><strong>说明</strong>：简单起见，我们的扑克只有52张牌（没有大小王），游戏需要将52张牌发到4个玩家的手上，每个玩家手上有13张牌，按照黑桃、红心、草花、方块的顺序和点数从小到大排列，暂时不实现其他的功能。</p> </blockquote> <p>使用面向对象编程方法，首先需要从问题的需求中找到对象并抽象出对应的类，此外还要找到对象的属性和行为。当然，这件事情并不是特别困难，我们可以从需求的描述中找出名词和动词，名词通常就是对象或者是对象的属性，而动词通常是对象的行为。扑克游戏中至少应该有三类对象，分别是牌、扑克和玩家，牌、扑克、玩家三个类也并不是孤立的。类和类之间的关系可以粗略的分为<strong>is-a关系（继承）</strong>、<strong>has-a关系（关联）</strong>和<strong>use-a关系（依赖）</strong>。很显然扑克和牌是has-a关系，因为一副扑克有（has-a）52张牌；玩家和牌之间不仅有关联关系还有依赖关系，因为玩家手上有（has-a）牌而且玩家使用了（use-a）牌。</p> <p>牌的属性显而易见，有花色和点数。我们可以用0到3的四个数字来代表四种不同的花色，但是这样的代码可读性会非常糟糕，因为我们并不知道黑桃、红心、草花、方块跟0到3的数字的对应关系。如果一个变量的取值只有有限多个选项，我们可以使用枚举。与C、Java等语言不同的是，Python中没有声明枚举类型的关键字，但是可以通过继承<code>enum</code>模块的<code>Enum</code>类来创建枚举类型，代码如下所示。</p> <div class="language-Python highlight"><pre><span></span><code><span id=__span-26-1><a id=__codelineno-26-1 name=__codelineno-26-1 href=#__codelineno-26-1></a><span class=kn>from</span><span class=w> </span><span class=nn>enum</span><span class=w> </span><span class=kn>import</span> <span class=n>Enum</span>
</span><span id=__span-26-2><a id=__codelineno-26-2 name=__codelineno-26-2 href=#__codelineno-26-2></a>
</span><span id=__span-26-3><a id=__codelineno-26-3 name=__codelineno-26-3 href=#__codelineno-26-3></a>
</span><span id=__span-26-4><a id=__codelineno-26-4 name=__codelineno-26-4 href=#__codelineno-26-4></a><span class=k>class</span><span class=w> </span><span class=nc>Suite</span><span class=p>(</span><span class=n>Enum</span><span class=p>):</span>
</span><span id=__span-26-5><a id=__codelineno-26-5 name=__codelineno-26-5 href=#__codelineno-26-5></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;花色(枚举)&quot;&quot;&quot;</span>
</span><span id=__span-26-6><a id=__codelineno-26-6 name=__codelineno-26-6 href=#__codelineno-26-6></a>    <span class=n>SPADE</span><span class=p>,</span> <span class=n>HEART</span><span class=p>,</span> <span class=n>CLUB</span><span class=p>,</span> <span class=n>DIAMOND</span> <span class=o>=</span> <span class=nb>range</span><span class=p>(</span><span class=mi>4</span><span class=p>)</span>
</span></code></pre></div> <p>通过上面的代码可以看出，定义枚举类型其实就是定义符号常量，如<code>SPADE</code>、<code>HEART</code>等。每个符号常量都有与之对应的值，这样表示黑桃就可以不用数字<code>0</code>，而是用<code>Suite.SPADE</code>；同理，表示方块可以不用数字<code>3</code>， 而是用<code>Suite.DIAMOND</code>。注意，使用符号常量肯定是优于使用字面常量的，因为能够读懂英文就能理解符号常量的含义，代码的可读性会提升很多。Python中的枚举类型是可迭代类型，简单的说就是可以将枚举类型放到<code>for-in</code>循环中，依次取出每一个符号常量及其对应的值，如下所示。</p> <div class="language-Python highlight"><pre><span></span><code><span id=__span-27-1><a id=__codelineno-27-1 name=__codelineno-27-1 href=#__codelineno-27-1></a><span class=k>for</span> <span class=n>suite</span> <span class=ow>in</span> <span class=n>Suite</span><span class=p>:</span>
</span><span id=__span-27-2><a id=__codelineno-27-2 name=__codelineno-27-2 href=#__codelineno-27-2></a>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;</span><span class=si>{</span><span class=n>suite</span><span class=si>}</span><span class=s1>: </span><span class=si>{</span><span class=n>suite</span><span class=o>.</span><span class=n>value</span><span class=si>}</span><span class=s1>&#39;</span><span class=p>)</span>
</span></code></pre></div> <p>接下来我们可以定义牌类。</p> <div class="language-Python highlight"><pre><span></span><code><span id=__span-28-1><a id=__codelineno-28-1 name=__codelineno-28-1 href=#__codelineno-28-1></a><span class=k>class</span><span class=w> </span><span class=nc>Card</span><span class=p>:</span>
</span><span id=__span-28-2><a id=__codelineno-28-2 name=__codelineno-28-2 href=#__codelineno-28-2></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;牌&quot;&quot;&quot;</span>
</span><span id=__span-28-3><a id=__codelineno-28-3 name=__codelineno-28-3 href=#__codelineno-28-3></a>
</span><span id=__span-28-4><a id=__codelineno-28-4 name=__codelineno-28-4 href=#__codelineno-28-4></a>    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>suite</span><span class=p>,</span> <span class=n>face</span><span class=p>):</span>
</span><span id=__span-28-5><a id=__codelineno-28-5 name=__codelineno-28-5 href=#__codelineno-28-5></a>        <span class=bp>self</span><span class=o>.</span><span class=n>suite</span> <span class=o>=</span> <span class=n>suite</span>
</span><span id=__span-28-6><a id=__codelineno-28-6 name=__codelineno-28-6 href=#__codelineno-28-6></a>        <span class=bp>self</span><span class=o>.</span><span class=n>face</span> <span class=o>=</span> <span class=n>face</span>
</span><span id=__span-28-7><a id=__codelineno-28-7 name=__codelineno-28-7 href=#__codelineno-28-7></a>
</span><span id=__span-28-8><a id=__codelineno-28-8 name=__codelineno-28-8 href=#__codelineno-28-8></a>    <span class=k>def</span><span class=w> </span><span class=fm>__repr__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-28-9><a id=__codelineno-28-9 name=__codelineno-28-9 href=#__codelineno-28-9></a>        <span class=n>suites</span> <span class=o>=</span> <span class=s1>&#39;♠♥♣♦&#39;</span>
</span><span id=__span-28-10><a id=__codelineno-28-10 name=__codelineno-28-10 href=#__codelineno-28-10></a>        <span class=n>faces</span> <span class=o>=</span> <span class=p>[</span><span class=s1>&#39;&#39;</span><span class=p>,</span> <span class=s1>&#39;A&#39;</span><span class=p>,</span> <span class=s1>&#39;2&#39;</span><span class=p>,</span> <span class=s1>&#39;3&#39;</span><span class=p>,</span> <span class=s1>&#39;4&#39;</span><span class=p>,</span> <span class=s1>&#39;5&#39;</span><span class=p>,</span> <span class=s1>&#39;6&#39;</span><span class=p>,</span> <span class=s1>&#39;7&#39;</span><span class=p>,</span> <span class=s1>&#39;8&#39;</span><span class=p>,</span> <span class=s1>&#39;9&#39;</span><span class=p>,</span> <span class=s1>&#39;10&#39;</span><span class=p>,</span> <span class=s1>&#39;J&#39;</span><span class=p>,</span> <span class=s1>&#39;Q&#39;</span><span class=p>,</span> <span class=s1>&#39;K&#39;</span><span class=p>]</span>
</span><span id=__span-28-11><a id=__codelineno-28-11 name=__codelineno-28-11 href=#__codelineno-28-11></a>        <span class=c1># 根据牌的花色和点数取到对应的字符</span>
</span><span id=__span-28-12><a id=__codelineno-28-12 name=__codelineno-28-12 href=#__codelineno-28-12></a>        <span class=k>return</span> <span class=sa>f</span><span class=s1>&#39;</span><span class=si>{</span><span class=n>suites</span><span class=p>[</span><span class=bp>self</span><span class=o>.</span><span class=n>suite</span><span class=o>.</span><span class=n>value</span><span class=p>]</span><span class=si>}{</span><span class=n>faces</span><span class=p>[</span><span class=bp>self</span><span class=o>.</span><span class=n>face</span><span class=p>]</span><span class=si>}</span><span class=s1>&#39;</span>
</span></code></pre></div> <p>可以通过下面的代码来测试下<code>Card</code>类。</p> <div class="language-Python highlight"><pre><span></span><code><span id=__span-29-1><a id=__codelineno-29-1 name=__codelineno-29-1 href=#__codelineno-29-1></a><span class=n>card1</span> <span class=o>=</span> <span class=n>Card</span><span class=p>(</span><span class=n>Suite</span><span class=o>.</span><span class=n>SPADE</span><span class=p>,</span> <span class=mi>5</span><span class=p>)</span>
</span><span id=__span-29-2><a id=__codelineno-29-2 name=__codelineno-29-2 href=#__codelineno-29-2></a><span class=n>card2</span> <span class=o>=</span> <span class=n>Card</span><span class=p>(</span><span class=n>Suite</span><span class=o>.</span><span class=n>HEART</span><span class=p>,</span> <span class=mi>13</span><span class=p>)</span>
</span><span id=__span-29-3><a id=__codelineno-29-3 name=__codelineno-29-3 href=#__codelineno-29-3></a><span class=nb>print</span><span class=p>(</span><span class=n>card1</span><span class=p>,</span> <span class=n>card2</span><span class=p>)</span>    <span class=c1># ♠5 ♥K</span>
</span></code></pre></div> <p>接下来我们定义扑克类。</p> <div class="language-Python highlight"><pre><span></span><code><span id=__span-30-1><a id=__codelineno-30-1 name=__codelineno-30-1 href=#__codelineno-30-1></a><span class=kn>import</span><span class=w> </span><span class=nn>random</span>
</span><span id=__span-30-2><a id=__codelineno-30-2 name=__codelineno-30-2 href=#__codelineno-30-2></a>
</span><span id=__span-30-3><a id=__codelineno-30-3 name=__codelineno-30-3 href=#__codelineno-30-3></a>
</span><span id=__span-30-4><a id=__codelineno-30-4 name=__codelineno-30-4 href=#__codelineno-30-4></a><span class=k>class</span><span class=w> </span><span class=nc>Poker</span><span class=p>:</span>
</span><span id=__span-30-5><a id=__codelineno-30-5 name=__codelineno-30-5 href=#__codelineno-30-5></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;扑克&quot;&quot;&quot;</span>
</span><span id=__span-30-6><a id=__codelineno-30-6 name=__codelineno-30-6 href=#__codelineno-30-6></a>
</span><span id=__span-30-7><a id=__codelineno-30-7 name=__codelineno-30-7 href=#__codelineno-30-7></a>    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-30-8><a id=__codelineno-30-8 name=__codelineno-30-8 href=#__codelineno-30-8></a>        <span class=c1># 通过列表的生成式语法创建一个装52张牌的列表</span>
</span><span id=__span-30-9><a id=__codelineno-30-9 name=__codelineno-30-9 href=#__codelineno-30-9></a>        <span class=bp>self</span><span class=o>.</span><span class=n>cards</span> <span class=o>=</span> <span class=p>[</span><span class=n>Card</span><span class=p>(</span><span class=n>suite</span><span class=p>,</span> <span class=n>face</span><span class=p>)</span> <span class=k>for</span> <span class=n>suite</span> <span class=ow>in</span> <span class=n>Suite</span>
</span><span id=__span-30-10><a id=__codelineno-30-10 name=__codelineno-30-10 href=#__codelineno-30-10></a>                      <span class=k>for</span> <span class=n>face</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>14</span><span class=p>)]</span>
</span><span id=__span-30-11><a id=__codelineno-30-11 name=__codelineno-30-11 href=#__codelineno-30-11></a>        <span class=c1># current属性表示发牌的位置</span>
</span><span id=__span-30-12><a id=__codelineno-30-12 name=__codelineno-30-12 href=#__codelineno-30-12></a>        <span class=bp>self</span><span class=o>.</span><span class=n>current</span> <span class=o>=</span> <span class=mi>0</span>
</span><span id=__span-30-13><a id=__codelineno-30-13 name=__codelineno-30-13 href=#__codelineno-30-13></a>
</span><span id=__span-30-14><a id=__codelineno-30-14 name=__codelineno-30-14 href=#__codelineno-30-14></a>    <span class=k>def</span><span class=w> </span><span class=nf>shuffle</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-30-15><a id=__codelineno-30-15 name=__codelineno-30-15 href=#__codelineno-30-15></a><span class=w>        </span><span class=sd>&quot;&quot;&quot;洗牌&quot;&quot;&quot;</span>
</span><span id=__span-30-16><a id=__codelineno-30-16 name=__codelineno-30-16 href=#__codelineno-30-16></a>        <span class=bp>self</span><span class=o>.</span><span class=n>current</span> <span class=o>=</span> <span class=mi>0</span>
</span><span id=__span-30-17><a id=__codelineno-30-17 name=__codelineno-30-17 href=#__codelineno-30-17></a>        <span class=c1># 通过random模块的shuffle函数实现列表的随机乱序</span>
</span><span id=__span-30-18><a id=__codelineno-30-18 name=__codelineno-30-18 href=#__codelineno-30-18></a>        <span class=n>random</span><span class=o>.</span><span class=n>shuffle</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>cards</span><span class=p>)</span>
</span><span id=__span-30-19><a id=__codelineno-30-19 name=__codelineno-30-19 href=#__codelineno-30-19></a>
</span><span id=__span-30-20><a id=__codelineno-30-20 name=__codelineno-30-20 href=#__codelineno-30-20></a>    <span class=k>def</span><span class=w> </span><span class=nf>deal</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-30-21><a id=__codelineno-30-21 name=__codelineno-30-21 href=#__codelineno-30-21></a><span class=w>        </span><span class=sd>&quot;&quot;&quot;发牌&quot;&quot;&quot;</span>
</span><span id=__span-30-22><a id=__codelineno-30-22 name=__codelineno-30-22 href=#__codelineno-30-22></a>        <span class=n>card</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>cards</span><span class=p>[</span><span class=bp>self</span><span class=o>.</span><span class=n>current</span><span class=p>]</span>
</span><span id=__span-30-23><a id=__codelineno-30-23 name=__codelineno-30-23 href=#__codelineno-30-23></a>        <span class=bp>self</span><span class=o>.</span><span class=n>current</span> <span class=o>+=</span> <span class=mi>1</span>
</span><span id=__span-30-24><a id=__codelineno-30-24 name=__codelineno-30-24 href=#__codelineno-30-24></a>        <span class=k>return</span> <span class=n>card</span>
</span><span id=__span-30-25><a id=__codelineno-30-25 name=__codelineno-30-25 href=#__codelineno-30-25></a>
</span><span id=__span-30-26><a id=__codelineno-30-26 name=__codelineno-30-26 href=#__codelineno-30-26></a>    <span class=nd>@property</span>
</span><span id=__span-30-27><a id=__codelineno-30-27 name=__codelineno-30-27 href=#__codelineno-30-27></a>    <span class=k>def</span><span class=w> </span><span class=nf>has_next</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-30-28><a id=__codelineno-30-28 name=__codelineno-30-28 href=#__codelineno-30-28></a><span class=w>        </span><span class=sd>&quot;&quot;&quot;还有没有牌可以发&quot;&quot;&quot;</span>
</span><span id=__span-30-29><a id=__codelineno-30-29 name=__codelineno-30-29 href=#__codelineno-30-29></a>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>current</span> <span class=o>&lt;</span> <span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>cards</span><span class=p>)</span>
</span></code></pre></div> <p>可以通过下面的代码来测试下<code>Poker</code>类。</p> <div class="language-Python highlight"><pre><span></span><code><span id=__span-31-1><a id=__codelineno-31-1 name=__codelineno-31-1 href=#__codelineno-31-1></a><span class=n>poker</span> <span class=o>=</span> <span class=n>Poker</span><span class=p>()</span>
</span><span id=__span-31-2><a id=__codelineno-31-2 name=__codelineno-31-2 href=#__codelineno-31-2></a><span class=n>poker</span><span class=o>.</span><span class=n>shuffle</span><span class=p>()</span>
</span><span id=__span-31-3><a id=__codelineno-31-3 name=__codelineno-31-3 href=#__codelineno-31-3></a><span class=nb>print</span><span class=p>(</span><span class=n>poker</span><span class=o>.</span><span class=n>cards</span><span class=p>)</span>
</span></code></pre></div> <p>定义玩家类。</p> <div class="language-Python highlight"><pre><span></span><code><span id=__span-32-1><a id=__codelineno-32-1 name=__codelineno-32-1 href=#__codelineno-32-1></a><span class=k>class</span><span class=w> </span><span class=nc>Player</span><span class=p>:</span>
</span><span id=__span-32-2><a id=__codelineno-32-2 name=__codelineno-32-2 href=#__codelineno-32-2></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;玩家&quot;&quot;&quot;</span>
</span><span id=__span-32-3><a id=__codelineno-32-3 name=__codelineno-32-3 href=#__codelineno-32-3></a>
</span><span id=__span-32-4><a id=__codelineno-32-4 name=__codelineno-32-4 href=#__codelineno-32-4></a>    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>):</span>
</span><span id=__span-32-5><a id=__codelineno-32-5 name=__codelineno-32-5 href=#__codelineno-32-5></a>        <span class=bp>self</span><span class=o>.</span><span class=n>name</span> <span class=o>=</span> <span class=n>name</span>
</span><span id=__span-32-6><a id=__codelineno-32-6 name=__codelineno-32-6 href=#__codelineno-32-6></a>        <span class=bp>self</span><span class=o>.</span><span class=n>cards</span> <span class=o>=</span> <span class=p>[]</span>
</span><span id=__span-32-7><a id=__codelineno-32-7 name=__codelineno-32-7 href=#__codelineno-32-7></a>
</span><span id=__span-32-8><a id=__codelineno-32-8 name=__codelineno-32-8 href=#__codelineno-32-8></a>    <span class=k>def</span><span class=w> </span><span class=nf>get_one</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>card</span><span class=p>):</span>
</span><span id=__span-32-9><a id=__codelineno-32-9 name=__codelineno-32-9 href=#__codelineno-32-9></a><span class=w>        </span><span class=sd>&quot;&quot;&quot;摸牌&quot;&quot;&quot;</span>
</span><span id=__span-32-10><a id=__codelineno-32-10 name=__codelineno-32-10 href=#__codelineno-32-10></a>        <span class=bp>self</span><span class=o>.</span><span class=n>cards</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>card</span><span class=p>)</span>
</span><span id=__span-32-11><a id=__codelineno-32-11 name=__codelineno-32-11 href=#__codelineno-32-11></a>
</span><span id=__span-32-12><a id=__codelineno-32-12 name=__codelineno-32-12 href=#__codelineno-32-12></a>    <span class=k>def</span><span class=w> </span><span class=nf>arrange</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-32-13><a id=__codelineno-32-13 name=__codelineno-32-13 href=#__codelineno-32-13></a>        <span class=bp>self</span><span class=o>.</span><span class=n>cards</span><span class=o>.</span><span class=n>sort</span><span class=p>()</span>
</span></code></pre></div> <p>创建四个玩家并将牌发到玩家的手上。</p> <div class="language-Python highlight"><pre><span></span><code><span id=__span-33-1><a id=__codelineno-33-1 name=__codelineno-33-1 href=#__codelineno-33-1></a><span class=n>poker</span> <span class=o>=</span> <span class=n>Poker</span><span class=p>()</span>
</span><span id=__span-33-2><a id=__codelineno-33-2 name=__codelineno-33-2 href=#__codelineno-33-2></a><span class=n>poker</span><span class=o>.</span><span class=n>shuffle</span><span class=p>()</span>
</span><span id=__span-33-3><a id=__codelineno-33-3 name=__codelineno-33-3 href=#__codelineno-33-3></a><span class=n>players</span> <span class=o>=</span> <span class=p>[</span><span class=n>Player</span><span class=p>(</span><span class=s1>&#39;东邪&#39;</span><span class=p>),</span> <span class=n>Player</span><span class=p>(</span><span class=s1>&#39;西毒&#39;</span><span class=p>),</span> <span class=n>Player</span><span class=p>(</span><span class=s1>&#39;南帝&#39;</span><span class=p>),</span> <span class=n>Player</span><span class=p>(</span><span class=s1>&#39;北丐&#39;</span><span class=p>)]</span>
</span><span id=__span-33-4><a id=__codelineno-33-4 name=__codelineno-33-4 href=#__codelineno-33-4></a><span class=k>for</span> <span class=n>_</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>13</span><span class=p>):</span>
</span><span id=__span-33-5><a id=__codelineno-33-5 name=__codelineno-33-5 href=#__codelineno-33-5></a>    <span class=k>for</span> <span class=n>player</span> <span class=ow>in</span> <span class=n>players</span><span class=p>:</span>
</span><span id=__span-33-6><a id=__codelineno-33-6 name=__codelineno-33-6 href=#__codelineno-33-6></a>        <span class=n>player</span><span class=o>.</span><span class=n>get_one</span><span class=p>(</span><span class=n>poker</span><span class=o>.</span><span class=n>deal</span><span class=p>())</span>
</span><span id=__span-33-7><a id=__codelineno-33-7 name=__codelineno-33-7 href=#__codelineno-33-7></a><span class=k>for</span> <span class=n>player</span> <span class=ow>in</span> <span class=n>players</span><span class=p>:</span>
</span><span id=__span-33-8><a id=__codelineno-33-8 name=__codelineno-33-8 href=#__codelineno-33-8></a>    <span class=n>player</span><span class=o>.</span><span class=n>arrange</span><span class=p>()</span>
</span><span id=__span-33-9><a id=__codelineno-33-9 name=__codelineno-33-9 href=#__codelineno-33-9></a>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;</span><span class=si>{</span><span class=n>player</span><span class=o>.</span><span class=n>name</span><span class=si>}</span><span class=s1>: &#39;</span><span class=p>,</span> <span class=n>end</span><span class=o>=</span><span class=s1>&#39;&#39;</span><span class=p>)</span>
</span><span id=__span-33-10><a id=__codelineno-33-10 name=__codelineno-33-10 href=#__codelineno-33-10></a>    <span class=nb>print</span><span class=p>(</span><span class=n>player</span><span class=o>.</span><span class=n>cards</span><span class=p>)</span>
</span></code></pre></div> <p>执行上面的代码会在<code>player.arrange()</code>那里出现异常，因为<code>Player</code>的<code>arrange</code>方法使用了列表的<code>sort</code>对玩家手上的牌进行排序，排序需要比较两个<code>Card</code>对象的大小，而<code>&lt;</code>运算符又不能直接作用于<code>Card</code>类型，所以就出现了<code>TypeError</code>异常，异常消息为：<code>'&lt;' not supported between instances of 'Card' and 'Card'</code>。</p> <p>为了解决这个问题，我们可以对<code>Card</code>类的代码稍作修改，使得两个<code>Card</code>对象可以直接用<code>&lt;</code>进行大小的比较。这里用到技术叫<strong>运算符重载</strong>，Python中要实现对<code>&lt;</code>运算符的重载，需要在类中添加一个名为<code>__lt__</code>的魔术方法。很显然，魔术方法<code>__lt__</code>中的<code>lt</code>是英文单词“less than”的缩写，以此类推，魔术方法<code>__gt__</code>对应<code>&gt;</code>运算符，魔术方法<code>__le__</code>对应<code>&lt;=</code>运算符，<code>__ge__</code>对应<code>&gt;=</code>运算符，<code>__eq__</code>对应<code>==</code>运算符，<code>__ne__</code>对应<code>!=</code>运算符。</p> <p>修改后的<code>Card</code>类代码如下所示。</p> <div class="language-Python highlight"><pre><span></span><code><span id=__span-34-1><a id=__codelineno-34-1 name=__codelineno-34-1 href=#__codelineno-34-1></a><span class=k>class</span><span class=w> </span><span class=nc>Card</span><span class=p>:</span>
</span><span id=__span-34-2><a id=__codelineno-34-2 name=__codelineno-34-2 href=#__codelineno-34-2></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;牌&quot;&quot;&quot;</span>
</span><span id=__span-34-3><a id=__codelineno-34-3 name=__codelineno-34-3 href=#__codelineno-34-3></a>
</span><span id=__span-34-4><a id=__codelineno-34-4 name=__codelineno-34-4 href=#__codelineno-34-4></a>    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>suite</span><span class=p>,</span> <span class=n>face</span><span class=p>):</span>
</span><span id=__span-34-5><a id=__codelineno-34-5 name=__codelineno-34-5 href=#__codelineno-34-5></a>        <span class=bp>self</span><span class=o>.</span><span class=n>suite</span> <span class=o>=</span> <span class=n>suite</span>
</span><span id=__span-34-6><a id=__codelineno-34-6 name=__codelineno-34-6 href=#__codelineno-34-6></a>        <span class=bp>self</span><span class=o>.</span><span class=n>face</span> <span class=o>=</span> <span class=n>face</span>
</span><span id=__span-34-7><a id=__codelineno-34-7 name=__codelineno-34-7 href=#__codelineno-34-7></a>
</span><span id=__span-34-8><a id=__codelineno-34-8 name=__codelineno-34-8 href=#__codelineno-34-8></a>    <span class=k>def</span><span class=w> </span><span class=fm>__repr__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-34-9><a id=__codelineno-34-9 name=__codelineno-34-9 href=#__codelineno-34-9></a>        <span class=n>suites</span> <span class=o>=</span> <span class=s1>&#39;♠♥♣♦&#39;</span>
</span><span id=__span-34-10><a id=__codelineno-34-10 name=__codelineno-34-10 href=#__codelineno-34-10></a>        <span class=n>faces</span> <span class=o>=</span> <span class=p>[</span><span class=s1>&#39;&#39;</span><span class=p>,</span> <span class=s1>&#39;A&#39;</span><span class=p>,</span> <span class=s1>&#39;2&#39;</span><span class=p>,</span> <span class=s1>&#39;3&#39;</span><span class=p>,</span> <span class=s1>&#39;4&#39;</span><span class=p>,</span> <span class=s1>&#39;5&#39;</span><span class=p>,</span> <span class=s1>&#39;6&#39;</span><span class=p>,</span> <span class=s1>&#39;7&#39;</span><span class=p>,</span> <span class=s1>&#39;8&#39;</span><span class=p>,</span> <span class=s1>&#39;9&#39;</span><span class=p>,</span> <span class=s1>&#39;10&#39;</span><span class=p>,</span> <span class=s1>&#39;J&#39;</span><span class=p>,</span> <span class=s1>&#39;Q&#39;</span><span class=p>,</span> <span class=s1>&#39;K&#39;</span><span class=p>]</span>
</span><span id=__span-34-11><a id=__codelineno-34-11 name=__codelineno-34-11 href=#__codelineno-34-11></a>        <span class=c1># 根据牌的花色和点数取到对应的字符</span>
</span><span id=__span-34-12><a id=__codelineno-34-12 name=__codelineno-34-12 href=#__codelineno-34-12></a>        <span class=k>return</span> <span class=sa>f</span><span class=s1>&#39;</span><span class=si>{</span><span class=n>suites</span><span class=p>[</span><span class=bp>self</span><span class=o>.</span><span class=n>suite</span><span class=o>.</span><span class=n>value</span><span class=p>]</span><span class=si>}{</span><span class=n>faces</span><span class=p>[</span><span class=bp>self</span><span class=o>.</span><span class=n>face</span><span class=p>]</span><span class=si>}</span><span class=s1>&#39;</span>
</span><span id=__span-34-13><a id=__codelineno-34-13 name=__codelineno-34-13 href=#__codelineno-34-13></a>
</span><span id=__span-34-14><a id=__codelineno-34-14 name=__codelineno-34-14 href=#__codelineno-34-14></a>    <span class=k>def</span><span class=w> </span><span class=fm>__lt__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>other</span><span class=p>):</span>
</span><span id=__span-34-15><a id=__codelineno-34-15 name=__codelineno-34-15 href=#__codelineno-34-15></a>        <span class=c1># 花色相同比较点数的大小</span>
</span><span id=__span-34-16><a id=__codelineno-34-16 name=__codelineno-34-16 href=#__codelineno-34-16></a>        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>suite</span> <span class=o>==</span> <span class=n>other</span><span class=o>.</span><span class=n>suite</span><span class=p>:</span>
</span><span id=__span-34-17><a id=__codelineno-34-17 name=__codelineno-34-17 href=#__codelineno-34-17></a>            <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>face</span> <span class=o>&lt;</span> <span class=n>other</span><span class=o>.</span><span class=n>face</span>
</span><span id=__span-34-18><a id=__codelineno-34-18 name=__codelineno-34-18 href=#__codelineno-34-18></a>        <span class=c1># 花色不同比较花色对应的值</span>
</span><span id=__span-34-19><a id=__codelineno-34-19 name=__codelineno-34-19 href=#__codelineno-34-19></a>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>suite</span><span class=o>.</span><span class=n>value</span> <span class=o>&lt;</span> <span class=n>other</span><span class=o>.</span><span class=n>suite</span><span class=o>.</span><span class=n>value</span>
</span></code></pre></div> <blockquote> <p><strong>说明：</strong> 大家可以尝试在上面代码的基础上写一个简单的扑克游戏，如21点游戏（Black Jack），游戏的规则可以自己在网上找一找。</p> </blockquote> <p>案例3：工资结算系统。</p> <blockquote> <p><strong>要求</strong>：某公司有三种类型的员工，分别是部门经理、程序员和销售员。需要设计一个工资结算系统，根据提供的员工信息来计算员工的月薪。其中，部门经理的月薪是固定15000元；程序员按工作时间（以小时为单位）支付月薪，每小时200元；销售员的月薪由1800元底薪加上销售额5%的提成两部分构成。</p> </blockquote> <p>通过对上述需求的分析，可以看出部门经理、程序员、销售员都是员工，有相同的属性和行为，那么我们可以先设计一个名为<code>Employee</code>的父类，再通过继承的方式从这个父类派生出部门经理、程序员和销售员三个子类。很显然，后续的代码不会创建<code>Employee</code> 类的对象，因为我们需要的是具体的员工对象，所以这个类可以设计成专门用于继承的抽象类。Python中没有定义抽象类的关键字，但是可以通过<code>abc</code>模块中名为<code>ABCMeta</code> 的元类来定义抽象类。关于元类的知识，后面的课程中会有专门的讲解，这里不用太纠结这个概念，记住用法即可。</p> <div class="language-Python highlight"><pre><span></span><code><span id=__span-35-1><a id=__codelineno-35-1 name=__codelineno-35-1 href=#__codelineno-35-1></a><span class=kn>from</span><span class=w> </span><span class=nn>abc</span><span class=w> </span><span class=kn>import</span> <span class=n>ABCMeta</span><span class=p>,</span> <span class=n>abstractmethod</span>
</span><span id=__span-35-2><a id=__codelineno-35-2 name=__codelineno-35-2 href=#__codelineno-35-2></a>
</span><span id=__span-35-3><a id=__codelineno-35-3 name=__codelineno-35-3 href=#__codelineno-35-3></a>
</span><span id=__span-35-4><a id=__codelineno-35-4 name=__codelineno-35-4 href=#__codelineno-35-4></a><span class=k>class</span><span class=w> </span><span class=nc>Employee</span><span class=p>(</span><span class=n>metaclass</span><span class=o>=</span><span class=n>ABCMeta</span><span class=p>):</span>
</span><span id=__span-35-5><a id=__codelineno-35-5 name=__codelineno-35-5 href=#__codelineno-35-5></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;员工&quot;&quot;&quot;</span>
</span><span id=__span-35-6><a id=__codelineno-35-6 name=__codelineno-35-6 href=#__codelineno-35-6></a>
</span><span id=__span-35-7><a id=__codelineno-35-7 name=__codelineno-35-7 href=#__codelineno-35-7></a>    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>):</span>
</span><span id=__span-35-8><a id=__codelineno-35-8 name=__codelineno-35-8 href=#__codelineno-35-8></a>        <span class=bp>self</span><span class=o>.</span><span class=n>name</span> <span class=o>=</span> <span class=n>name</span>
</span><span id=__span-35-9><a id=__codelineno-35-9 name=__codelineno-35-9 href=#__codelineno-35-9></a>
</span><span id=__span-35-10><a id=__codelineno-35-10 name=__codelineno-35-10 href=#__codelineno-35-10></a>    <span class=nd>@abstractmethod</span>
</span><span id=__span-35-11><a id=__codelineno-35-11 name=__codelineno-35-11 href=#__codelineno-35-11></a>    <span class=k>def</span><span class=w> </span><span class=nf>get_salary</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-35-12><a id=__codelineno-35-12 name=__codelineno-35-12 href=#__codelineno-35-12></a><span class=w>        </span><span class=sd>&quot;&quot;&quot;结算月薪&quot;&quot;&quot;</span>
</span><span id=__span-35-13><a id=__codelineno-35-13 name=__codelineno-35-13 href=#__codelineno-35-13></a>        <span class=k>pass</span>
</span></code></pre></div> <p>在上面的员工类中，有一个名为<code>get_salary</code>的方法用于结算月薪，但是由于还没有确定是哪一类员工，所以结算月薪虽然是员工的公共行为但这里却没有办法实现。对于暂时无法实现的方法，我们可以使用<code>abstractmethod</code>装饰器将其声明为抽象方法，所谓<strong>抽象方法就是只有声明没有实现的方法</strong>，<strong>声明这个方法是为了让子类去重写这个方法</strong>。接下来的代码展示了如何从员工类派生出部门经理、程序员、销售员这三个子类以及子类如何重写父类的抽象方法。</p> <div class="language-Python highlight"><pre><span></span><code><span id=__span-36-1><a id=__codelineno-36-1 name=__codelineno-36-1 href=#__codelineno-36-1></a><span class=k>class</span><span class=w> </span><span class=nc>Manager</span><span class=p>(</span><span class=n>Employee</span><span class=p>):</span>
</span><span id=__span-36-2><a id=__codelineno-36-2 name=__codelineno-36-2 href=#__codelineno-36-2></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;部门经理&quot;&quot;&quot;</span>
</span><span id=__span-36-3><a id=__codelineno-36-3 name=__codelineno-36-3 href=#__codelineno-36-3></a>
</span><span id=__span-36-4><a id=__codelineno-36-4 name=__codelineno-36-4 href=#__codelineno-36-4></a>    <span class=k>def</span><span class=w> </span><span class=nf>get_salary</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-36-5><a id=__codelineno-36-5 name=__codelineno-36-5 href=#__codelineno-36-5></a>        <span class=k>return</span> <span class=mf>15000.0</span>
</span><span id=__span-36-6><a id=__codelineno-36-6 name=__codelineno-36-6 href=#__codelineno-36-6></a>
</span><span id=__span-36-7><a id=__codelineno-36-7 name=__codelineno-36-7 href=#__codelineno-36-7></a>
</span><span id=__span-36-8><a id=__codelineno-36-8 name=__codelineno-36-8 href=#__codelineno-36-8></a><span class=k>class</span><span class=w> </span><span class=nc>Programmer</span><span class=p>(</span><span class=n>Employee</span><span class=p>):</span>
</span><span id=__span-36-9><a id=__codelineno-36-9 name=__codelineno-36-9 href=#__codelineno-36-9></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;程序员&quot;&quot;&quot;</span>
</span><span id=__span-36-10><a id=__codelineno-36-10 name=__codelineno-36-10 href=#__codelineno-36-10></a>
</span><span id=__span-36-11><a id=__codelineno-36-11 name=__codelineno-36-11 href=#__codelineno-36-11></a>    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>working_hour</span><span class=o>=</span><span class=mi>0</span><span class=p>):</span>
</span><span id=__span-36-12><a id=__codelineno-36-12 name=__codelineno-36-12 href=#__codelineno-36-12></a>        <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__init__</span><span class=p>(</span><span class=n>name</span><span class=p>)</span>
</span><span id=__span-36-13><a id=__codelineno-36-13 name=__codelineno-36-13 href=#__codelineno-36-13></a>        <span class=bp>self</span><span class=o>.</span><span class=n>working_hour</span> <span class=o>=</span> <span class=n>working_hour</span>
</span><span id=__span-36-14><a id=__codelineno-36-14 name=__codelineno-36-14 href=#__codelineno-36-14></a>
</span><span id=__span-36-15><a id=__codelineno-36-15 name=__codelineno-36-15 href=#__codelineno-36-15></a>    <span class=k>def</span><span class=w> </span><span class=nf>get_salary</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-36-16><a id=__codelineno-36-16 name=__codelineno-36-16 href=#__codelineno-36-16></a>        <span class=k>return</span> <span class=mi>200</span> <span class=o>*</span> <span class=bp>self</span><span class=o>.</span><span class=n>working_hour</span>
</span><span id=__span-36-17><a id=__codelineno-36-17 name=__codelineno-36-17 href=#__codelineno-36-17></a>
</span><span id=__span-36-18><a id=__codelineno-36-18 name=__codelineno-36-18 href=#__codelineno-36-18></a>
</span><span id=__span-36-19><a id=__codelineno-36-19 name=__codelineno-36-19 href=#__codelineno-36-19></a><span class=k>class</span><span class=w> </span><span class=nc>Salesman</span><span class=p>(</span><span class=n>Employee</span><span class=p>):</span>
</span><span id=__span-36-20><a id=__codelineno-36-20 name=__codelineno-36-20 href=#__codelineno-36-20></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;销售员&quot;&quot;&quot;</span>
</span><span id=__span-36-21><a id=__codelineno-36-21 name=__codelineno-36-21 href=#__codelineno-36-21></a>
</span><span id=__span-36-22><a id=__codelineno-36-22 name=__codelineno-36-22 href=#__codelineno-36-22></a>    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>sales</span><span class=o>=</span><span class=mi>0</span><span class=p>):</span>
</span><span id=__span-36-23><a id=__codelineno-36-23 name=__codelineno-36-23 href=#__codelineno-36-23></a>        <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__init__</span><span class=p>(</span><span class=n>name</span><span class=p>)</span>
</span><span id=__span-36-24><a id=__codelineno-36-24 name=__codelineno-36-24 href=#__codelineno-36-24></a>        <span class=bp>self</span><span class=o>.</span><span class=n>sales</span> <span class=o>=</span> <span class=n>sales</span>
</span><span id=__span-36-25><a id=__codelineno-36-25 name=__codelineno-36-25 href=#__codelineno-36-25></a>
</span><span id=__span-36-26><a id=__codelineno-36-26 name=__codelineno-36-26 href=#__codelineno-36-26></a>    <span class=k>def</span><span class=w> </span><span class=nf>get_salary</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-36-27><a id=__codelineno-36-27 name=__codelineno-36-27 href=#__codelineno-36-27></a>        <span class=k>return</span> <span class=mi>1800</span> <span class=o>+</span> <span class=bp>self</span><span class=o>.</span><span class=n>sales</span> <span class=o>*</span> <span class=mf>0.05</span>
</span></code></pre></div> <p>上面的<code>Manager</code>、<code>Programmer</code>、<code>Salesman</code>三个类都继承自<code>Employee</code>，三个类都分别重写了<code>get_salary</code>方法。<strong>重写就是子类对父类已有的方法重新做出实现</strong>。相信大家已经注意到了，三个子类中的<code>get_salary</code>各不相同，所以这个方法在程序运行时会产生<strong>多态行为</strong>，多态简单的说就是<strong>调用相同的方法</strong>，<strong>不同的子类对象做不同的事情</strong>。</p> <p>我们通过下面的代码来完成这个工资结算系统，由于程序员和销售员需要分别录入本月的工作时间和销售额，所以在下面的代码中我们使用了Python内置的<code>isinstance</code>函数来判断员工对象的类型。我们之前讲过的<code>type</code>函数也能识别对象的类型，但是<code>isinstance</code>函数更加强大，因为它可以判断出一个对象是不是某个继承结构下的子类型，你可以简答的理解为<code>type</code>函数是对对象类型的精准匹配，而<code>isinstance</code>函数是对对象类型的模糊匹配。</p> <div class="language-Python highlight"><pre><span></span><code><span id=__span-37-1><a id=__codelineno-37-1 name=__codelineno-37-1 href=#__codelineno-37-1></a><span class=n>emps</span> <span class=o>=</span> <span class=p>[</span>
</span><span id=__span-37-2><a id=__codelineno-37-2 name=__codelineno-37-2 href=#__codelineno-37-2></a>    <span class=n>Manager</span><span class=p>(</span><span class=s1>&#39;刘备&#39;</span><span class=p>),</span> <span class=n>Programmer</span><span class=p>(</span><span class=s1>&#39;诸葛亮&#39;</span><span class=p>),</span> <span class=n>Manager</span><span class=p>(</span><span class=s1>&#39;曹操&#39;</span><span class=p>),</span> 
</span><span id=__span-37-3><a id=__codelineno-37-3 name=__codelineno-37-3 href=#__codelineno-37-3></a>    <span class=n>Programmer</span><span class=p>(</span><span class=s1>&#39;荀彧&#39;</span><span class=p>),</span> <span class=n>Salesman</span><span class=p>(</span><span class=s1>&#39;吕布&#39;</span><span class=p>),</span> <span class=n>Programmer</span><span class=p>(</span><span class=s1>&#39;张辽&#39;</span><span class=p>),</span>
</span><span id=__span-37-4><a id=__codelineno-37-4 name=__codelineno-37-4 href=#__codelineno-37-4></a><span class=p>]</span>
</span><span id=__span-37-5><a id=__codelineno-37-5 name=__codelineno-37-5 href=#__codelineno-37-5></a><span class=k>for</span> <span class=n>emp</span> <span class=ow>in</span> <span class=n>emps</span><span class=p>:</span>
</span><span id=__span-37-6><a id=__codelineno-37-6 name=__codelineno-37-6 href=#__codelineno-37-6></a>    <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>emp</span><span class=p>,</span> <span class=n>Programmer</span><span class=p>):</span>
</span><span id=__span-37-7><a id=__codelineno-37-7 name=__codelineno-37-7 href=#__codelineno-37-7></a>        <span class=n>emp</span><span class=o>.</span><span class=n>working_hour</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=nb>input</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;请输入</span><span class=si>{</span><span class=n>emp</span><span class=o>.</span><span class=n>name</span><span class=si>}</span><span class=s1>本月工作时间: &#39;</span><span class=p>))</span>
</span><span id=__span-37-8><a id=__codelineno-37-8 name=__codelineno-37-8 href=#__codelineno-37-8></a>    <span class=k>elif</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>emp</span><span class=p>,</span> <span class=n>Salesman</span><span class=p>):</span>
</span><span id=__span-37-9><a id=__codelineno-37-9 name=__codelineno-37-9 href=#__codelineno-37-9></a>        <span class=n>emp</span><span class=o>.</span><span class=n>sales</span> <span class=o>=</span> <span class=nb>float</span><span class=p>(</span><span class=nb>input</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;请输入</span><span class=si>{</span><span class=n>emp</span><span class=o>.</span><span class=n>name</span><span class=si>}</span><span class=s1>本月销售额: &#39;</span><span class=p>))</span>
</span><span id=__span-37-10><a id=__codelineno-37-10 name=__codelineno-37-10 href=#__codelineno-37-10></a>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;</span><span class=si>{</span><span class=n>emp</span><span class=o>.</span><span class=n>name</span><span class=si>}</span><span class=s1>本月工资为: ￥</span><span class=si>{</span><span class=n>emp</span><span class=o>.</span><span class=n>get_salary</span><span class=p>()</span><span class=si>:</span><span class=s1>.2f</span><span class=si>}</span><span class=s1>元&#39;</span><span class=p>)</span>
</span></code></pre></div> <h3 id=_14>简单的总结<a class=headerlink href=#_14 title="Permanent link">&para;</a></h3> <p>面向对象的编程思想非常的好，也符合人类的正常思维习惯，但是要想灵活运用面向对象编程中的抽象、封装、继承、多态需要长时间的积累和沉淀，这件事情无法一蹴而就，属于“路漫漫其修远兮，吾将上下而求索”的东西。</p> <aside class=md-source-file> <span class=md-source-file__fact> <span class=md-icon title="Last update"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-datetime">2025年1月16日 14:06:32</span> </span> <span class=md-source-file__fact> <span class=md-icon title=Created> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-datetime">2025年1月15日 22:20:30</span> </span> </aside> <div id=__comments> <h3>颜色主题调整</h3> <div class=tx-switch> <button class=button1 data-md-color-primary=red style=background-color:red>red</button> <button class=button1 data-md-color-primary=pink style=background-color:pink;color:black>pink</button> <button class=button1 data-md-color-primary=purple style=background-color:purple>purple</button> <button class=button1 data-md-color-primary=indigo style=background-color:indigo>indigo</button> <button class=button1 data-md-color-primary=blue style=background-color:blue>blue</button> <button class=button1 data-md-color-primary=cyan style=background-color:cyan;color:black>cyan</button> <button class=button1 data-md-color-primary=teal style=background-color:teal>teal</button> <button class=button1 data-md-color-primary=green style=background-color:green>green</button> <button class=button1 data-md-color-primary=lime style=background-color:lime;color:black>lime</button> <button class=button1 data-md-color-primary=orange style=background-color:orange;color:black>orange</button> <button class=button1 data-md-color-primary=brown style="background-color:brown;border-radius: 3px">brown</button> <button class=button1 data-md-color-primary=grey style="background-color: grey;">grey</button> <button class=button1 data-md-color-primary=black style=background-color:black>black</button> <button class=button1 data-md-color-primary=white style=background-color:white;color:black>white</button> </div> <!-- Insert generated snippet here --> <script src=https://giscus.app/client.js data-repo=Zhang-Each/My-CS-Notebook data-repo-id=R_kgDOI0dr4w data-category=General data-category-id=DIC_kwDOI0dr484CTvIK data-mapping=pathname data-strict=0 data-reactions-enabled=1 data-emit-metadata=1 data-input-position=bottom data-theme=preferred_color_scheme data-lang=zh-CN data-loading=lazy crossorigin=anonymous async>
    </script> <script>
    var buttons = document.querySelectorAll("button[data-md-color-primary]")
    buttons.forEach(function(button) {
            button.addEventListener("click", function() {
            var attr = this.getAttribute("data-md-color-primary")
            document.body.setAttribute("data-md-color-primary", attr)
            localStorage.setItem("data-md-color-primary",attr);
            })
    })
    </script> <!-- Synchronize Giscus theme with palette --> <script>
var giscus = document.querySelector("script[src*=giscus]")

// Set palette on initial load
var palette = __md_get("__palette")
if (palette && typeof palette.color === "object") {
    var theme = palette.color.scheme === "slate"
    ? "dark_protanopia"
    : "light_protanopia"

    // Instruct Giscus to set theme
    giscus.setAttribute("data-theme", theme) 
}

// Register event handlers after documented loaded
document.addEventListener("DOMContentLoaded", function() {
    var ref = document.querySelector("[data-md-component=palette]")
    ref.addEventListener("change", function() {
    var palette = __md_get("__palette")
    if (palette && typeof palette.color === "object") {
        var theme = palette.color.scheme === "slate"
        ? "dark_protanopia"
        : "light_protanopia"

        // Instruct Giscus to change theme
        var frame = document.querySelector(".giscus-frame")
        frame.contentWindow.postMessage(
        { giscus: { setConfig: { theme } } },
        "https://giscus.app"
        )
    }
    })
})
</script> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Back to top </button> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright © 2024 张瑞喆 All rights reserved. <a href=#__consent>Change cookie settings</a> </div> </div> <div class=md-social> <a href=https://github.com/r-z-zhang-AI target=_blank rel=noopener title="GitHub | r-z-zhang-AI" class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <div class=md-consent data-md-component=consent id=__consent hidden> <div class=md-consent__overlay></div> <aside class=md-consent__inner> <form class="md-consent__form md-grid md-typeset" name=consent> <h4>Cookie consent</h4> <p>We use cookies to recognize your repeated visits and preferences, as well as to measure the effectiveness of our documentation and whether users find what they're searching for. With your consent, you're helping us to make our documentation better.</p> <input class=md-toggle type=checkbox id=__settings> <div class=md-consent__settings> <ul class=task-list> <li class=task-list-item> <label class=task-list-control> <input type=checkbox name=analytics> <span class=task-list-indicator></span> Google Analytics </label> </li> <li class=task-list-item> <label class=task-list-control> <input type=checkbox name=github checked> <span class=task-list-indicator></span> GitHub </label> </li> </ul> </div> <div class=md-consent__controls> <button class="md-button md-button--primary">Accept</button> <label class=md-button for=__settings>Manage settings</label> </div> </form> </aside> </div> <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout((function(){document.querySelector("[data-md-component=consent]").hidden=!1}),250);var form=document.forms.consent;for(var action of["submit","reset"])form.addEventListener(action,(function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map((function(e){return[e,!0]})))),location.hash="",location.reload()}))</script> <script id=__config type=application/json>{"base": "../../../..", "features": ["navigation.tabs", "navigation.top", "navigation.indexes", "toc.follow", "search.suggest", "search.highlight", "content.code.copy", "content.action.edit", "announce.dismiss"], "search": "../../../../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script> <script src=../../../../assets/javascripts/bundle.f1b6f286.min.js></script> <script src=../../../../mkdocs/javascripts/mathjax.js></script> <script src=https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js></script> <script id=init-glightbox>const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body> </html>