<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Zhang rz的个人网站"><meta name=author content=张瑞喆><link href=https://r-z-zhang-AI.github.io/CS/pl/C_Cpp/C/c-note/ rel=canonical><link href=../../../../ rel=prev><link href=../c-errors-and-tips/ rel=next><link rel=alternate type=application/rss+xml title="RSS feed" href=../../../../../feed_rss_created.xml><link rel=alternate type=application/rss+xml title="RSS feed of updated content" href=../../../../../feed_rss_updated.xml><link rel=icon href=../../../../../assets/images/favicon.png><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.5.49"><title>学习笔记 - Growing Cosmos</title><link rel=stylesheet href=../../../../../assets/stylesheets/main.6f8fc17f.min.css><link rel=stylesheet href=../../../../../assets/stylesheets/palette.06af60db.min.css><style>:root{--md-admonition-icon--note:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M64 32C28.7 32 0 60.7 0 96v320c0 35.3 28.7 64 64 64h224V368c0-26.5 21.5-48 48-48h112V96c0-35.3-28.7-64-64-64zm384 320H336c-8.8 0-16 7.2-16 16v112l32-32 64-64z"/></svg>');--md-admonition-icon--abstract:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M96 0C43 0 0 43 0 96v320c0 53 43 96 96 96h320c17.7 0 32-14.3 32-32s-14.3-32-32-32v-64c17.7 0 32-14.3 32-32V32c0-17.7-14.3-32-32-32H96m0 384h256v64H96c-17.7 0-32-14.3-32-32s14.3-32 32-32m32-240c0-8.8 7.2-16 16-16h192c8.8 0 16 7.2 16 16s-7.2 16-16 16H144c-8.8 0-16-7.2-16-16m16 48h192c8.8 0 16 7.2 16 16s-7.2 16-16 16H144c-8.8 0-16-7.2-16-16s7.2-16 16-16"/></svg>');--md-admonition-icon--info:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M256 512a256 256 0 1 0 0-512 256 256 0 1 0 0 512m-40-176h24v-64h-24c-13.3 0-24-10.7-24-24s10.7-24 24-24h48c13.3 0 24 10.7 24 24v88h8c13.3 0 24 10.7 24 24s-10.7 24-24 24h-80c-13.3 0-24-10.7-24-24s10.7-24 24-24m40-208a32 32 0 1 1 0 64 32 32 0 1 1 0-64"/></svg>');--md-admonition-icon--tip:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M480 32c0-12.9-7.8-24.6-19.8-29.6S434.5.2 425.3 9.3L381.7 53c-48 48-113.1 75-181 75H64c-35.3 0-64 28.7-64 64v96c0 35.3 28.7 64 64 64v128c0 17.7 14.3 32 32 32h64c17.7 0 32-14.3 32-32V352h8.7c67.9 0 133 27 181 75l43.6 43.6c9.2 9.2 22.9 11.9 34.9 6.9s19.8-16.6 19.8-29.6V300.3c18.6-8.8 32-32.5 32-60.4s-13.4-51.6-32-60.4zm-64 76.7v262.6C357.2 317.8 280.5 288 200.7 288H192v-96h8.7c79.8 0 156.5-29.8 215.3-83.3"/></svg>');--md-admonition-icon--success:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7l233.4-233.3c12.5-12.5 32.8-12.5 45.3 0z"/></svg>');--md-admonition-icon--question:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M256 512a256 256 0 1 0 0-512 256 256 0 1 0 0 512m-86.2-346.7c7.9-22.3 29.1-37.3 52.8-37.3h58.3c34.9 0 63.1 28.3 63.1 63.1 0 22.6-12.1 43.5-31.7 54.8L280 264.4c-.2 13-10.9 23.6-24 23.6-13.3 0-24-10.7-24-24v-13.5c0-8.6 4.6-16.5 12.1-20.8l44.3-25.4c4.7-2.7 7.6-7.7 7.6-13.1 0-8.4-6.8-15.1-15.1-15.1h-58.3c-3.4 0-6.4 2.1-7.5 5.3l-.4 1.2c-4.4 12.5-18.2 19-30.6 14.6s-19-18.2-14.6-30.6l.4-1.2zM224 352a32 32 0 1 1 64 0 32 32 0 1 1-64 0"/></svg>');--md-admonition-icon--warning:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M256 32c14.2 0 27.3 7.5 34.5 19.8l216 368c7.3 12.4 7.3 27.7.2 40.1S486.3 480 472 480H40c-14.3 0-27.6-7.7-34.7-20.1s-7-27.8.2-40.1l216-368C228.7 39.5 241.8 32 256 32m0 128c-13.3 0-24 10.7-24 24v112c0 13.3 10.7 24 24 24s24-10.7 24-24V184c0-13.3-10.7-24-24-24m32 224a32 32 0 1 0-64 0 32 32 0 1 0 64 0"/></svg>');--md-admonition-icon--failure:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M459.1 52.4 442.6 6.5c-1.9-3.9-6.1-6.5-10.5-6.5s-8.5 2.6-10.4 6.5l-16.5 45.9-46 16.8c-4.3 1.6-7.3 5.9-7.2 10.4 0 4.5 3 8.7 7.2 10.2l45.7 16.8 16.8 45.8c1.5 4.4 5.8 7.5 10.4 7.5s8.9-3.1 10.4-7.5l16.5-45.8 45.7-16.8c4.2-1.5 7.2-5.7 7.2-10.2 0-4.6-3-8.9-7.2-10.4zm-132.4 53c-12.5-12.5-32.8-12.5-45.3 0l-2.9 2.9c-22-8-45.8-12.3-70.5-12.3C93.1 96 0 189.1 0 304s93.1 208 208 208 208-93.1 208-208c0-24.7-4.3-48.5-12.2-70.5l2.9-2.9c12.5-12.5 12.5-32.8 0-45.3l-80-80zM200 192c-57.4 0-104 46.6-104 104v8c0 8.8-7.2 16-16 16s-16-7.2-16-16v-8c0-75.1 60.9-136 136-136h8c8.8 0 16 7.2 16 16s-7.2 16-16 16z"/></svg>');--md-admonition-icon--danger:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M416 398.9c58.5-41.1 96-104.1 96-174.9C512 100.3 397.4 0 256 0S0 100.3 0 224c0 70.7 37.5 133.8 96 174.9V464c0 26.5 21.5 48 48 48h48v-48c0-8.8 7.2-16 16-16s16 7.2 16 16v48h64v-48c0-8.8 7.2-16 16-16s16 7.2 16 16v48h48c26.5 0 48-21.5 48-48v-65.1M96 256a64 64 0 1 1 128 0 64 64 0 1 1-128 0m256-64a64 64 0 1 1 0 128 64 64 0 1 1 0-128"/></svg>');--md-admonition-icon--bug:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M320 0c17.7 0 32 14.3 32 32v64h120c39.8 0 72 32.2 72 72v272c0 39.8-32.2 72-72 72H168c-39.8 0-72-32.2-72-72V168c0-39.8 32.2-72 72-72h120V32c0-17.7 14.3-32 32-32M208 384c-8.8 0-16 7.2-16 16s7.2 16 16 16h32c8.8 0 16-7.2 16-16s-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16s7.2 16 16 16h32c8.8 0 16-7.2 16-16s-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16s7.2 16 16 16h32c8.8 0 16-7.2 16-16s-7.2-16-16-16zM264 256a40 40 0 1 0-80 0 40 40 0 1 0 80 0m152 40a40 40 0 1 0 0-80 40 40 0 1 0 0 80M48 224h16v192H48c-26.5 0-48-21.5-48-48v-96c0-26.5 21.5-48 48-48m544 0c26.5 0 48 21.5 48 48v96c0 26.5-21.5 48-48 48h-16V224z"/></svg>');--md-admonition-icon--example:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M288 0H128c-17.7 0-32 14.3-32 32s14.3 32 32 32v132.8c0 11.8-3.3 23.5-9.5 33.5L10.3 406.2C3.6 417.2 0 429.7 0 442.6 0 480.9 31.1 512 69.4 512h309.2c38.3 0 69.4-31.1 69.4-69.4 0-12.8-3.6-25.4-10.3-36.4L329.5 230.4c-6.2-10.1-9.5-21.7-9.5-33.5V64c17.7 0 32-14.3 32-32S337.7 0 320 0zm-96 196.8V64h64v132.8c0 23.7 6.6 46.9 19 67.1l34.5 56.1h-171l34.5-56.1c12.4-20.2 19-43.4 19-67.1"/></svg>');--md-admonition-icon--quote:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M0 216C0 149.7 53.7 96 120 96h8c17.7 0 32 14.3 32 32s-14.3 32-32 32h-8c-30.9 0-56 25.1-56 56v8h64c35.3 0 64 28.7 64 64v64c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V216m256 0c0-66.3 53.7-120 120-120h8c17.7 0 32 14.3 32 32s-14.3 32-32 32h-8c-30.9 0-56 25.1-56 56v8h64c35.3 0 64 28.7 64 64v64c0 35.3-28.7 64-64 64h-64c-35.3 0-64-28.7-64-64V216"/></svg>');}</style><style>:root{--md-annotation-icon:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 22c.8 0 1.6-.1 2.3-.3-.4-.5-.8-1.1-1-1.8-.4.1-.9.1-1.3.1-4.4 0-8-3.6-8-8s3.6-8 8-8c.8 0 1.5.1 2.2.3l1.6-1.6C14.6 2.3 13.3 2 12 2 6.5 2 2 6.5 2 12s4.5 10 10 10M6.5 11.5l1.4-1.4 3.1 3.1 8.6-8.6L21 6 11 16zM19 14l-1.26 2.75L15 18l2.74 1.26L19 22l1.25-2.74L23 18l-2.75-1.25z"/></svg>');}</style><link rel=stylesheet href=../../../../../css/timeline.css><link rel=stylesheet href=../../../../../mkdocs/css/custom.css><link rel=stylesheet href=../../../../../mkdocs/css/emoji.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/lxgw-wenkai-screen-webfont@1.1.0/style.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.18/dist/katex.min.css><link rel=stylesheet href=../../../../../pymdownx.inlinehilite><link rel=stylesheet href=../../../../../pymdownx.snippets><link rel=stylesheet href=../../../../../pymdownx.superfences><link rel=stylesheet href=../../../../../admonition><link rel=stylesheet href=../../../../../pymdownx.details><link rel=stylesheet href=../../../../../footnotes><script>__md_scope=new URL("../../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><link href=../../../../../assets/stylesheets/glightbox.min.css rel=stylesheet><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style><script src=../../../../../assets/javascripts/glightbox.min.js></script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#_1 class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../../../.. title="Growing Cosmos" class="md-header__button md-logo" aria-label="Growing Cosmos" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Growing Cosmos </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> 学习笔记 </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media=(prefers-color-scheme) data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to dark mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to system preference" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to system preference" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/r-z-zhang-AI/r-z-zhang-AI.github.io title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> r-z-zhang-AI.github.io </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../../../.. class=md-tabs__link> 主页 </a> </li> <li class=md-tabs__item> <a href=../../../../../ME/ class=md-tabs__link> 个人 </a> </li> <li class=md-tabs__item> <a href=../../../../../KNOWLEDGE/ class=md-tabs__link> 知识 </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../../../../ class=md-tabs__link> 开发 </a> </li> <li class=md-tabs__item> <a href=../../../../../TUTORIAL/ class=md-tabs__link> 教程 </a> </li> <li class=md-tabs__item> <a href=../../../../../BOOK/ class=md-tabs__link> 阅读 </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../../../.. title="Growing Cosmos" class="md-nav__button md-logo" aria-label="Growing Cosmos" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg> </a> Growing Cosmos </label> <div class=md-nav__source> <a href=https://github.com/r-z-zhang-AI/r-z-zhang-AI.github.io title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> r-z-zhang-AI.github.io </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../.. class=md-nav__link> <span class=md-ellipsis> 主页 </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2> <div class="md-nav__link md-nav__container"> <a href=../../../../../ME/ class="md-nav__link "> <span class=md-ellipsis> 个人 </span> </a> <label class="md-nav__link " for=__nav_2 id=__nav_2_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> 个人 </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_2> <label class=md-nav__link for=__nav_2_2 id=__nav_2_2_label tabindex=0> <span class=md-ellipsis> 思考 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2_2> <span class="md-nav__icon md-icon"></span> 思考 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../ME/THOUGHT/colledge-education-and-my-future/ class=md-nav__link> <span class=md-ellipsis> 大学教育与人生发展 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_3> <label class=md-nav__link for=__nav_2_3 id=__nav_2_3_label tabindex=0> <span class=md-ellipsis> SDFZ </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_3_label aria-expanded=false> <label class=md-nav__title for=__nav_2_3> <span class="md-nav__icon md-icon"></span> SDFZ </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../ME/SDFZ/391forever/ class=md-nav__link> <span class=md-ellipsis> 永远的391 </span> </a> </li> <li class=md-nav__item> <a href=../../../../../ME/SDFZ/sdfz_memorior/ class=md-nav__link> <span class=md-ellipsis> 附中回忆录 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_4> <label class=md-nav__link for=__nav_2_4 id=__nav_2_4_label tabindex=0> <span class=md-ellipsis> ZJU </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_4_label aria-expanded=false> <label class=md-nav__title for=__nav_2_4> <span class="md-nav__icon md-icon"></span> ZJU </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_4_1> <label class=md-nav__link for=__nav_2_4_1 id=__nav_2_4_1_label tabindex=0> <span class=md-ellipsis> 面试经历 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_2_4_1_label aria-expanded=false> <label class=md-nav__title for=__nav_2_4_1> <span class="md-nav__icon md-icon"></span> 面试经历 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../ME/ZJU/interview/interview%20for%20SU/ class=md-nav__link> <span class=md-ellipsis> 学生会 </span> </a> </li> <li class=md-nav__item> <a href=../../../../../ME/ZJU/interview/interview%20for%20major/ class=md-nav__link> <span class=md-ellipsis> 专业确认 </span> </a> </li> <li class=md-nav__item> <a href=../../../../../ME/ZJU/interview/interview-for-qzwx/ class=md-nav__link> <span class=md-ellipsis> 启真问学 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_4_2> <label class=md-nav__link for=__nav_2_4_2 id=__nav_2_4_2_label tabindex=0> <span class=md-ellipsis> 计划 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_2_4_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2_4_2> <span class="md-nav__icon md-icon"></span> 计划 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../ME/ZJU/plan/plan-for-24winter-holiday/ class=md-nav__link> <span class=md-ellipsis> 24寒假 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_4_3> <label class=md-nav__link for=__nav_2_4_3 id=__nav_2_4_3_label tabindex=0> <span class=md-ellipsis> 学习 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_2_4_3_label aria-expanded=false> <label class=md-nav__title for=__nav_2_4_3> <span class="md-nav__icon md-icon"></span> 学习 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../ME/ZJU/learn/resoure/ class=md-nav__link> <span class=md-ellipsis> 资源 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_5> <label class=md-nav__link for=__nav_2_5 id=__nav_2_5_label tabindex=0> <span class=md-ellipsis> 随笔 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_5_label aria-expanded=false> <label class=md-nav__title for=__nav_2_5> <span class="md-nav__icon md-icon"></span> 随笔 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../ME/ESSAY/2024-11/ class=md-nav__link> <span class=md-ellipsis> 2024-11 </span> </a> </li> <li class=md-nav__item> <a href=../../../../../ME/ESSAY/2024-12/ class=md-nav__link> <span class=md-ellipsis> 2024-12 </span> </a> </li> <li class=md-nav__item> <a href=../../../../../ME/ESSAY/2025-01/ class=md-nav__link> <span class=md-ellipsis> 2025-01 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3> <div class="md-nav__link md-nav__container"> <a href=../../../../../KNOWLEDGE/ class="md-nav__link "> <span class=md-ellipsis> 知识 </span> </a> <label class="md-nav__link " for=__nav_3 id=__nav_3_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> 知识 </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_2> <label class=md-nav__link for=__nav_3_2 id=__nav_3_2_label tabindex=0> <span class=md-ellipsis> 微积分 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_2_label aria-expanded=false> <label class=md-nav__title for=__nav_3_2> <span class="md-nav__icon md-icon"></span> 微积分 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../KNOWLEDGE/calculus/knowledge-frame-of-calculus/ class=md-nav__link> <span class=md-ellipsis> 知识体系 </span> </a> </li> <li class=md-nav__item> <a href=../../../../../KNOWLEDGE/calculus/summary-of-calculus/ class=md-nav__link> <span class=md-ellipsis> 方法总结 </span> </a> </li> <li class=md-nav__item> <a href=../../../../../KNOWLEDGE/calculus/thought-for-calculus/ class=md-nav__link> <span class=md-ellipsis> 思想方法 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_3> <label class=md-nav__link for=__nav_3_3 id=__nav_3_3_label tabindex=0> <span class=md-ellipsis> 线性代数 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3_3> <span class="md-nav__icon md-icon"></span> 线性代数 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../KNOWLEDGE/linear-algebra/knowledge-frame-of-LA/ class=md-nav__link> <span class=md-ellipsis> 知识体系 </span> </a> </li> <li class=md-nav__item> <a href=../../../../../KNOWLEDGE/linear-algebra/summary-of-LA/ class=md-nav__link> <span class=md-ellipsis> 方法总结 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4 checked> <div class="md-nav__link md-nav__container"> <a href=../../../../ class="md-nav__link "> <span class=md-ellipsis> 开发 </span> </a> <label class="md-nav__link " for=__nav_4 id=__nav_4_label tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=true> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> 开发 </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_2 checked> <label class=md-nav__link for=__nav_4_2 id=__nav_4_2_label tabindex=0> <span class=md-ellipsis> 编程语言 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_2_label aria-expanded=true> <label class=md-nav__title for=__nav_4_2> <span class="md-nav__icon md-icon"></span> 编程语言 </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_2_1 checked> <label class=md-nav__link for=__nav_4_2_1 id=__nav_4_2_1_label tabindex=0> <span class=md-ellipsis> C/C++ </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_4_2_1_label aria-expanded=true> <label class=md-nav__title for=__nav_4_2_1> <span class="md-nav__icon md-icon"></span> C/C++ </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_2_1_1 checked> <label class=md-nav__link for=__nav_4_2_1_1 id=__nav_4_2_1_1_label tabindex=0> <span class=md-ellipsis> C语言 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_4_2_1_1_label aria-expanded=true> <label class=md-nav__title for=__nav_4_2_1_1> <span class="md-nav__icon md-icon"></span> C语言 </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> 学习笔记 </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> 学习笔记 </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#_1 class=md-nav__link> <span class=md-ellipsis> 数据类型 </span> </a> <nav class=md-nav aria-label=数据类型> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_2 class=md-nav__link> <span class=md-ellipsis> 变量和常量 </span> </a> <nav class=md-nav aria-label=变量和常量> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_3 class=md-nav__link> <span class=md-ellipsis> 变量 </span> </a> <nav class=md-nav aria-label=变量> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_4 class=md-nav__link> <span class=md-ellipsis> 全局变量 </span> </a> </li> <li class=md-nav__item> <a href=#_5 class=md-nav__link> <span class=md-ellipsis> 静态本地变量 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_6 class=md-nav__link> <span class=md-ellipsis> 常量 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_7 class=md-nav__link> <span class=md-ellipsis> 整型 </span> </a> </li> <li class=md-nav__item> <a href=#_8 class=md-nav__link> <span class=md-ellipsis> 实型/浮点型 </span> </a> </li> <li class=md-nav__item> <a href=#_9 class=md-nav__link> <span class=md-ellipsis> 字符型 </span> </a> </li> <li class=md-nav__item> <a href=#_10 class=md-nav__link> <span class=md-ellipsis> 类型转换 </span> </a> </li> <li class=md-nav__item> <a href=#_11 class=md-nav__link> <span class=md-ellipsis> 枚举 </span> </a> </li> <li class=md-nav__item> <a href=#_12 class=md-nav__link> <span class=md-ellipsis> 结构 </span> </a> <nav class=md-nav aria-label=结构> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_13 class=md-nav__link> <span class=md-ellipsis> 语法 </span> </a> </li> <li class=md-nav__item> <a href=#_14 class=md-nav__link> <span class=md-ellipsis> 结构与函数 </span> </a> </li> <li class=md-nav__item> <a href=#_15 class=md-nav__link> <span class=md-ellipsis> 结构数组 </span> </a> </li> <li class=md-nav__item> <a href=#_16 class=md-nav__link> <span class=md-ellipsis> 结构中的结构 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_17 class=md-nav__link> <span class=md-ellipsis> 联合 </span> </a> </li> <li class=md-nav__item> <a href=#typedef class=md-nav__link> <span class=md-ellipsis> 自定义数据类型（typedef） </span> </a> </li> <li class=md-nav__item> <a href=#_18 class=md-nav__link> <span class=md-ellipsis> 杂项 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_19 class=md-nav__link> <span class=md-ellipsis> 运算符和表达式 </span> </a> <nav class=md-nav aria-label=运算符和表达式> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_20 class=md-nav__link> <span class=md-ellipsis> 优先级 </span> </a> </li> <li class=md-nav__item> <a href=#_21 class=md-nav__link> <span class=md-ellipsis> 位运算 </span> </a> <nav class=md-nav aria-label=位运算> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_22 class=md-nav__link> <span class=md-ellipsis> 位逻辑运算 </span> </a> </li> <li class=md-nav__item> <a href=#_23 class=md-nav__link> <span class=md-ellipsis> 移位运算 </span> </a> </li> <li class=md-nav__item> <a href=#_24 class=md-nav__link> <span class=md-ellipsis> 复合位赋值运算 </span> </a> </li> <li class=md-nav__item> <a href=#_25 class=md-nav__link> <span class=md-ellipsis> 应用 </span> </a> </li> <li class=md-nav__item> <a href=#_26 class=md-nav__link> <span class=md-ellipsis> 位段 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_27 class=md-nav__link> <span class=md-ellipsis> 循环和分支 </span> </a> <nav class=md-nav aria-label=循环和分支> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_28 class=md-nav__link> <span class=md-ellipsis> 语法 </span> </a> </li> <li class=md-nav__item> <a href=#_29 class=md-nav__link> <span class=md-ellipsis> 示例 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_30 class=md-nav__link> <span class=md-ellipsis> 函数 </span> </a> <nav class=md-nav aria-label=函数> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_31 class=md-nav__link> <span class=md-ellipsis> 定义、声明与调用 </span> </a> <nav class=md-nav aria-label=定义、声明与调用> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_32 class=md-nav__link> <span class=md-ellipsis> 声明 </span> </a> </li> <li class=md-nav__item> <a href=#_33 class=md-nav__link> <span class=md-ellipsis> 参数和值 </span> </a> </li> <li class=md-nav__item> <a href=#_34 class=md-nav__link> <span class=md-ellipsis> 变量空间： </span> </a> </li> <li class=md-nav__item> <a href=#_35 class=md-nav__link> <span class=md-ellipsis> 局部变量 </span> </a> </li> <li class=md-nav__item> <a href=#_36 class=md-nav__link> <span class=md-ellipsis> 调用函数 </span> </a> </li> <li class=md-nav__item> <a href=#_37 class=md-nav__link> <span class=md-ellipsis> 返回值 </span> </a> </li> <li class=md-nav__item> <a href=#_38 class=md-nav__link> <span class=md-ellipsis> 杂项 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_39 class=md-nav__link> <span class=md-ellipsis> 标准库 </span> </a> <nav class=md-nav aria-label=标准库> <ul class=md-nav__list> <li class=md-nav__item> <a href=#stdioh class=md-nav__link> <span class=md-ellipsis> stdio.h </span> </a> </li> <li class=md-nav__item> <a href=#stringh class=md-nav__link> <span class=md-ellipsis> string.h </span> </a> </li> <li class=md-nav__item> <a href=#ctypeh class=md-nav__link> <span class=md-ellipsis> ctype.h </span> </a> </li> <li class=md-nav__item> <a href=#stdlibh class=md-nav__link> <span class=md-ellipsis> stdlib.h </span> </a> </li> <li class=md-nav__item> <a href=#mathh class=md-nav__link> <span class=md-ellipsis> math.h </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_40 class=md-nav__link> <span class=md-ellipsis> 数组 </span> </a> <nav class=md-nav aria-label=数组> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_41 class=md-nav__link> <span class=md-ellipsis> 一维数组 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#include class=md-nav__link> <span class=md-ellipsis> include </span> </a> <nav class=md-nav aria-label=include> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_42 class=md-nav__link> <span class=md-ellipsis> 字符串 </span> </a> </li> <li class=md-nav__item> <a href=#_43 class=md-nav__link> <span class=md-ellipsis> 二维数组 </span> </a> </li> <li class=md-nav__item> <a href=#_44 class=md-nav__link> <span class=md-ellipsis> 指针 </span> </a> <nav class=md-nav aria-label=指针> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_45 class=md-nav__link> <span class=md-ellipsis> 概念与定义 </span> </a> </li> <li class=md-nav__item> <a href=#_46 class=md-nav__link> <span class=md-ellipsis> 规则 </span> </a> </li> <li class=md-nav__item> <a href=#_47 class=md-nav__link> <span class=md-ellipsis> 指针运算 </span> </a> </li> <li class=md-nav__item> <a href=#_48 class=md-nav__link> <span class=md-ellipsis> 应用 </span> </a> <nav class=md-nav aria-label=应用> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_49 class=md-nav__link> <span class=md-ellipsis> 指针与函数 </span> </a> <nav class=md-nav aria-label=指针与函数> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_50 class=md-nav__link> <span class=md-ellipsis> 函数多返回值 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_51 class=md-nav__link> <span class=md-ellipsis> 数组与指针 </span> </a> <nav class=md-nav aria-label=数组与指针> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_52 class=md-nav__link> <span class=md-ellipsis> 几组等价表示 </span> </a> </li> <li class=md-nav__item> <a href=#_53 class=md-nav__link> <span class=md-ellipsis> 用法 </span> </a> </li> <li class=md-nav__item> <a href=#_54 class=md-nav__link> <span class=md-ellipsis> 其他 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#const class=md-nav__link> <span class=md-ellipsis> const与指针 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_55 class=md-nav__link> <span class=md-ellipsis> 动态分配内存 </span> </a> </li> <li class=md-nav__item> <a href=#_56 class=md-nav__link> <span class=md-ellipsis> 数组与指针 </span> </a> </li> <li class=md-nav__item> <a href=#_57 class=md-nav__link> <span class=md-ellipsis> 指针数组 </span> </a> </li> <li class=md-nav__item> <a href=#_58 class=md-nav__link> <span class=md-ellipsis> 函数指针 </span> </a> </li> <li class=md-nav__item> <a href=#_59 class=md-nav__link> <span class=md-ellipsis> 杂项 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_60 class=md-nav__link> <span class=md-ellipsis> 编译预处理和宏 </span> </a> <nav class=md-nav aria-label=编译预处理和宏> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_61 class=md-nav__link> <span class=md-ellipsis> 编译预处理 </span> </a> </li> <li class=md-nav__item> <a href=#_62 class=md-nav__link> <span class=md-ellipsis> 宏 </span> </a> <nav class=md-nav aria-label=宏> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_63 class=md-nav__link> <span class=md-ellipsis> 规范 </span> </a> </li> <li class=md-nav__item> <a href=#_64 class=md-nav__link> <span class=md-ellipsis> 用法 </span> </a> <nav class=md-nav aria-label=用法> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_65 class=md-nav__link> <span class=md-ellipsis> 带参数的宏 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_66 class=md-nav__link> <span class=md-ellipsis> 可变数组 </span> </a> </li> <li class=md-nav__item> <a href=#_67 class=md-nav__link> <span class=md-ellipsis> 链表 </span> </a> </li> <li class=md-nav__item> <a href=#_68 class=md-nav__link> <span class=md-ellipsis> 大程序结构 </span> </a> <nav class=md-nav aria-label=大程序结构> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_69 class=md-nav__link> <span class=md-ellipsis> 头文件 </span> </a> </li> <li class=md-nav__item> <a href=#_70 class=md-nav__link> <span class=md-ellipsis> 声明 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_71 class=md-nav__link> <span class=md-ellipsis> 文件 </span> </a> <nav class=md-nav aria-label=文件> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_72 class=md-nav__link> <span class=md-ellipsis> 格式化输入输出 </span> </a> </li> <li class=md-nav__item> <a href=#_73 class=md-nav__link> <span class=md-ellipsis> 基本概念 </span> </a> <nav class=md-nav aria-label=基本概念> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_74 class=md-nav__link> <span class=md-ellipsis> 文件与流 </span> </a> </li> <li class=md-nav__item> <a href=#_75 class=md-nav__link> <span class=md-ellipsis> 文件指针 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_76 class=md-nav__link> <span class=md-ellipsis> 示例代码 </span> </a> </li> <li class=md-nav__item> <a href=#_77 class=md-nav__link> <span class=md-ellipsis> 常用函数 </span> </a> <nav class=md-nav aria-label=常用函数> <ul class=md-nav__list> <li class=md-nav__item> <a href=#1 class=md-nav__link> <span class=md-ellipsis> 1. 文件的打开与关闭 </span> </a> </li> <li class=md-nav__item> <a href=#2 class=md-nav__link> <span class=md-ellipsis> 2. 文件读取操作 </span> </a> <nav class=md-nav aria-label="2. 文件读取操作"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_78 class=md-nav__link> <span class=md-ellipsis> 文本文件读取 </span> </a> </li> <li class=md-nav__item> <a href=#_79 class=md-nav__link> <span class=md-ellipsis> 二进制文件读取 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#3 class=md-nav__link> <span class=md-ellipsis> 3. 文件写入操作 </span> </a> <nav class=md-nav aria-label="3. 文件写入操作"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_80 class=md-nav__link> <span class=md-ellipsis> 文本文件写入 </span> </a> </li> <li class=md-nav__item> <a href=#_81 class=md-nav__link> <span class=md-ellipsis> 二进制文件写入 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#4 class=md-nav__link> <span class=md-ellipsis> 4. 文件定位 </span> </a> </li> <li class=md-nav__item> <a href=#5 class=md-nav__link> <span class=md-ellipsis> 5. 错误处理 </span> </a> </li> <li class=md-nav__item> <a href=#6 class=md-nav__link> <span class=md-ellipsis> 6. 文件清空与创建 </span> </a> </li> <li class=md-nav__item> <a href=#7 class=md-nav__link> <span class=md-ellipsis> 7. 文件缓冲与同步 </span> </a> </li> <li class=md-nav__item> <a href=#8 class=md-nav__link> <span class=md-ellipsis> 8. 临时文件处理 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_82 class=md-nav__link> <span class=md-ellipsis> 缓冲区 </span> </a> </li> <li class=md-nav__item> <a href=#_83 class=md-nav__link> <span class=md-ellipsis> 文件的输入输出 </span> </a> </li> <li class=md-nav__item> <a href=#_84 class=md-nav__link> <span class=md-ellipsis> 在文件中定位 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#misc class=md-nav__link> <span class=md-ellipsis> MISC </span> </a> <nav class=md-nav aria-label=MISC> <ul class=md-nav__list> <li class=md-nav__item> <a href=#goto class=md-nav__link> <span class=md-ellipsis> 标签与goto </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../c-errors-and-tips/ class=md-nav__link> <span class=md-ellipsis> 错题整理 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_2_1_2> <label class=md-nav__link for=__nav_4_2_1_2 id=__nav_4_2_1_2_label tabindex=0> <span class=md-ellipsis> C++ </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_4_2_1_2_label aria-expanded=false> <label class=md-nav__title for=__nav_4_2_1_2> <span class="md-nav__icon md-icon"></span> C++ </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../none.md class=md-nav__link> <span class=md-ellipsis> 学习笔记 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_2_2> <label class=md-nav__link for=__nav_4_2_2 id=__nav_4_2_2_label tabindex=0> <span class=md-ellipsis> Python </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_4_2_2_label aria-expanded=false> <label class=md-nav__title for=__nav_4_2_2> <span class="md-nav__icon md-icon"></span> Python </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Python/py-basic-grammar/ class=md-nav__link> <span class=md-ellipsis> 基础语法 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/py-sequence/ class=md-nav__link> <span class=md-ellipsis> 数据容器 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/py-oop/ class=md-nav__link> <span class=md-ellipsis> 面向对象 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/development-in-py/ class=md-nav__link> <span class=md-ellipsis> 项目开发 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/clock-in/ class=md-nav__link> <span class=md-ellipsis> 百日打卡 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_3> <label class=md-nav__link for=__nav_4_3 id=__nav_4_3_label tabindex=0> <span class=md-ellipsis> 算法相关 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_3_label aria-expanded=false> <label class=md-nav__title for=__nav_4_3> <span class="md-nav__icon md-icon"></span> 算法相关 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../Algorithm/misc/ class=md-nav__link> <span class=md-ellipsis> Misc </span> </a> </li> <li class=md-nav__item> <a href=../../../../Algorithm/sort/ class=md-nav__link> <span class=md-ellipsis> Sort </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_4> <label class=md-nav__link for=__nav_4_4 id=__nav_4_4_label tabindex=0> <span class=md-ellipsis> 网络安全 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4_4> <span class="md-nav__icon md-icon"></span> 网络安全 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../IS/basic/ class=md-nav__link> <span class=md-ellipsis> 基础 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_5> <label class=md-nav__link for=__nav_4_5 id=__nav_4_5_label tabindex=0> <span class=md-ellipsis> 实用工具 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_5_label aria-expanded=false> <label class=md-nav__title for=__nav_4_5> <span class="md-nav__icon md-icon"></span> 实用工具 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../Tools/shell/ class=md-nav__link> <span class=md-ellipsis> shell </span> </a> </li> <li class=md-nav__item> <a href=../../../../Tools/CSS/ class=md-nav__link> <span class=md-ellipsis> CSS </span> </a> </li> <li class=md-nav__item> <a href=../../../../Tools/HTML/ class=md-nav__link> <span class=md-ellipsis> HTML </span> </a> </li> <li class=md-nav__item> <a href=../../../../Tools/Git%20%26%20GitHub/ class=md-nav__link> <span class=md-ellipsis> Git&GitHub </span> </a> </li> <li class=md-nav__item> <a href=../../../../Tools/Markdown%28obsidian%29/ class=md-nav__link> <span class=md-ellipsis> Markdown </span> </a> </li> <li class=md-nav__item> <a href=../../../../Tools/LaTeX/ class=md-nav__link> <span class=md-ellipsis> LaTeX </span> </a> </li> <li class=md-nav__item> <a href=../../../../Tools/Linux/ class=md-nav__link> <span class=md-ellipsis> Linux </span> </a> </li> <li class=md-nav__item> <a href=../../../../Tools/vim/ class=md-nav__link> <span class=md-ellipsis> vim </span> </a> </li> <li class=md-nav__item> <a href=../../../../Tools/GDB/ class=md-nav__link> <span class=md-ellipsis> GDB </span> </a> </li> <li class=md-nav__item> <a href=../../../../Tools/Obsidian/ class=md-nav__link> <span class=md-ellipsis> Obsidian </span> </a> </li> <li class=md-nav__item> <a href=../../../../Tools/mkdocs/ class=md-nav__link> <span class=md-ellipsis> Mkdocs </span> </a> </li> <li class=md-nav__item> <a href=../../../../Tools/makefile/ class=md-nav__link> <span class=md-ellipsis> Makefile </span> </a> </li> <li class=md-nav__item> <a href=../../../../../docs/CS/Tools/anaconda.md class=md-nav__link> <span class=md-ellipsis> Anaconda </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_6> <label class=md-nav__link for=__nav_4_6 id=__nav_4_6_label tabindex=0> <span class=md-ellipsis> 人工智能 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_6_label aria-expanded=false> <label class=md-nav__title for=__nav_4_6> <span class="md-nav__icon md-icon"></span> 人工智能 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../AI/AI/ class=md-nav__link> <span class=md-ellipsis> AI </span> </a> </li> <li class=md-nav__item> <a href=../../../../AI/ANN/ class=md-nav__link> <span class=md-ellipsis> ANN </span> </a> </li> <li class=md-nav__item> <a href=../../../../AI/DL/ class=md-nav__link> <span class=md-ellipsis> DL </span> </a> </li> <li class=md-nav__item> <a href=../../../../AI/ML/ class=md-nav__link> <span class=md-ellipsis> ML </span> </a> </li> <li class=md-nav__item> <a href=../../../../AI/Turing/ class=md-nav__link> <span class=md-ellipsis> Turing </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_7> <label class=md-nav__link for=__nav_4_7 id=__nav_4_7_label tabindex=0> <span class=md-ellipsis> 杂七杂八 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_7_label aria-expanded=false> <label class=md-nav__title for=__nav_4_7> <span class="md-nav__icon md-icon"></span> 杂七杂八 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../Misc/things-i-wanna-know/ class=md-nav__link> <span class=md-ellipsis> 想了解的东西 </span> </a> </li> <li class=md-nav__item> <a href=../../../../Misc/regex/ class=md-nav__link> <span class=md-ellipsis> 正则表达式 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5> <div class="md-nav__link md-nav__container"> <a href=../../../../../TUTORIAL/ class="md-nav__link "> <span class=md-ellipsis> 教程 </span> </a> <label class="md-nav__link " for=__nav_5 id=__nav_5_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=false> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> 教程 </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_2> <label class=md-nav__link for=__nav_5_2 id=__nav_5_2_label tabindex=0> <span class=md-ellipsis> 电脑相关 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_2_label aria-expanded=false> <label class=md-nav__title for=__nav_5_2> <span class="md-nav__icon md-icon"></span> 电脑相关 </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_2_1> <label class=md-nav__link for=__nav_5_2_1 id=__nav_5_2_1_label tabindex=0> <span class=md-ellipsis> 配环境 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_5_2_1_label aria-expanded=false> <label class=md-nav__title for=__nav_5_2_1> <span class="md-nav__icon md-icon"></span> 配环境 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../TUTORIAL/CS/environment/start/ class=md-nav__link> <span class=md-ellipsis> 更换电脑之后…… </span> </a> </li> <li class=md-nav__item> <a href=../../../../../TUTORIAL/CS/environment/zsh/ class=md-nav__link> <span class=md-ellipsis> Zsh </span> </a> </li> <li class=md-nav__item> <a href=../../../../../TUTORIAL/CS/environment/ssh/ class=md-nav__link> <span class=md-ellipsis> SSH </span> </a> </li> <li class=md-nav__item> <a href=../../../../../TUTORIAL/CS/environment/pl/ class=md-nav__link> <span class=md-ellipsis> 语言环境 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6> <div class="md-nav__link md-nav__container"> <a href=../../../../../BOOK/ class="md-nav__link "> <span class=md-ellipsis> 阅读 </span> </a> <label class="md-nav__link " for=__nav_6 id=__nav_6_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_6_label aria-expanded=false> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> 阅读 </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_2> <label class=md-nav__link for=__nav_6_2 id=__nav_6_2_label tabindex=0> <span class=md-ellipsis> 个人提升 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_2_label aria-expanded=false> <label class=md-nav__title for=__nav_6_2> <span class="md-nav__icon md-icon"></span> 个人提升 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../BOOK/enhancements/principles/ class=md-nav__link> <span class=md-ellipsis> 原则 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_3> <label class=md-nav__link for=__nav_6_3 id=__nav_6_3_label tabindex=0> <span class=md-ellipsis> 文学名著 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_3_label aria-expanded=false> <label class=md-nav__title for=__nav_6_3> <span class="md-nav__icon md-icon"></span> 文学名著 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../BOOK/fictions/%E5%B1%B1%E8%8C%B6%E6%96%87%E5%85%B7%E5%BA%97/ class=md-nav__link> <span class=md-ellipsis> 山茶文具店 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_4> <label class=md-nav__link for=__nav_6_4 id=__nav_6_4_label tabindex=0> <span class=md-ellipsis> 专业书籍 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_4_label aria-expanded=false> <label class=md-nav__title for=__nav_6_4> <span class="md-nav__icon md-icon"></span> 专业书籍 </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_4_1> <label class=md-nav__link for=__nav_6_4_1 id=__nav_6_4_1_label tabindex=0> <span class=md-ellipsis> 金融相关 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_6_4_1_label aria-expanded=false> <label class=md-nav__title for=__nav_6_4_1> <span class="md-nav__icon md-icon"></span> 金融相关 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../BOOK/professionals/finance/rich-dad-poor-dad/ class=md-nav__link> <span class=md-ellipsis> 富爸爸穷爸爸 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#_1 class=md-nav__link> <span class=md-ellipsis> 数据类型 </span> </a> <nav class=md-nav aria-label=数据类型> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_2 class=md-nav__link> <span class=md-ellipsis> 变量和常量 </span> </a> <nav class=md-nav aria-label=变量和常量> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_3 class=md-nav__link> <span class=md-ellipsis> 变量 </span> </a> <nav class=md-nav aria-label=变量> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_4 class=md-nav__link> <span class=md-ellipsis> 全局变量 </span> </a> </li> <li class=md-nav__item> <a href=#_5 class=md-nav__link> <span class=md-ellipsis> 静态本地变量 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_6 class=md-nav__link> <span class=md-ellipsis> 常量 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_7 class=md-nav__link> <span class=md-ellipsis> 整型 </span> </a> </li> <li class=md-nav__item> <a href=#_8 class=md-nav__link> <span class=md-ellipsis> 实型/浮点型 </span> </a> </li> <li class=md-nav__item> <a href=#_9 class=md-nav__link> <span class=md-ellipsis> 字符型 </span> </a> </li> <li class=md-nav__item> <a href=#_10 class=md-nav__link> <span class=md-ellipsis> 类型转换 </span> </a> </li> <li class=md-nav__item> <a href=#_11 class=md-nav__link> <span class=md-ellipsis> 枚举 </span> </a> </li> <li class=md-nav__item> <a href=#_12 class=md-nav__link> <span class=md-ellipsis> 结构 </span> </a> <nav class=md-nav aria-label=结构> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_13 class=md-nav__link> <span class=md-ellipsis> 语法 </span> </a> </li> <li class=md-nav__item> <a href=#_14 class=md-nav__link> <span class=md-ellipsis> 结构与函数 </span> </a> </li> <li class=md-nav__item> <a href=#_15 class=md-nav__link> <span class=md-ellipsis> 结构数组 </span> </a> </li> <li class=md-nav__item> <a href=#_16 class=md-nav__link> <span class=md-ellipsis> 结构中的结构 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_17 class=md-nav__link> <span class=md-ellipsis> 联合 </span> </a> </li> <li class=md-nav__item> <a href=#typedef class=md-nav__link> <span class=md-ellipsis> 自定义数据类型（typedef） </span> </a> </li> <li class=md-nav__item> <a href=#_18 class=md-nav__link> <span class=md-ellipsis> 杂项 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_19 class=md-nav__link> <span class=md-ellipsis> 运算符和表达式 </span> </a> <nav class=md-nav aria-label=运算符和表达式> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_20 class=md-nav__link> <span class=md-ellipsis> 优先级 </span> </a> </li> <li class=md-nav__item> <a href=#_21 class=md-nav__link> <span class=md-ellipsis> 位运算 </span> </a> <nav class=md-nav aria-label=位运算> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_22 class=md-nav__link> <span class=md-ellipsis> 位逻辑运算 </span> </a> </li> <li class=md-nav__item> <a href=#_23 class=md-nav__link> <span class=md-ellipsis> 移位运算 </span> </a> </li> <li class=md-nav__item> <a href=#_24 class=md-nav__link> <span class=md-ellipsis> 复合位赋值运算 </span> </a> </li> <li class=md-nav__item> <a href=#_25 class=md-nav__link> <span class=md-ellipsis> 应用 </span> </a> </li> <li class=md-nav__item> <a href=#_26 class=md-nav__link> <span class=md-ellipsis> 位段 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_27 class=md-nav__link> <span class=md-ellipsis> 循环和分支 </span> </a> <nav class=md-nav aria-label=循环和分支> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_28 class=md-nav__link> <span class=md-ellipsis> 语法 </span> </a> </li> <li class=md-nav__item> <a href=#_29 class=md-nav__link> <span class=md-ellipsis> 示例 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_30 class=md-nav__link> <span class=md-ellipsis> 函数 </span> </a> <nav class=md-nav aria-label=函数> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_31 class=md-nav__link> <span class=md-ellipsis> 定义、声明与调用 </span> </a> <nav class=md-nav aria-label=定义、声明与调用> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_32 class=md-nav__link> <span class=md-ellipsis> 声明 </span> </a> </li> <li class=md-nav__item> <a href=#_33 class=md-nav__link> <span class=md-ellipsis> 参数和值 </span> </a> </li> <li class=md-nav__item> <a href=#_34 class=md-nav__link> <span class=md-ellipsis> 变量空间： </span> </a> </li> <li class=md-nav__item> <a href=#_35 class=md-nav__link> <span class=md-ellipsis> 局部变量 </span> </a> </li> <li class=md-nav__item> <a href=#_36 class=md-nav__link> <span class=md-ellipsis> 调用函数 </span> </a> </li> <li class=md-nav__item> <a href=#_37 class=md-nav__link> <span class=md-ellipsis> 返回值 </span> </a> </li> <li class=md-nav__item> <a href=#_38 class=md-nav__link> <span class=md-ellipsis> 杂项 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_39 class=md-nav__link> <span class=md-ellipsis> 标准库 </span> </a> <nav class=md-nav aria-label=标准库> <ul class=md-nav__list> <li class=md-nav__item> <a href=#stdioh class=md-nav__link> <span class=md-ellipsis> stdio.h </span> </a> </li> <li class=md-nav__item> <a href=#stringh class=md-nav__link> <span class=md-ellipsis> string.h </span> </a> </li> <li class=md-nav__item> <a href=#ctypeh class=md-nav__link> <span class=md-ellipsis> ctype.h </span> </a> </li> <li class=md-nav__item> <a href=#stdlibh class=md-nav__link> <span class=md-ellipsis> stdlib.h </span> </a> </li> <li class=md-nav__item> <a href=#mathh class=md-nav__link> <span class=md-ellipsis> math.h </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_40 class=md-nav__link> <span class=md-ellipsis> 数组 </span> </a> <nav class=md-nav aria-label=数组> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_41 class=md-nav__link> <span class=md-ellipsis> 一维数组 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#include class=md-nav__link> <span class=md-ellipsis> include </span> </a> <nav class=md-nav aria-label=include> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_42 class=md-nav__link> <span class=md-ellipsis> 字符串 </span> </a> </li> <li class=md-nav__item> <a href=#_43 class=md-nav__link> <span class=md-ellipsis> 二维数组 </span> </a> </li> <li class=md-nav__item> <a href=#_44 class=md-nav__link> <span class=md-ellipsis> 指针 </span> </a> <nav class=md-nav aria-label=指针> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_45 class=md-nav__link> <span class=md-ellipsis> 概念与定义 </span> </a> </li> <li class=md-nav__item> <a href=#_46 class=md-nav__link> <span class=md-ellipsis> 规则 </span> </a> </li> <li class=md-nav__item> <a href=#_47 class=md-nav__link> <span class=md-ellipsis> 指针运算 </span> </a> </li> <li class=md-nav__item> <a href=#_48 class=md-nav__link> <span class=md-ellipsis> 应用 </span> </a> <nav class=md-nav aria-label=应用> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_49 class=md-nav__link> <span class=md-ellipsis> 指针与函数 </span> </a> <nav class=md-nav aria-label=指针与函数> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_50 class=md-nav__link> <span class=md-ellipsis> 函数多返回值 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_51 class=md-nav__link> <span class=md-ellipsis> 数组与指针 </span> </a> <nav class=md-nav aria-label=数组与指针> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_52 class=md-nav__link> <span class=md-ellipsis> 几组等价表示 </span> </a> </li> <li class=md-nav__item> <a href=#_53 class=md-nav__link> <span class=md-ellipsis> 用法 </span> </a> </li> <li class=md-nav__item> <a href=#_54 class=md-nav__link> <span class=md-ellipsis> 其他 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#const class=md-nav__link> <span class=md-ellipsis> const与指针 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_55 class=md-nav__link> <span class=md-ellipsis> 动态分配内存 </span> </a> </li> <li class=md-nav__item> <a href=#_56 class=md-nav__link> <span class=md-ellipsis> 数组与指针 </span> </a> </li> <li class=md-nav__item> <a href=#_57 class=md-nav__link> <span class=md-ellipsis> 指针数组 </span> </a> </li> <li class=md-nav__item> <a href=#_58 class=md-nav__link> <span class=md-ellipsis> 函数指针 </span> </a> </li> <li class=md-nav__item> <a href=#_59 class=md-nav__link> <span class=md-ellipsis> 杂项 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_60 class=md-nav__link> <span class=md-ellipsis> 编译预处理和宏 </span> </a> <nav class=md-nav aria-label=编译预处理和宏> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_61 class=md-nav__link> <span class=md-ellipsis> 编译预处理 </span> </a> </li> <li class=md-nav__item> <a href=#_62 class=md-nav__link> <span class=md-ellipsis> 宏 </span> </a> <nav class=md-nav aria-label=宏> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_63 class=md-nav__link> <span class=md-ellipsis> 规范 </span> </a> </li> <li class=md-nav__item> <a href=#_64 class=md-nav__link> <span class=md-ellipsis> 用法 </span> </a> <nav class=md-nav aria-label=用法> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_65 class=md-nav__link> <span class=md-ellipsis> 带参数的宏 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_66 class=md-nav__link> <span class=md-ellipsis> 可变数组 </span> </a> </li> <li class=md-nav__item> <a href=#_67 class=md-nav__link> <span class=md-ellipsis> 链表 </span> </a> </li> <li class=md-nav__item> <a href=#_68 class=md-nav__link> <span class=md-ellipsis> 大程序结构 </span> </a> <nav class=md-nav aria-label=大程序结构> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_69 class=md-nav__link> <span class=md-ellipsis> 头文件 </span> </a> </li> <li class=md-nav__item> <a href=#_70 class=md-nav__link> <span class=md-ellipsis> 声明 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_71 class=md-nav__link> <span class=md-ellipsis> 文件 </span> </a> <nav class=md-nav aria-label=文件> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_72 class=md-nav__link> <span class=md-ellipsis> 格式化输入输出 </span> </a> </li> <li class=md-nav__item> <a href=#_73 class=md-nav__link> <span class=md-ellipsis> 基本概念 </span> </a> <nav class=md-nav aria-label=基本概念> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_74 class=md-nav__link> <span class=md-ellipsis> 文件与流 </span> </a> </li> <li class=md-nav__item> <a href=#_75 class=md-nav__link> <span class=md-ellipsis> 文件指针 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_76 class=md-nav__link> <span class=md-ellipsis> 示例代码 </span> </a> </li> <li class=md-nav__item> <a href=#_77 class=md-nav__link> <span class=md-ellipsis> 常用函数 </span> </a> <nav class=md-nav aria-label=常用函数> <ul class=md-nav__list> <li class=md-nav__item> <a href=#1 class=md-nav__link> <span class=md-ellipsis> 1. 文件的打开与关闭 </span> </a> </li> <li class=md-nav__item> <a href=#2 class=md-nav__link> <span class=md-ellipsis> 2. 文件读取操作 </span> </a> <nav class=md-nav aria-label="2. 文件读取操作"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_78 class=md-nav__link> <span class=md-ellipsis> 文本文件读取 </span> </a> </li> <li class=md-nav__item> <a href=#_79 class=md-nav__link> <span class=md-ellipsis> 二进制文件读取 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#3 class=md-nav__link> <span class=md-ellipsis> 3. 文件写入操作 </span> </a> <nav class=md-nav aria-label="3. 文件写入操作"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_80 class=md-nav__link> <span class=md-ellipsis> 文本文件写入 </span> </a> </li> <li class=md-nav__item> <a href=#_81 class=md-nav__link> <span class=md-ellipsis> 二进制文件写入 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#4 class=md-nav__link> <span class=md-ellipsis> 4. 文件定位 </span> </a> </li> <li class=md-nav__item> <a href=#5 class=md-nav__link> <span class=md-ellipsis> 5. 错误处理 </span> </a> </li> <li class=md-nav__item> <a href=#6 class=md-nav__link> <span class=md-ellipsis> 6. 文件清空与创建 </span> </a> </li> <li class=md-nav__item> <a href=#7 class=md-nav__link> <span class=md-ellipsis> 7. 文件缓冲与同步 </span> </a> </li> <li class=md-nav__item> <a href=#8 class=md-nav__link> <span class=md-ellipsis> 8. 临时文件处理 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_82 class=md-nav__link> <span class=md-ellipsis> 缓冲区 </span> </a> </li> <li class=md-nav__item> <a href=#_83 class=md-nav__link> <span class=md-ellipsis> 文件的输入输出 </span> </a> </li> <li class=md-nav__item> <a href=#_84 class=md-nav__link> <span class=md-ellipsis> 在文件中定位 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#misc class=md-nav__link> <span class=md-ellipsis> MISC </span> </a> <nav class=md-nav aria-label=MISC> <ul class=md-nav__list> <li class=md-nav__item> <a href=#goto class=md-nav__link> <span class=md-ellipsis> 标签与goto </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.com/r-z-zhang-AI/r-z-zhang-AI.github.io/edit/main/docs/CS/pl/C_Cpp/C/c-note.md title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75z"/></svg> </a> <h2 id=_1>数据类型<a class=headerlink href=#_1 title="Permanent link">&para;</a></h2> <h3 id=_2>变量和常量<a class=headerlink href=#_2 title="Permanent link">&para;</a></h3> <h4 id=_3>变量<a class=headerlink href=#_3 title="Permanent link">&para;</a></h4> <ul> <li>作用：开一块内存放数据</li> <li>定义：<ul> <li>C89：变量必须在程序一开始全部定义</li> <li>C99：任何位置都可以定义变量</li> </ul> </li> <li> <p>名字（标识符）</p> <p>规则：字母数字下划线组成；数字不能是第一个字符；不能是关键字</p> </li> <li> <p>赋值：动态局部变量若不赋值则随机值</p> </li> </ul> <h5 id=_4>全局变量<a class=headerlink href=#_4 title="Permanent link">&para;</a></h5> <p>生存期和作用域独立于函数，都在全局。</p> <p><strong>初始化</strong>：</p> <ul> <li>可以初始化，但要求是只能用编译时刻已知的值来初始化它，这里，全局变量的初始化在main函数之前。</li> <li>不初始化：数字得到0；指针得到NULL</li> </ul> <p>示例：</p> <div class="language-c highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=kt>int</span><span class=w> </span><span class=n>gAll</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>12</span><span class=p>;</span><span class=w>  </span><span class=c1>// 编译通过</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=kt>int</span><span class=w> </span><span class=n>gAll</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>f</span><span class=p>();</span><span class=w>  </span><span class=c1>// 编译错误</span>
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a>
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=kt>int</span><span class=w> </span><span class=n>gAll</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>12</span><span class=p>;</span>
</span><span id=__span-0-6><a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=kt>int</span><span class=w> </span><span class=n>g2</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>gAll</span><span class=p>;</span><span class=w>  </span><span class=c1>// 编译错误</span>
</span><span id=__span-0-7><a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a>
</span><span id=__span-0-8><a id=__codelineno-0-8 name=__codelineno-0-8 href=#__codelineno-0-8></a><span class=k>const</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>gAll</span><span class=p>;</span>
</span><span id=__span-0-9><a id=__codelineno-0-9 name=__codelineno-0-9 href=#__codelineno-0-9></a><span class=kt>int</span><span class=w> </span><span class=n>g2</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>gAll</span><span class=p>;</span><span class=w>  </span><span class=c1>// 编译通过，但是不建议这样，尤其在大程序中。</span>
</span><span id=__span-0-10><a id=__codelineno-0-10 name=__codelineno-0-10 href=#__codelineno-0-10></a>
</span><span id=__span-0-11><a id=__codelineno-0-11 name=__codelineno-0-11 href=#__codelineno-0-11></a><span class=kt>int</span><span class=w> </span><span class=n>g2</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>gAll</span><span class=p>;</span><span class=w> </span>
</span><span id=__span-0-12><a id=__codelineno-0-12 name=__codelineno-0-12 href=#__codelineno-0-12></a><span class=k>const</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>gAll</span><span class=p>;</span><span class=w>  </span><span class=c1>// 编译错误</span>
</span></code></pre></div> <p><strong>（全局）变量的覆盖</strong></p> <p>在更小的地方定义的变量，会将更大的地方定义的同名变量覆盖</p> <ul> <li> <p>函数内部本地变量会掩盖全局覆盖</p> </li> <li> <p>函数内部再开一个块（{ }），在里面定义一个变量，他会覆盖这个块外面的同名变量。</p> </li> </ul> <h5 id=_5>静态本地变量<a class=headerlink href=#_5 title="Permanent link">&para;</a></h5> <p><strong>语法：</strong> 变量定义前面加上 <code>static</code> 修饰符。</p> <p><strong>特点：</strong> </p> <ul> <li> <p>函数离开时，保留其值</p> </li> <li> <p>和全局变量在相同的内存区域（很小的地址），而动态本地变量的地址很大</p> </li> <li> <p>生存期：全局；作用域：函数内部（只有函数内部可以访问，这也是 <code>static</code> 的意思：局部作用域。</p> </li> </ul> <p><strong>使用</strong></p> <ul> <li> <p><span style="color: blue;"> 函数返回本地变量的地址 / 的值 会有warning </span> ：这个变量在函数结束后就没了</p> </li> <li> <p>不要使用全局变量在函数之间传递参数和结果</p> </li> <li> <p>尽量避免使用全局变量，使用全局变量和静态本地变量的函数是线程不安全的。</p> </li> </ul> <p><strong>其他</strong></p> <ul> <li>C语言有很多区放变量：常量区、静态区、栈区、堆区</li> <li>动态变量 auto<ul> <li>特点：调用一次分配一次内存，调用结束就释放了，重来</li> <li>定义：在C语言中，<code>auto</code> 关键字用于声明自动存储期的局部变量。它告诉编译器，该变量应该在栈上分配，并且其生命周期仅限于声明它的函数或代码块。然而，<code>auto</code> 关键字实际上是可选的，因为在函数内部声明的变量默认就是自动存储期的。</li> <li>在C99标准之前，<code>auto</code> 关键字是必需的，但在C99及以后的标准中，它变得可选。</li> </ul> </li> <li>静态变量 static<ul> <li>特点：整个程序运行期间存在，等程序结束后释放</li> </ul> </li> <li>静态全局变量<ul> <li>作用：只可以使其在声明的文件中可见，避免与其他文件中同名变量冲突</li> </ul> </li> <li>静态函数 <code>static int function_name(parameter_type parameter)</code><ul> <li>作用：只能在所声明的文件中调用，其他文件不可使用：辅助函数、实用函数限制在特定文件中</li> </ul> </li> <li>静态局部变量<ul> <li>定义：函数内部定义的静态变量</li> <li>作用：类似全局变量，函数调用结束后，其值不会被销毁，而是保持存在</li> <li>用处：重复使用，这一次的接着上一次的值用</li> </ul> </li> </ul> <div class="language-c highlight"><pre><span></span><code><span id=__span-1-1><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a><span class=cp>#include</span><span class=cpf>&lt;stdio.h&gt;</span>
</span><span id=__span-1-2><a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a><span class=c1>//三个变量都赋初始值0</span>
</span><span id=__span-1-3><a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a><span class=kt>int</span><span class=w> </span><span class=n>global</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span><span class=w>  </span><span class=c1>//global为全局变量</span>
</span><span id=__span-1-4><a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a><span class=kt>void</span><span class=w> </span><span class=nf>stc</span><span class=p>()</span>
</span><span id=__span-1-5><a id=__codelineno-1-5 name=__codelineno-1-5 href=#__codelineno-1-5></a><span class=p>{</span>
</span><span id=__span-1-6><a id=__codelineno-1-6 name=__codelineno-1-6 href=#__codelineno-1-6></a><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>n</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span><span class=w>  </span><span class=c1>//n 为局部变量</span>
</span><span id=__span-1-7><a id=__codelineno-1-7 name=__codelineno-1-7 href=#__codelineno-1-7></a><span class=w>    </span><span class=k>static</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>sta</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span><span class=w>  </span><span class=c1>//sta为静态局部变量</span>
</span><span id=__span-1-8><a id=__codelineno-1-8 name=__codelineno-1-8 href=#__codelineno-1-8></a><span class=w>    </span><span class=n>n</span><span class=o>++</span><span class=p>;</span><span class=w> </span><span class=n>sta</span><span class=o>++</span><span class=p>;</span><span class=w> </span><span class=n>global</span><span class=o>++</span><span class=p>;</span><span class=w>  </span><span class=c1>//函数每次执行都对三个变量+1</span>
</span><span id=__span-1-9><a id=__codelineno-1-9 name=__codelineno-1-9 href=#__codelineno-1-9></a><span class=w>    </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%d &quot;</span><span class=p>,</span><span class=w> </span><span class=n>n</span><span class=p>);</span><span class=w> </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%d &quot;</span><span class=p>,</span><span class=w> </span><span class=n>sta</span><span class=p>);</span><span class=w> </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%d &quot;</span><span class=p>,</span><span class=w> </span><span class=n>global</span><span class=p>);</span>
</span><span id=__span-1-10><a id=__codelineno-1-10 name=__codelineno-1-10 href=#__codelineno-1-10></a><span class=p>}</span>
</span><span id=__span-1-11><a id=__codelineno-1-11 name=__codelineno-1-11 href=#__codelineno-1-11></a><span class=kt>int</span><span class=w> </span><span class=nf>main</span><span class=p>()</span>
</span><span id=__span-1-12><a id=__codelineno-1-12 name=__codelineno-1-12 href=#__codelineno-1-12></a><span class=p>{</span>
</span><span id=__span-1-13><a id=__codelineno-1-13 name=__codelineno-1-13 href=#__codelineno-1-13></a><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>i</span><span class=p>;</span>
</span><span id=__span-1-14><a id=__codelineno-1-14 name=__codelineno-1-14 href=#__codelineno-1-14></a><span class=w>    </span><span class=k>for</span><span class=p>(</span><span class=n>i</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>&lt;=</span><span class=w> </span><span class=mi>5</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=o>++</span><span class=p>){</span>
</span><span id=__span-1-15><a id=__codelineno-1-15 name=__codelineno-1-15 href=#__codelineno-1-15></a><span class=w>        </span><span class=n>stc</span><span class=p>();</span><span class=w> </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>);</span><span class=w>  </span><span class=c1>//三次调用函数</span>
</span><span id=__span-1-16><a id=__codelineno-1-16 name=__codelineno-1-16 href=#__codelineno-1-16></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-1-17><a id=__codelineno-1-17 name=__codelineno-1-17 href=#__codelineno-1-17></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=mi>0</span><span class=p>;</span><span class=w> </span>
</span><span id=__span-1-18><a id=__codelineno-1-18 name=__codelineno-1-18 href=#__codelineno-1-18></a><span class=p>}</span>
</span><span id=__span-1-19><a id=__codelineno-1-19 name=__codelineno-1-19 href=#__codelineno-1-19></a><span class=cm>/* 输出：</span>
</span><span id=__span-1-20><a id=__codelineno-1-20 name=__codelineno-1-20 href=#__codelineno-1-20></a><span class=cm>1 1 1 </span>
</span><span id=__span-1-21><a id=__codelineno-1-21 name=__codelineno-1-21 href=#__codelineno-1-21></a><span class=cm>1 2 2 </span>
</span><span id=__span-1-22><a id=__codelineno-1-22 name=__codelineno-1-22 href=#__codelineno-1-22></a><span class=cm>1 3 3 </span>
</span><span id=__span-1-23><a id=__codelineno-1-23 name=__codelineno-1-23 href=#__codelineno-1-23></a><span class=cm>1 4 4 </span>
</span><span id=__span-1-24><a id=__codelineno-1-24 name=__codelineno-1-24 href=#__codelineno-1-24></a><span class=cm>1 5 5 </span>
</span><span id=__span-1-25><a id=__codelineno-1-25 name=__codelineno-1-25 href=#__codelineno-1-25></a><span class=cm>全局变量和静态局部变量都延续了上次调用的结果继续+，局部变量从初始值开始</span>
</span><span id=__span-1-26><a id=__codelineno-1-26 name=__codelineno-1-26 href=#__codelineno-1-26></a><span class=cm>*/</span>
</span></code></pre></div> <h4 id=_6>常量<a class=headerlink href=#_6 title="Permanent link">&para;</a></h4> <p><strong>定义</strong></p> <ul> <li> <p><code>const</code> 只读变量</p> <p>可全局/局部，eg：<code>const double PI = 3.1415;</code> - <code>#define</code> 宏</p> <p>eg：<code>#define PI 3.1415</code></p> </li> </ul> <p><strong>字符串常量</strong></p> <p><code>__func__</code> ：表示当前函数的名称。</p> <ul> <li>它在函数的任何地方都可以使用，不需要传递或定义额外的变量。</li> <li>__func__的值是编译器在编译时自动填充的，且是一个预定义标识符，故不能被重新定义。</li> </ul> <p><strong>基本数据类型总表:</strong></p> <table> <thead> <tr> <th>类别</th> <th>名称</th> <th>类型名</th> <th>数据长度</th> <th>取值范围</th> <th>格式说明符</th> </tr> </thead> <tbody> <tr> <td>整型</td> <td>[有符号] 整型</td> <td>int</td> <td>32 位</td> <td><span class=arithmatex>\(-2^{31}\)</span> ~ <span class=arithmatex>\(2^{31}-1\)</span></td> <td>%d</td> </tr> <tr> <td></td> <td>[有符号] 短整型</td> <td>short [int]</td> <td>16 位</td> <td><span class=arithmatex>\(-2^{15}\)</span> ~ <span class=arithmatex>\(2^{15}-1\)</span></td> <td>%hd</td> </tr> <tr> <td></td> <td>[有符号] 长整型</td> <td>long [int]</td> <td>32 位</td> <td><span class=arithmatex>\(-2^{31}\)</span> ~ <span class=arithmatex>\(2^{31}-1\)</span></td> <td>%ld</td> </tr> <tr> <td></td> <td>无符号整型</td> <td>unsigned [int]</td> <td>32 位</td> <td><span class=arithmatex>\(0\)</span> ~ <span class=arithmatex>\(2^{32}-1\)</span></td> <td>%u</td> </tr> <tr> <td></td> <td>无符号短整型</td> <td>unsigned short [int]</td> <td>16 位</td> <td><span class=arithmatex>\(0\)</span> ~ <span class=arithmatex>\(2^{16}-1\)</span></td> <td>%hu</td> </tr> <tr> <td></td> <td>无符号长整型</td> <td>unsigned long [int]</td> <td>32 位</td> <td><span class=arithmatex>\(0\)</span> ~ <span class=arithmatex>\(2^{32}-1\)</span></td> <td>%lu</td> </tr> <tr> <td>字符型</td> <td>字符型</td> <td>char</td> <td>8 位</td> <td><span class=arithmatex>\(0\)</span> ~ <span class=arithmatex>\(255\)</span></td> <td>%c</td> </tr> <tr> <td>浮点型</td> <td>单精度浮点型</td> <td>float</td> <td>32 位</td> <td>约 <span class=arithmatex>\(10^{-38}\)</span> ~ <span class=arithmatex>\(10^{38}\)</span></td> <td>%f</td> </tr> <tr> <td></td> <td>双精度浮点型</td> <td>double</td> <td>64 位</td> <td>约 <span class=arithmatex>\(10^{-308}\)</span> ~ <span class=arithmatex>\(10^{308}\)</span></td> <td>%lf</td> </tr> </tbody> </table> <p><strong>注</strong>: </p> <ul> <li> <p>方括号中的内容可以省略。</p> </li> <li> <p>bit位数：0 ~ 长度-1 位；符号位：最高位（第长度-1位）</p> </li> <li> <p>十进制Decimal 八进制Octal（%o） 十六进制Hexadecimal（%x）</p> <p>16进制：X对应A~F； x对应a~f</p> </li> </ul> <h3 id=_7>整型<a class=headerlink href=#_7 title="Permanent link">&para;</a></h3> <p><strong>定义</strong></p> <ol> <li>整型常量 == 整数数字</li> <li>整型变量</li> </ol> <p><strong>存储</strong></p> <p>让计算机用特定byte存数字：加后缀eg：<code>123L</code>,<code>123UL</code>，但是短整型没有类似表示</p> <p><strong>数字编码</strong></p> <ul> <li> <p>补码：</p> <p>使得数据的表示唯一：主要是0和-0统一；使得减法用加法做</p> <p>内存中按补码存储</p> </li> </ul> <p>正数：</p> <p>三个码相同：符号位为 <strong>0</strong>，其余为其二进制</p> <p>负数：</p> <ul> <li>原码：符号位1，其他位与为绝对值的二进制</li> <li>反码：符号位1不变，除符号位其他为原码的反</li> <li>补码：反码 + 1</li> </ul> <p>负数三码转换</p> <ul> <li> <p>转换原因：内存中补码存储/运算；知道原码才知道数字是多少</p> </li> <li> <p>原码 —— 补码：</p> <ul> <li>负数 取反（符号位不变） + 1</li> </ul> </li> <li> <p>补码转原码：</p> <ul> <li>负数法一：减 1，按位取反，符号位不变。</li> <li>负数法一：补码的补码是原码</li> </ul> </li> </ul> <p>溢出：会有进位，溢出最高位舍</p> <p><strong>示例</strong></p> <div class="language-c highlight"><pre><span></span><code><span id=__span-2-1><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a><span class=kt>int</span><span class=w> </span><span class=n>a</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>-1</span><span class=p>;</span>
</span><span id=__span-2-2><a id=__codelineno-2-2 name=__codelineno-2-2 href=#__codelineno-2-2></a><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%d, %u&quot;</span><span class=p>,</span><span class=w> </span><span class=n>a</span><span class=p>,</span><span class=w> </span><span class=n>a</span><span class=p>);</span>
</span><span id=__span-2-3><a id=__codelineno-2-3 name=__codelineno-2-3 href=#__codelineno-2-3></a><span class=c1>//结果：-1, 4294967295</span>
</span><span id=__span-2-4><a id=__codelineno-2-4 name=__codelineno-2-4 href=#__codelineno-2-4></a><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%o, %x&quot;</span><span class=p>,</span><span class=w> </span><span class=n>a</span><span class=p>,</span><span class=w> </span><span class=n>a</span><span class=p>);</span>
</span><span id=__span-2-5><a id=__codelineno-2-5 name=__codelineno-2-5 href=#__codelineno-2-5></a><span class=c1>//结果：37777777777, ffffffff</span>
</span></code></pre></div> <p><strong>直接利用格式说明符完成进制转换：</strong></p> <div class="language-c highlight"><pre><span></span><code><span id=__span-3-1><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%d, %o, %x&quot;</span><span class=p>,</span><span class=w> </span><span class=mi>10</span><span class=p>,</span><span class=w> </span><span class=mi>10</span><span class=p>,</span><span class=w> </span><span class=mi>10</span><span class=p>);</span>
</span><span id=__span-3-2><a id=__codelineno-3-2 name=__codelineno-3-2 href=#__codelineno-3-2></a><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%d, %d, %d&quot;</span><span class=p>,</span><span class=w> </span><span class=mi>10</span><span class=p>,</span><span class=w> </span><span class=mo>010</span><span class=p>,</span><span class=w> </span><span class=mh>0x10</span><span class=p>);</span>
</span></code></pre></div> <h3 id=_8>实型/浮点型<a class=headerlink href=#_8 title="Permanent link">&para;</a></h3> <p><strong>定义</strong></p> <p>表示形式：小数/科学计数法( %e )</p> <p>数据精度 与 取值范围是两个不同的概念：</p> <p>float x = 1234567.89; x虽在取值范围内，但无法精确表达。 </p> <p>float y = 1.2e55; y 的精度要求不高，但超出取值范围。</p> <p><strong>存储</strong></p> <details class=info> <summary>IEEE 754标准</summary> <p>浮点数分三个部分,依次是：</p> <ol> <li> <p><strong>符号位</strong>（Sign bit）：1位，表示数值正负，0正1负数。</p> </li> <li> <p><strong>指数位</strong>（Exponent）：存储指数部分，单精度为8位，双精度为11位。指数部分采用偏移量（bias）表示，单精度的偏移量为127，双精度的偏移量为1023。</p> </li> <li> <p><strong>尾数位</strong>（Mantissa，也称为有效数字或 significand）：存储有效数字部分，单精度为23位，双精度为52位。尾数部分通常不包括最高位的1（隐含的前导1），除了特殊情况。</p> </li> </ol> <p>举例</p> <p>假设有一个双精度浮点数 <code>3.14</code>，其二进制表示为 <code>1.1001000110100010100011110100110110</code>（不包括隐含的前导1），则其在内存中的存储方式如下：</p> <ol> <li><strong>符号位</strong>：0（因为3.14是正数）</li> <li><strong>指数</strong>：计算指数部分，3.14的二进制科学计数法为 <code>1.1001000110100010100011110100110110 * 2^1</code>，指数为1，加上偏移量1023，得到1024，二进制为 <code>10000000000</code>。</li> <li><strong>尾数</strong>：<code>1001000110100010100011110100110110</code>（不包括隐含的前导1）</li> </ol> <p>因此，3.14在内存中的存储为：</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-4-1><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a>0 10000000000 1001000110100010100011110100110110
</span></code></pre></div> </details> <p>特点：不能精确存储</p> <p><div class="language-c highlight"><pre><span></span><code><span id=__span-5-1><a id=__codelineno-5-1 name=__codelineno-5-1 href=#__codelineno-5-1></a><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%d&quot;</span><span class=p>,</span><span class=w> </span><span class=mf>2.1</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=mi>1</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=mf>0.1</span><span class=p>);</span><span class=w>  </span><span class=c1>//输出：0</span>
</span><span id=__span-5-2><a id=__codelineno-5-2 name=__codelineno-5-2 href=#__codelineno-5-2></a><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%d&quot;</span><span class=p>,</span><span class=w> </span><span class=mf>0.1</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=mf>0.1</span><span class=p>);</span><span class=w>  </span><span class=c1>//输出：1（非零）</span>
</span></code></pre></div> <div class="language-c highlight"><pre><span></span><code><span id=__span-6-1><a id=__codelineno-6-1 name=__codelineno-6-1 href=#__codelineno-6-1></a><span class=c1>//判断俩实数是否相等</span>
</span><span id=__span-6-2><a id=__codelineno-6-2 name=__codelineno-6-2 href=#__codelineno-6-2></a><span class=cm>/*</span>
</span><span id=__span-6-3><a id=__codelineno-6-3 name=__codelineno-6-3 href=#__codelineno-6-3></a><span class=cm>wrong:</span>
</span><span id=__span-6-4><a id=__codelineno-6-4 name=__codelineno-6-4 href=#__codelineno-6-4></a><span class=cm>if(f1 == f2){}</span>
</span><span id=__span-6-5><a id=__codelineno-6-5 name=__codelineno-6-5 href=#__codelineno-6-5></a><span class=cm>*/</span>
</span><span id=__span-6-6><a id=__codelineno-6-6 name=__codelineno-6-6 href=#__codelineno-6-6></a><span class=n>fabs</span><span class=p>(</span><span class=n>f1</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=n>f2</span><span class=p>)</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=mf>1e-12</span><span class=w>  </span><span class=c1>//其实1e-8就够了</span>
</span></code></pre></div></p> <h3 id=_9>字符型<a class=headerlink href=#_9 title="Permanent link">&para;</a></h3> <p><strong>定义</strong></p> <ul> <li> <p>字符型变量</p> </li> <li> <p>字符型常量：单个字符，<code>'A'</code> <code>'\n'</code> 是正确的定义方式，得加上单引号 </p> </li> </ul> <p><strong>存储</strong></p> <p>存ASCII</p> <details class=info> <summary>转义字符</summary> <ol> <li> <p><strong>多行字符串</strong>： <div class="language-c highlight"><pre><span></span><code><span id=__span-7-1><a id=__codelineno-7-1 name=__codelineno-7-1 href=#__codelineno-7-1></a><span class=n>printf</span><span class=p>(</span><span class=s>&quot;Line 1 \</span>
</span><span id=__span-7-2><a id=__codelineno-7-2 name=__codelineno-7-2 href=#__codelineno-7-2></a><span class=s>Line 2&quot;</span><span class=p>);</span>
</span><span id=__span-7-3><a id=__codelineno-7-3 name=__codelineno-7-3 href=#__codelineno-7-3></a><span class=c1>//输出：Line 1 Line 2</span>
</span></code></pre></div></p> </li> <li> <p><strong>包含特殊字符的字符串</strong>： <div class="language-c highlight"><pre><span></span><code><span id=__span-8-1><a id=__codelineno-8-1 name=__codelineno-8-1 href=#__codelineno-8-1></a><span class=kt>char</span><span class=w> </span><span class=n>str</span><span class=p>[]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&quot;He said, </span><span class=se>\&quot;</span><span class=s>Hello, World!</span><span class=se>\&quot;</span><span class=s>&quot;</span><span class=p>;</span>
</span><span id=__span-8-2><a id=__codelineno-8-2 name=__codelineno-8-2 href=#__codelineno-8-2></a><span class=c1>//输出: He said, &quot;Hello, World!&quot;</span>
</span></code></pre></div></p> </li> <li> <p><strong>使用退格符</strong>： <div class="language-c highlight"><pre><span></span><code><span id=__span-9-1><a id=__codelineno-9-1 name=__codelineno-9-1 href=#__codelineno-9-1></a><span class=n>printf</span><span class=p>(</span><span class=s>&quot;Type </span><span class=se>\b</span><span class=s>not</span><span class=se>\b</span><span class=s> me</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>);</span>
</span></code></pre></div> 这里，<code>\b</code> 是退格符，用于删除前一个字符。输出结果将是： <div class="language-text highlight"><pre><span></span><code><span id=__span-10-1><a id=__codelineno-10-1 name=__codelineno-10-1 href=#__codelineno-10-1></a>Type  me
</span></code></pre></div></p> </li> <li> <p><strong>使用空字符</strong>： <div class="language-c highlight"><pre><span></span><code><span id=__span-11-1><a id=__codelineno-11-1 name=__codelineno-11-1 href=#__codelineno-11-1></a><span class=kt>char</span><span class=w> </span><span class=n>str</span><span class=p>[]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&quot;Hello</span><span class=se>\0</span><span class=s>World&quot;</span><span class=p>;</span>
</span><span id=__span-11-2><a id=__codelineno-11-2 name=__codelineno-11-2 href=#__codelineno-11-2></a><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%s</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=n>str</span><span class=p>);</span>
</span></code></pre></div> 这里，<code>\0</code> 是空字符，它将字符串在 <code>Hello</code> 后面截断，所以 <code>World</code> 不会被打印出来。输出结果将是： <div class="language-text highlight"><pre><span></span><code><span id=__span-12-1><a id=__codelineno-12-1 name=__codelineno-12-1 href=#__codelineno-12-1></a>Hello
</span></code></pre></div></p> </li> <li> <p><strong>使用回车符和换行符</strong>： <div class="language-c highlight"><pre><span></span><code><span id=__span-13-1><a id=__codelineno-13-1 name=__codelineno-13-1 href=#__codelineno-13-1></a><span class=n>printf</span><span class=p>(</span><span class=s>&quot;First line.</span><span class=se>\r</span><span class=s>Second line.</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>);</span>
</span></code></pre></div> 这里，<code>\r</code> 是回车符，将光标移动到行首，然后打印 <code>Second line.</code>，覆盖了 <code>First line.</code>。输出结果将是： <div class="language-text highlight"><pre><span></span><code><span id=__span-14-1><a id=__codelineno-14-1 name=__codelineno-14-1 href=#__codelineno-14-1></a>Second line.
</span></code></pre></div></p> </li> </ol> <p>所有字符都可以用转义字符表示（即：使用8 or 16 进制转义序列） eg：打印<code>A</code> <div class="language-c highlight"><pre><span></span><code><span id=__span-15-1><a id=__codelineno-15-1 name=__codelineno-15-1 href=#__codelineno-15-1></a><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%c</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=sc>&#39;A&#39;</span><span class=p>);</span><span class=w> </span><span class=c1>//直接</span>
</span></code></pre></div> <div class="language-c highlight"><pre><span></span><code><span id=__span-16-1><a id=__codelineno-16-1 name=__codelineno-16-1 href=#__codelineno-16-1></a><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%c</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=mi>65</span><span class=p>);</span><span class=w> </span><span class=c1>//ASCII</span>
</span></code></pre></div> <div class="language-c highlight"><pre><span></span><code><span id=__span-17-1><a id=__codelineno-17-1 name=__codelineno-17-1 href=#__codelineno-17-1></a><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%c</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=sc>&#39;\x41&#39;</span><span class=p>);</span><span class=w> </span><span class=c1>//使用转义序列`\x`后跟十六进制的ASCII码值打印`A`（在支持C99标准或更高版本的编译器中）</span>
</span></code></pre></div> <div class="language-c highlight"><pre><span></span><code><span id=__span-18-1><a id=__codelineno-18-1 name=__codelineno-18-1 href=#__codelineno-18-1></a><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%c</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=sc>&#39;\101&#39;</span><span class=p>);</span><span class=w> </span><span class=c1>//八进制的ASCII码, 注意有&#39;&#39;单引号</span>
</span></code></pre></div></p> </details> <p><strong>关系</strong>: 整型和字符型可以按ASCII随便交换</p> <h3 id=_10>类型转换<a class=headerlink href=#_10 title="Permanent link">&para;</a></h3> <p><strong>零、情况</strong></p> <ol> <li>不同类型数据的混合运算</li> <li><em>整型数据除法需要得到小数</em></li> </ol> <p><strong>一、自动</strong></p> <p><strong>（一）、非赋值运算</strong></p> <ol> <li> <p>理论</p> <p><a class=glightbox href=../res/images/image-4_1.png data-type=image data-width=auto data-height=auto data-desc-position=bottom><img alt="alt text" src=../res/images/image-4_1.png></a></p> <p>水平方向：自动；垂直方向：低 —&gt;高 </p> </li> </ol> <p><strong>（二）、赋值运算</strong> 1. 理论</p> <div class="language-text highlight"><pre><span></span><code>![alt text](res/images/image-5_1.png)
</code></pre></div> <ol start=2> <li>示例： <div class="language-c highlight"><pre><span></span><code><span id=__span-19-1><a id=__codelineno-19-1 name=__codelineno-19-1 href=#__codelineno-19-1></a><span class=kt>short</span><span class=w> </span><span class=n>bi</span><span class=p>;</span>
</span><span id=__span-19-2><a id=__codelineno-19-2 name=__codelineno-19-2 href=#__codelineno-19-2></a><span class=n>bi</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mh>0x12345678L</span><span class=p>;</span><span class=w> </span><span class=c1>//长整型十六进制</span>
</span><span id=__span-19-3><a id=__codelineno-19-3 name=__codelineno-19-3 href=#__codelineno-19-3></a><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%d&quot;</span><span class=p>,</span><span class=w> </span><span class=n>bi</span><span class=p>);</span>
</span><span id=__span-19-4><a id=__codelineno-19-4 name=__codelineno-19-4 href=#__codelineno-19-4></a><span class=cm>/*</span>
</span><span id=__span-19-5><a id=__codelineno-19-5 name=__codelineno-19-5 href=#__codelineno-19-5></a><span class=cm>warning: overflow in conversion from ‘long int’ to ‘short int’ changes value from ‘305419896’ to ‘22136’ [-Woverflow]</span>
</span><span id=__span-19-6><a id=__codelineno-19-6 name=__codelineno-19-6 href=#__codelineno-19-6></a><span class=cm>11 | bi = 0x12345678L;</span>
</span><span id=__span-19-7><a id=__codelineno-19-7 name=__codelineno-19-7 href=#__codelineno-19-7></a><span class=cm>    |      ^~~~~~~~~~~</span>
</span><span id=__span-19-8><a id=__codelineno-19-8 name=__codelineno-19-8 href=#__codelineno-19-8></a><span class=cm>*/</span>
</span></code></pre></div> 数值溢出时：</li> </ol> <p><strong>截断</strong>：由于数值超出了 <code>short</code> 类型的范围，编译器会将这个数值截断到 <code>short</code> 类型能表示的范围。具体来说，它会取这个数值的低16位。<code>0x12345678L</code> 的二进制表示是 <code>0001 0010 0011 0100 0101 0110 0111 1000</code>，取低16位是 <code>0101 0110 0111 1000</code>，即 <code>0x5EF8</code>。</p> <p><strong>二、强制类型转换</strong></p> <p><strong>语法：</strong> (类型名) 表达式</p> <p><strong>示例：</strong></p> <div class="language-C highlight"><pre><span></span><code><span id=__span-20-1><a id=__codelineno-20-1 name=__codelineno-20-1 href=#__codelineno-20-1></a><span class=w>    </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;(double)3 = %.1f</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=p>(</span><span class=kt>double</span><span class=p>)</span><span class=mi>3</span><span class=p>);</span><span class=w> </span><span class=c1>// 3.0</span>
</span><span id=__span-20-2><a id=__codelineno-20-2 name=__codelineno-20-2 href=#__codelineno-20-2></a><span class=w>    </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;(int)3.8 = %d</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=p>)</span><span class=mf>3.8</span><span class=p>);</span><span class=w>  </span><span class=c1>//3</span>
</span><span id=__span-20-3><a id=__codelineno-20-3 name=__codelineno-20-3 href=#__codelineno-20-3></a><span class=w>    </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;(int)-1.6 = %d</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=p>)</span><span class=mf>-1.6</span><span class=p>);</span><span class=w>  </span><span class=c1>//-1</span>
</span><span id=__span-20-4><a id=__codelineno-20-4 name=__codelineno-20-4 href=#__codelineno-20-4></a><span class=w>    </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;(double)(5/2) = %.1f</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=p>(</span><span class=kt>double</span><span class=p>)(</span><span class=mi>5</span><span class=w> </span><span class=o>/</span><span class=w> </span><span class=mi>2</span><span class=p>));</span><span class=w>  </span><span class=c1>//2.0</span>
</span><span id=__span-20-5><a id=__codelineno-20-5 name=__codelineno-20-5 href=#__codelineno-20-5></a><span class=w>    </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;(double)5/2 = %.1f</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=p>(</span><span class=kt>double</span><span class=p>)</span><span class=mi>5</span><span class=w> </span><span class=o>/</span><span class=w> </span><span class=mi>2</span><span class=p>);</span><span class=w>  </span><span class=c1>//2.5</span>
</span><span id=__span-20-6><a id=__codelineno-20-6 name=__codelineno-20-6 href=#__codelineno-20-6></a><span class=w>    </span><span class=c1>//后两个：看优先级：（）比（类型名）高。所以倒数第二个：先5/2 = 2，再(double)2 = 2.0 ，最后一个先(double)5 = 5.0，再5.0/2 = 2.5（发生了自动类型转换）</span>
</span><span id=__span-20-7><a id=__codelineno-20-7 name=__codelineno-20-7 href=#__codelineno-20-7></a>
</span><span id=__span-20-8><a id=__codelineno-20-8 name=__codelineno-20-8 href=#__codelineno-20-8></a><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>i</span><span class=p>;</span><span class=w>        </span><span class=c1>// Integer variable</span>
</span><span id=__span-20-9><a id=__codelineno-20-9 name=__codelineno-20-9 href=#__codelineno-20-9></a><span class=w>    </span><span class=kt>double</span><span class=w> </span><span class=n>x</span><span class=p>;</span><span class=w>     </span><span class=c1>// Double variable</span>
</span><span id=__span-20-10><a id=__codelineno-20-10 name=__codelineno-20-10 href=#__codelineno-20-10></a><span class=w>    </span><span class=n>x</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mf>3.8</span><span class=p>;</span><span class=w>      </span><span class=c1>// Assign 3.8 to x</span>
</span><span id=__span-20-11><a id=__codelineno-20-11 name=__codelineno-20-11 href=#__codelineno-20-11></a><span class=w>    </span><span class=n>i</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=p>)</span><span class=n>x</span><span class=p>;</span><span class=w>   </span><span class=c1>// Cast x to int, truncating 3.8 to 3</span>
</span><span id=__span-20-12><a id=__codelineno-20-12 name=__codelineno-20-12 href=#__codelineno-20-12></a><span class=w>    </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;x = %f, i = %d</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=n>x</span><span class=p>,</span><span class=w> </span><span class=n>i</span><span class=p>);</span>
</span><span id=__span-20-13><a id=__codelineno-20-13 name=__codelineno-20-13 href=#__codelineno-20-13></a><span class=w>    </span><span class=c1>// Output: x = 3.800000, i = 3</span>
</span><span id=__span-20-14><a id=__codelineno-20-14 name=__codelineno-20-14 href=#__codelineno-20-14></a><span class=w>    </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;(double)(int)x = %f</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=p>(</span><span class=kt>double</span><span class=p>)(</span><span class=kt>int</span><span class=p>)</span><span class=n>x</span><span class=p>);</span><span class=w> </span>
</span><span id=__span-20-15><a id=__codelineno-20-15 name=__codelineno-20-15 href=#__codelineno-20-15></a><span class=w>    </span><span class=c1>// Cast x to int (3) and then cast back to double (3.0)</span>
</span><span id=__span-20-16><a id=__codelineno-20-16 name=__codelineno-20-16 href=#__codelineno-20-16></a><span class=w>    </span><span class=c1>// Output: (double)(int)x = 3.000000</span>
</span><span id=__span-20-17><a id=__codelineno-20-17 name=__codelineno-20-17 href=#__codelineno-20-17></a><span class=w>    </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;x mod 3 = %d</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=p>)</span><span class=n>x</span><span class=w> </span><span class=o>%</span><span class=w> </span><span class=mi>3</span><span class=p>);</span><span class=w> </span>
</span><span id=__span-20-18><a id=__codelineno-20-18 name=__codelineno-20-18 href=#__codelineno-20-18></a><span class=w>    </span><span class=c1>// Cast x (3.8) to int (3), then compute 3 % 3 = 0</span>
</span><span id=__span-20-19><a id=__codelineno-20-19 name=__codelineno-20-19 href=#__codelineno-20-19></a><span class=w>    </span><span class=c1>// Output: x mod 3 = 0</span>
</span></code></pre></div> <h3 id=_11>枚举<a class=headerlink href=#_11 title="Permanent link">&para;</a></h3> <p><strong>定义&amp;规则：</strong></p> <div class="language-c highlight"><pre><span></span><code><span id=__span-21-1><a id=__codelineno-21-1 name=__codelineno-21-1 href=#__codelineno-21-1></a><span class=k>enum</span><span class=w> </span><span class=n>枚举名</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-21-2><a id=__codelineno-21-2 name=__codelineno-21-2 href=#__codelineno-21-2></a><span class=w>    </span><span class=n>枚举常量1</span><span class=p>,</span>
</span><span id=__span-21-3><a id=__codelineno-21-3 name=__codelineno-21-3 href=#__codelineno-21-3></a><span class=w>    </span><span class=n>枚举常量2</span><span class=p>,</span>
</span><span id=__span-21-4><a id=__codelineno-21-4 name=__codelineno-21-4 href=#__codelineno-21-4></a><span class=w>    </span><span class=p>...</span>
</span><span id=__span-21-5><a id=__codelineno-21-5 name=__codelineno-21-5 href=#__codelineno-21-5></a><span class=p>};</span><span class=w>  </span><span class=c1>//带上分号</span>
</span></code></pre></div> <ul> <li>C内部 <code>enum</code> 其实就是 <code>int</code>，可以当作 <code>int</code> 做运算</li> <li><strong>枚举名</strong>：是枚举类型的名字（可选，因为一般不用）。</li> <li><strong>枚举常量</strong>：是一组合法的标识符，（必要，需要用）类型是<code>int</code>常量，默认从 <code>0</code> 开始依次递增。</li> <li> <p>枚举中的常量必须唯一</p> </li> <li> <p><strong>不能直接输入枚举常量的名字：</strong></p> <p>枚举常量不能通过输入输出函数直接读写。例如，不能用 <code>scanf</code> 读取枚举类型，必须通过整数变量赋值。</p> </li> <li> <p><strong>类型安全性：</strong></p> <p>枚举变量的值可以超出定义的范围（尽管不推荐），因为底层实现是整数。例如：</p> </li> </ul> <div class="language-c highlight"><pre><span></span><code><span id=__span-22-1><a id=__codelineno-22-1 name=__codelineno-22-1 href=#__codelineno-22-1></a><span class=k>enum</span><span class=w> </span><span class=n>Color</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=n>RED</span><span class=p>,</span><span class=w> </span><span class=n>GREEN</span><span class=p>,</span><span class=w> </span><span class=n>BLUE</span><span class=w> </span><span class=p>};</span>
</span><span id=__span-22-2><a id=__codelineno-22-2 name=__codelineno-22-2 href=#__codelineno-22-2></a>
</span><span id=__span-22-3><a id=__codelineno-22-3 name=__codelineno-22-3 href=#__codelineno-22-3></a><span class=kt>int</span><span class=w> </span><span class=nf>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-22-4><a id=__codelineno-22-4 name=__codelineno-22-4 href=#__codelineno-22-4></a><span class=w>    </span><span class=k>enum</span><span class=w> </span><span class=n>Color</span><span class=w> </span><span class=n>myColor</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>5</span><span class=p>;</span><span class=w> </span><span class=c1>// 合法，但不推荐</span>
</span><span id=__span-22-5><a id=__codelineno-22-5 name=__codelineno-22-5 href=#__codelineno-22-5></a><span class=w>    </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%d</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=n>myColor</span><span class=p>);</span><span class=w> </span><span class=c1>// 输出 5</span>
</span><span id=__span-22-6><a id=__codelineno-22-6 name=__codelineno-22-6 href=#__codelineno-22-6></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-22-7><a id=__codelineno-22-7 name=__codelineno-22-7 href=#__codelineno-22-7></a><span class=p>}</span>
</span></code></pre></div> <p><strong>意义</strong>：</p> <p>命名的一组需要排列的整数常量，用于固定类别、状态和选项的表示。可读性，易于维护。</p> <p><strong>使用</strong></p> <div class="language-c highlight"><pre><span></span><code><span id=__span-23-1><a id=__codelineno-23-1 name=__codelineno-23-1 href=#__codelineno-23-1></a><span class=k>enum</span><span class=w> </span><span class=n>Color</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-23-2><a id=__codelineno-23-2 name=__codelineno-23-2 href=#__codelineno-23-2></a><span class=w>    </span><span class=n>RED</span><span class=p>,</span><span class=w>    </span><span class=c1>// 默认值为 0</span>
</span><span id=__span-23-3><a id=__codelineno-23-3 name=__codelineno-23-3 href=#__codelineno-23-3></a><span class=w>    </span><span class=n>GREEN</span><span class=p>,</span><span class=w>  </span><span class=c1>// 默认值为 1</span>
</span><span id=__span-23-4><a id=__codelineno-23-4 name=__codelineno-23-4 href=#__codelineno-23-4></a><span class=w>    </span><span class=n>BLUE</span><span class=w>    </span><span class=c1>// 默认值为 2</span>
</span><span id=__span-23-5><a id=__codelineno-23-5 name=__codelineno-23-5 href=#__codelineno-23-5></a><span class=p>};</span>
</span></code></pre></div> <p>这里定义了一个枚举类型 <code>Color</code>，它包含了三个枚举常量：<code>RED</code>、<code>GREEN</code> 和 <code>BLUE</code>。这些常量的默认值分别是 <code>0</code>、<code>1</code> 和 <code>2</code>。</p> <p><strong>为枚举常量指定值</strong></p> <p>可以显式为枚举常量指定值。如果未指定值，则该常量的值为前一个常量值加 <code>1</code>。</p> <div class="language-c highlight"><pre><span></span><code><span id=__span-24-1><a id=__codelineno-24-1 name=__codelineno-24-1 href=#__codelineno-24-1></a><span class=k>enum</span><span class=w> </span><span class=n>Day</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-24-2><a id=__codelineno-24-2 name=__codelineno-24-2 href=#__codelineno-24-2></a><span class=w>    </span><span class=n>MON</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span><span class=p>,</span><span class=w>  </span><span class=c1>// MON 的值是 1</span>
</span><span id=__span-24-3><a id=__codelineno-24-3 name=__codelineno-24-3 href=#__codelineno-24-3></a><span class=w>    </span><span class=n>TUE</span><span class=p>,</span><span class=w>      </span><span class=c1>// TUE 的值是 2</span>
</span><span id=__span-24-4><a id=__codelineno-24-4 name=__codelineno-24-4 href=#__codelineno-24-4></a><span class=w>    </span><span class=n>WED</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>5</span><span class=p>,</span><span class=w>  </span><span class=c1>// WED 的值是 5</span>
</span><span id=__span-24-5><a id=__codelineno-24-5 name=__codelineno-24-5 href=#__codelineno-24-5></a><span class=w>    </span><span class=n>THU</span><span class=p>,</span><span class=w>      </span><span class=c1>// THU 的值是 6</span>
</span><span id=__span-24-6><a id=__codelineno-24-6 name=__codelineno-24-6 href=#__codelineno-24-6></a><span class=w>    </span><span class=n>FRI</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>10</span><span class=p>,</span><span class=w> </span><span class=c1>// FRI 的值是 10</span>
</span><span id=__span-24-7><a id=__codelineno-24-7 name=__codelineno-24-7 href=#__codelineno-24-7></a><span class=w>    </span><span class=n>SAT</span><span class=p>,</span><span class=w>      </span><span class=c1>// SAT 的值是 11</span>
</span><span id=__span-24-8><a id=__codelineno-24-8 name=__codelineno-24-8 href=#__codelineno-24-8></a><span class=w>    </span><span class=n>SUN</span><span class=w>       </span><span class=c1>// SUN 的值是 12</span>
</span><span id=__span-24-9><a id=__codelineno-24-9 name=__codelineno-24-9 href=#__codelineno-24-9></a><span class=p>};</span>
</span></code></pre></div> <p><strong>定义枚举变量</strong></p> <div class="language-c highlight"><pre><span></span><code><span id=__span-25-1><a id=__codelineno-25-1 name=__codelineno-25-1 href=#__codelineno-25-1></a><span class=k>enum</span><span class=w> </span><span class=n>Color</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=n>RED</span><span class=p>,</span><span class=w> </span><span class=n>GREEN</span><span class=p>,</span><span class=w> </span><span class=n>BLUE</span><span class=w> </span><span class=p>};</span>
</span><span id=__span-25-2><a id=__codelineno-25-2 name=__codelineno-25-2 href=#__codelineno-25-2></a>
</span><span id=__span-25-3><a id=__codelineno-25-3 name=__codelineno-25-3 href=#__codelineno-25-3></a><span class=kt>int</span><span class=w> </span><span class=nf>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-25-4><a id=__codelineno-25-4 name=__codelineno-25-4 href=#__codelineno-25-4></a><span class=w>    </span><span class=k>enum</span><span class=w> </span><span class=n>Color</span><span class=w> </span><span class=n>myColor</span><span class=p>;</span><span class=w> </span><span class=c1>// 定义一个枚举变量</span>
</span><span id=__span-25-5><a id=__codelineno-25-5 name=__codelineno-25-5 href=#__codelineno-25-5></a><span class=w>    </span><span class=n>myColor</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>GREEN</span><span class=p>;</span><span class=w>    </span><span class=c1>// 为变量初始化枚举常量</span>
</span><span id=__span-25-6><a id=__codelineno-25-6 name=__codelineno-25-6 href=#__codelineno-25-6></a><span class=w>    </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;myColor = %d</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=n>myColor</span><span class=p>);</span><span class=w> </span><span class=c1>// 输出 1</span>
</span><span id=__span-25-7><a id=__codelineno-25-7 name=__codelineno-25-7 href=#__codelineno-25-7></a><span class=w>    </span><span class=n>scanf</span><span class=p>(</span><span class=s>&quot;%d&quot;</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=n>myColor</span><span class=p>);</span><span class=w>  </span><span class=c1>// 输入 5</span>
</span><span id=__span-25-8><a id=__codelineno-25-8 name=__codelineno-25-8 href=#__codelineno-25-8></a><span class=w>    </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%d&quot;</span><span class=p>,</span><span class=w> </span><span class=n>myColor</span><span class=p>);</span><span class=w>  </span><span class=c1>// 输出 5</span>
</span><span id=__span-25-9><a id=__codelineno-25-9 name=__codelineno-25-9 href=#__codelineno-25-9></a><span class=w>    </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%d&quot;</span><span class=p>,</span><span class=w> </span><span class=n>GREEN</span><span class=p>);</span><span class=w> </span><span class=c1>// 输出 1</span>
</span><span id=__span-25-10><a id=__codelineno-25-10 name=__codelineno-25-10 href=#__codelineno-25-10></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-25-11><a id=__codelineno-25-11 name=__codelineno-25-11 href=#__codelineno-25-11></a><span class=p>}</span>
</span><span id=__span-25-12><a id=__codelineno-25-12 name=__codelineno-25-12 href=#__codelineno-25-12></a><span class=c1>//GREEN的值不会变成5啊，因为枚举常量的值是固定的，且在编译时已经确定。赋值给枚举变量（如 myColor）时，只是改变了变量的值，不会修改枚举常量的值。</span>
</span></code></pre></div> <hr> <p><strong>匿名枚举</strong></p> <p>如果不需要多次引用枚举类型名称，可以省略枚举类型的名字，直接使用枚举常量。</p> <div class="language-c highlight"><pre><span></span><code><span id=__span-26-1><a id=__codelineno-26-1 name=__codelineno-26-1 href=#__codelineno-26-1></a><span class=k>enum</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=n>MON</span><span class=p>,</span><span class=w> </span><span class=n>TUE</span><span class=p>,</span><span class=w> </span><span class=n>WED</span><span class=p>,</span><span class=w> </span><span class=n>THU</span><span class=p>,</span><span class=w> </span><span class=n>FRI</span><span class=p>,</span><span class=w> </span><span class=n>SAT</span><span class=p>,</span><span class=w> </span><span class=n>SUN</span><span class=w> </span><span class=p>};</span>
</span><span id=__span-26-2><a id=__codelineno-26-2 name=__codelineno-26-2 href=#__codelineno-26-2></a>
</span><span id=__span-26-3><a id=__codelineno-26-3 name=__codelineno-26-3 href=#__codelineno-26-3></a><span class=kt>int</span><span class=w> </span><span class=nf>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-26-4><a id=__codelineno-26-4 name=__codelineno-26-4 href=#__codelineno-26-4></a><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>today</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>WED</span><span class=p>;</span><span class=w> </span><span class=c1>// 直接使用枚举常量</span>
</span><span id=__span-26-5><a id=__codelineno-26-5 name=__codelineno-26-5 href=#__codelineno-26-5></a><span class=w>    </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;Today is day number: %d</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=n>today</span><span class=p>);</span><span class=w> </span><span class=c1>// 输出 2</span>
</span><span id=__span-26-6><a id=__codelineno-26-6 name=__codelineno-26-6 href=#__codelineno-26-6></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-26-7><a id=__codelineno-26-7 name=__codelineno-26-7 href=#__codelineno-26-7></a><span class=p>}</span>
</span></code></pre></div> <p><strong>计数</strong></p> <p><code>Color{c1, c2, c3, c4, cnt};</code> 这里<code>cnt</code>值是4，记录了前面枚举变量的个数，可以用它来循环……</p> <p><strong>具体使用场景</strong></p> <p>在底层，枚举类型的常量其实是整数（<code>int</code> 类型）。因此，枚举常量可以用于任何需要整数值的地方。</p> <div class="language-c highlight"><pre><span></span><code><span id=__span-27-1><a id=__codelineno-27-1 name=__codelineno-27-1 href=#__codelineno-27-1></a><span class=k>enum</span><span class=w> </span><span class=n>Status</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=n>OFF</span><span class=p>,</span><span class=w> </span><span class=n>ON</span><span class=w> </span><span class=p>};</span>
</span><span id=__span-27-2><a id=__codelineno-27-2 name=__codelineno-27-2 href=#__codelineno-27-2></a>
</span><span id=__span-27-3><a id=__codelineno-27-3 name=__codelineno-27-3 href=#__codelineno-27-3></a><span class=kt>int</span><span class=w> </span><span class=nf>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-27-4><a id=__codelineno-27-4 name=__codelineno-27-4 href=#__codelineno-27-4></a><span class=w>    </span><span class=k>enum</span><span class=w> </span><span class=n>Status</span><span class=w> </span><span class=n>light</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>OFF</span><span class=p>;</span>
</span><span id=__span-27-5><a id=__codelineno-27-5 name=__codelineno-27-5 href=#__codelineno-27-5></a>
</span><span id=__span-27-6><a id=__codelineno-27-6 name=__codelineno-27-6 href=#__codelineno-27-6></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>light</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=n>OFF</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-27-7><a id=__codelineno-27-7 name=__codelineno-27-7 href=#__codelineno-27-7></a><span class=w>        </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;Light is off</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>);</span>
</span><span id=__span-27-8><a id=__codelineno-27-8 name=__codelineno-27-8 href=#__codelineno-27-8></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-27-9><a id=__codelineno-27-9 name=__codelineno-27-9 href=#__codelineno-27-9></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-27-10><a id=__codelineno-27-10 name=__codelineno-27-10 href=#__codelineno-27-10></a><span class=p>}</span>
</span></code></pre></div> <div class="language-c highlight"><pre><span></span><code><span id=__span-28-1><a id=__codelineno-28-1 name=__codelineno-28-1 href=#__codelineno-28-1></a><span class=c1>//状态开关机</span>
</span><span id=__span-28-2><a id=__codelineno-28-2 name=__codelineno-28-2 href=#__codelineno-28-2></a><span class=k>enum</span><span class=w> </span><span class=n>State</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=n>INIT</span><span class=p>,</span><span class=w> </span><span class=n>RUNNING</span><span class=p>,</span><span class=w> </span><span class=n>STOPPED</span><span class=w> </span><span class=p>};</span>
</span><span id=__span-28-3><a id=__codelineno-28-3 name=__codelineno-28-3 href=#__codelineno-28-3></a>
</span><span id=__span-28-4><a id=__codelineno-28-4 name=__codelineno-28-4 href=#__codelineno-28-4></a><span class=kt>void</span><span class=w> </span><span class=nf>checkState</span><span class=p>(</span><span class=k>enum</span><span class=w> </span><span class=n>State</span><span class=w> </span><span class=n>s</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-28-5><a id=__codelineno-28-5 name=__codelineno-28-5 href=#__codelineno-28-5></a><span class=w>    </span><span class=k>switch</span><span class=w> </span><span class=p>(</span><span class=n>s</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-28-6><a id=__codelineno-28-6 name=__codelineno-28-6 href=#__codelineno-28-6></a><span class=w>        </span><span class=k>case</span><span class=w> </span><span class=no>INIT</span><span class=p>:</span><span class=w>    </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;Initializing...</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>);</span><span class=w> </span><span class=k>break</span><span class=p>;</span>
</span><span id=__span-28-7><a id=__codelineno-28-7 name=__codelineno-28-7 href=#__codelineno-28-7></a><span class=w>        </span><span class=k>case</span><span class=w> </span><span class=no>RUNNING</span><span class=p>:</span><span class=w> </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;Running...</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>);</span><span class=w> </span><span class=k>break</span><span class=p>;</span>
</span><span id=__span-28-8><a id=__codelineno-28-8 name=__codelineno-28-8 href=#__codelineno-28-8></a><span class=w>        </span><span class=k>case</span><span class=w> </span><span class=no>STOPPED</span><span class=p>:</span><span class=w> </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;Stopped.</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>);</span><span class=w> </span><span class=k>break</span><span class=p>;</span>
</span><span id=__span-28-9><a id=__codelineno-28-9 name=__codelineno-28-9 href=#__codelineno-28-9></a><span class=w>        </span><span class=k>default</span><span class=o>:</span><span class=w>      </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;Unknown state!</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>);</span>
</span><span id=__span-28-10><a id=__codelineno-28-10 name=__codelineno-28-10 href=#__codelineno-28-10></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-28-11><a id=__codelineno-28-11 name=__codelineno-28-11 href=#__codelineno-28-11></a><span class=p>}</span>
</span></code></pre></div> <h3 id=_12>结构<a class=headerlink href=#_12 title="Permanent link">&para;</a></h3> <p>结构是一种数据类型，它在语法上与python中的字典、类都有相似之处。</p> <p>想不清楚时，将其当作int类型。因为本质上其都是一种数据类型。</p> <p>示例：</p> <div class="language-c highlight"><pre><span></span><code><span id=__span-29-1><a id=__codelineno-29-1 name=__codelineno-29-1 href=#__codelineno-29-1></a><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;stdio.h&gt;</span>
</span><span id=__span-29-2><a id=__codelineno-29-2 name=__codelineno-29-2 href=#__codelineno-29-2></a><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;string.h&gt;</span>
</span><span id=__span-29-3><a id=__codelineno-29-3 name=__codelineno-29-3 href=#__codelineno-29-3></a>
</span><span id=__span-29-4><a id=__codelineno-29-4 name=__codelineno-29-4 href=#__codelineno-29-4></a><span class=k>struct</span><span class=w> </span><span class=nc>student</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-29-5><a id=__codelineno-29-5 name=__codelineno-29-5 href=#__codelineno-29-5></a><span class=w>    </span><span class=kt>char</span><span class=w> </span><span class=n>name</span><span class=p>[</span><span class=mi>50</span><span class=p>];</span><span class=w>  </span>
</span><span id=__span-29-6><a id=__codelineno-29-6 name=__codelineno-29-6 href=#__codelineno-29-6></a><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>age</span><span class=p>;</span>
</span><span id=__span-29-7><a id=__codelineno-29-7 name=__codelineno-29-7 href=#__codelineno-29-7></a><span class=w>    </span><span class=kt>long</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>id</span><span class=p>;</span>
</span><span id=__span-29-8><a id=__codelineno-29-8 name=__codelineno-29-8 href=#__codelineno-29-8></a><span class=w>    </span><span class=kt>char</span><span class=w> </span><span class=n>gender</span><span class=p>[</span><span class=mi>10</span><span class=p>];</span><span class=w> </span>
</span><span id=__span-29-9><a id=__codelineno-29-9 name=__codelineno-29-9 href=#__codelineno-29-9></a><span class=w>    </span><span class=kt>double</span><span class=w> </span><span class=n>height</span><span class=p>;</span>
</span><span id=__span-29-10><a id=__codelineno-29-10 name=__codelineno-29-10 href=#__codelineno-29-10></a><span class=w>    </span><span class=kt>char</span><span class=w> </span><span class=n>bloodtype</span><span class=p>;</span>
</span><span id=__span-29-11><a id=__codelineno-29-11 name=__codelineno-29-11 href=#__codelineno-29-11></a><span class=p>};</span><span class=w>  </span><span class=c1>//这是一条C语言定义变量的语句，别忘了最后的分号；另外这段代码的作用是“声明结构类型”</span>
</span><span id=__span-29-12><a id=__codelineno-29-12 name=__codelineno-29-12 href=#__codelineno-29-12></a>
</span><span id=__span-29-13><a id=__codelineno-29-13 name=__codelineno-29-13 href=#__codelineno-29-13></a><span class=kt>int</span><span class=w> </span><span class=nf>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-29-14><a id=__codelineno-29-14 name=__codelineno-29-14 href=#__codelineno-29-14></a><span class=w>    </span><span class=k>struct</span><span class=w> </span><span class=nc>student</span><span class=w> </span><span class=n>students</span><span class=p>[</span><span class=mi>3</span><span class=p>];</span><span class=w>  </span><span class=c1>//这是在定义一个结构变量</span>
</span><span id=__span-29-15><a id=__codelineno-29-15 name=__codelineno-29-15 href=#__codelineno-29-15></a><span class=w>    </span><span class=c1>// 设置第一个学生的属性</span>
</span><span id=__span-29-16><a id=__codelineno-29-16 name=__codelineno-29-16 href=#__codelineno-29-16></a><span class=w>    </span><span class=n>strcpy</span><span class=p>(</span><span class=n>students</span><span class=p>[</span><span class=mi>0</span><span class=p>].</span><span class=n>name</span><span class=p>,</span><span class=w> </span><span class=s>&quot;Alice&quot;</span><span class=p>);</span>
</span><span id=__span-29-17><a id=__codelineno-29-17 name=__codelineno-29-17 href=#__codelineno-29-17></a><span class=w>    </span><span class=n>students</span><span class=p>[</span><span class=mi>0</span><span class=p>].</span><span class=n>age</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>20</span><span class=p>;</span>
</span><span id=__span-29-18><a id=__codelineno-29-18 name=__codelineno-29-18 href=#__codelineno-29-18></a><span class=w>    </span><span class=n>students</span><span class=p>[</span><span class=mi>0</span><span class=p>].</span><span class=n>id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>123456789</span><span class=p>;</span>
</span><span id=__span-29-19><a id=__codelineno-29-19 name=__codelineno-29-19 href=#__codelineno-29-19></a><span class=w>    </span><span class=n>strcpy</span><span class=p>(</span><span class=n>students</span><span class=p>[</span><span class=mi>0</span><span class=p>].</span><span class=n>gender</span><span class=p>,</span><span class=w> </span><span class=s>&quot;female&quot;</span><span class=p>);</span>
</span><span id=__span-29-20><a id=__codelineno-29-20 name=__codelineno-29-20 href=#__codelineno-29-20></a><span class=w>    </span><span class=n>students</span><span class=p>[</span><span class=mi>0</span><span class=p>].</span><span class=n>height</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mf>1.65</span><span class=p>;</span>
</span><span id=__span-29-21><a id=__codelineno-29-21 name=__codelineno-29-21 href=#__codelineno-29-21></a><span class=w>    </span><span class=n>students</span><span class=p>[</span><span class=mi>0</span><span class=p>].</span><span class=n>bloodtype</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=sc>&#39;A&#39;</span><span class=p>;</span>
</span><span id=__span-29-22><a id=__codelineno-29-22 name=__codelineno-29-22 href=#__codelineno-29-22></a>
</span><span id=__span-29-23><a id=__codelineno-29-23 name=__codelineno-29-23 href=#__codelineno-29-23></a><span class=w>    </span><span class=c1>// 设置第二个学生的属性</span>
</span><span id=__span-29-24><a id=__codelineno-29-24 name=__codelineno-29-24 href=#__codelineno-29-24></a><span class=w>    </span><span class=n>strcpy</span><span class=p>(</span><span class=n>students</span><span class=p>[</span><span class=mi>1</span><span class=p>].</span><span class=n>name</span><span class=p>,</span><span class=w> </span><span class=s>&quot;Bob&quot;</span><span class=p>);</span>
</span><span id=__span-29-25><a id=__codelineno-29-25 name=__codelineno-29-25 href=#__codelineno-29-25></a><span class=w>    </span><span class=n>students</span><span class=p>[</span><span class=mi>1</span><span class=p>].</span><span class=n>age</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>22</span><span class=p>;</span>
</span><span id=__span-29-26><a id=__codelineno-29-26 name=__codelineno-29-26 href=#__codelineno-29-26></a><span class=w>    </span><span class=n>students</span><span class=p>[</span><span class=mi>1</span><span class=p>].</span><span class=n>id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>987654321</span><span class=p>;</span>
</span><span id=__span-29-27><a id=__codelineno-29-27 name=__codelineno-29-27 href=#__codelineno-29-27></a><span class=w>    </span><span class=n>strcpy</span><span class=p>(</span><span class=n>students</span><span class=p>[</span><span class=mi>1</span><span class=p>].</span><span class=n>gender</span><span class=p>,</span><span class=w> </span><span class=s>&quot;male&quot;</span><span class=p>);</span>
</span><span id=__span-29-28><a id=__codelineno-29-28 name=__codelineno-29-28 href=#__codelineno-29-28></a><span class=w>    </span><span class=n>students</span><span class=p>[</span><span class=mi>1</span><span class=p>].</span><span class=n>height</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mf>1.80</span><span class=p>;</span>
</span><span id=__span-29-29><a id=__codelineno-29-29 name=__codelineno-29-29 href=#__codelineno-29-29></a><span class=w>    </span><span class=n>students</span><span class=p>[</span><span class=mi>1</span><span class=p>].</span><span class=n>bloodtype</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=sc>&#39;B&#39;</span><span class=p>;</span>
</span><span id=__span-29-30><a id=__codelineno-29-30 name=__codelineno-29-30 href=#__codelineno-29-30></a>
</span><span id=__span-29-31><a id=__codelineno-29-31 name=__codelineno-29-31 href=#__codelineno-29-31></a><span class=w>    </span><span class=c1>// 设置第三个学生的属性</span>
</span><span id=__span-29-32><a id=__codelineno-29-32 name=__codelineno-29-32 href=#__codelineno-29-32></a><span class=w>    </span><span class=n>strcpy</span><span class=p>(</span><span class=n>students</span><span class=p>[</span><span class=mi>2</span><span class=p>].</span><span class=n>name</span><span class=p>,</span><span class=w> </span><span class=s>&quot;Charlie&quot;</span><span class=p>);</span>
</span><span id=__span-29-33><a id=__codelineno-29-33 name=__codelineno-29-33 href=#__codelineno-29-33></a><span class=w>    </span><span class=n>students</span><span class=p>[</span><span class=mi>2</span><span class=p>].</span><span class=n>age</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>19</span><span class=p>;</span>
</span><span id=__span-29-34><a id=__codelineno-29-34 name=__codelineno-29-34 href=#__codelineno-29-34></a><span class=w>    </span><span class=n>students</span><span class=p>[</span><span class=mi>2</span><span class=p>].</span><span class=n>id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>555555555</span><span class=p>;</span>
</span><span id=__span-29-35><a id=__codelineno-29-35 name=__codelineno-29-35 href=#__codelineno-29-35></a><span class=w>    </span><span class=n>strcpy</span><span class=p>(</span><span class=n>students</span><span class=p>[</span><span class=mi>2</span><span class=p>].</span><span class=n>gender</span><span class=p>,</span><span class=w> </span><span class=s>&quot;male&quot;</span><span class=p>);</span>
</span><span id=__span-29-36><a id=__codelineno-29-36 name=__codelineno-29-36 href=#__codelineno-29-36></a><span class=w>    </span><span class=n>students</span><span class=p>[</span><span class=mi>2</span><span class=p>].</span><span class=n>height</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mf>1.75</span><span class=p>;</span>
</span><span id=__span-29-37><a id=__codelineno-29-37 name=__codelineno-29-37 href=#__codelineno-29-37></a><span class=w>    </span><span class=n>students</span><span class=p>[</span><span class=mi>2</span><span class=p>].</span><span class=n>bloodtype</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=sc>&#39;O&#39;</span><span class=p>;</span>
</span><span id=__span-29-38><a id=__codelineno-29-38 name=__codelineno-29-38 href=#__codelineno-29-38></a>
</span><span id=__span-29-39><a id=__codelineno-29-39 name=__codelineno-29-39 href=#__codelineno-29-39></a><span class=w>    </span><span class=c1>// 输出每个学生的信息</span>
</span><span id=__span-29-40><a id=__codelineno-29-40 name=__codelineno-29-40 href=#__codelineno-29-40></a><span class=w>    </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=mi>3</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=o>++</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-29-41><a id=__codelineno-29-41 name=__codelineno-29-41 href=#__codelineno-29-41></a><span class=w>        </span><span class=k>const</span><span class=w> </span><span class=kt>char</span><span class=w> </span><span class=o>*</span><span class=n>pronoun</span><span class=p>;</span>
</span><span id=__span-29-42><a id=__codelineno-29-42 name=__codelineno-29-42 href=#__codelineno-29-42></a><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>strcmp</span><span class=p>(</span><span class=n>students</span><span class=p>[</span><span class=n>i</span><span class=p>].</span><span class=n>gender</span><span class=p>,</span><span class=w> </span><span class=s>&quot;male&quot;</span><span class=p>)</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=mi>0</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-29-43><a id=__codelineno-29-43 name=__codelineno-29-43 href=#__codelineno-29-43></a><span class=w>            </span><span class=n>pronoun</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&quot;his&quot;</span><span class=p>;</span>
</span><span id=__span-29-44><a id=__codelineno-29-44 name=__codelineno-29-44 href=#__codelineno-29-44></a><span class=w>        </span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-29-45><a id=__codelineno-29-45 name=__codelineno-29-45 href=#__codelineno-29-45></a><span class=w>            </span><span class=n>pronoun</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&quot;her&quot;</span><span class=p>;</span>
</span><span id=__span-29-46><a id=__codelineno-29-46 name=__codelineno-29-46 href=#__codelineno-29-46></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-29-47><a id=__codelineno-29-47 name=__codelineno-29-47 href=#__codelineno-29-47></a><span class=w>        </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%s, a %d-year-old student, %s ID is %ld.</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=n>students</span><span class=p>[</span><span class=n>i</span><span class=p>].</span><span class=n>name</span><span class=p>,</span><span class=w> </span><span class=n>students</span><span class=p>[</span><span class=n>i</span><span class=p>].</span><span class=n>age</span><span class=p>,</span><span class=w> </span><span class=n>pronoun</span><span class=p>,</span><span class=w> </span><span class=n>students</span><span class=p>[</span><span class=n>i</span><span class=p>].</span><span class=n>id</span><span class=p>);</span>
</span><span id=__span-29-48><a id=__codelineno-29-48 name=__codelineno-29-48 href=#__codelineno-29-48></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-29-49><a id=__codelineno-29-49 name=__codelineno-29-49 href=#__codelineno-29-49></a>
</span><span id=__span-29-50><a id=__codelineno-29-50 name=__codelineno-29-50 href=#__codelineno-29-50></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-29-51><a id=__codelineno-29-51 name=__codelineno-29-51 href=#__codelineno-29-51></a><span class=p>}</span>
</span></code></pre></div> <h4 id=_13>语法<a class=headerlink href=#_13 title="Permanent link">&para;</a></h4> <ul> <li>一般情况将结构放在函数外面（全局变量的位置）</li> <li> <p>别的写法：</p> <p><a class=glightbox href=../res/images/image-10_1.png data-type=image data-width=auto data-height=auto data-desc-position=bottom><img alt="alt text" src=../res/images/image-10_1.png></a></p> </li> </ul> <p><strong>1. 初始化</strong>：</p> <ul> <li>对于结构体数组，不可<code>students[0] = {"Alice", 20, 12345, female, 1.65, 'A'};</code>类似这样初始化，只能像上面范例程序一样一个一个初始化。如果想这样，只能在定义时就这样初始化，而非定义后再赋值，像这样: <div class="language-c highlight"><pre><span></span><code><span id=__span-30-1><a id=__codelineno-30-1 name=__codelineno-30-1 href=#__codelineno-30-1></a><span class=k>struct</span><span class=w> </span><span class=nc>Student</span><span class=w> </span><span class=n>students</span><span class=p>[</span><span class=mi>10</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-30-2><a id=__codelineno-30-2 name=__codelineno-30-2 href=#__codelineno-30-2></a><span class=w>    </span><span class=p>{</span><span class=s>&quot;Alice&quot;</span><span class=p>,</span><span class=w> </span><span class=mi>20</span><span class=p>,</span><span class=w> </span><span class=mi>12345</span><span class=p>,</span><span class=w> </span><span class=n>female</span><span class=p>,</span><span class=w> </span><span class=mf>1.65</span><span class=p>,</span><span class=w> </span><span class=sc>&#39;A&#39;</span><span class=p>},</span><span class=w> </span><span class=c1>// 初始化第一个元素</span>
</span><span id=__span-30-3><a id=__codelineno-30-3 name=__codelineno-30-3 href=#__codelineno-30-3></a><span class=w>    </span><span class=c1>// 其他元素将自动初始化为0（对于数值类型）或空字符串（对于字符数组），但是请注意，上面的语法是在数组声明时对整个数组（或部分数组）进行初始化，而不是在数组已经声明之后对单个元素进行初始化。</span>
</span><span id=__span-30-4><a id=__codelineno-30-4 name=__codelineno-30-4 href=#__codelineno-30-4></a><span class=p>};</span>
</span></code></pre></div></li> </ul> <p>示例：</p> <div class="language-c highlight"><pre><span></span><code><span id=__span-31-1><a id=__codelineno-31-1 name=__codelineno-31-1 href=#__codelineno-31-1></a><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;stdio.h&gt;</span>
</span><span id=__span-31-2><a id=__codelineno-31-2 name=__codelineno-31-2 href=#__codelineno-31-2></a><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;string.h&gt;</span>
</span><span id=__span-31-3><a id=__codelineno-31-3 name=__codelineno-31-3 href=#__codelineno-31-3></a>
</span><span id=__span-31-4><a id=__codelineno-31-4 name=__codelineno-31-4 href=#__codelineno-31-4></a><span class=c1>// 定义结构体</span>
</span><span id=__span-31-5><a id=__codelineno-31-5 name=__codelineno-31-5 href=#__codelineno-31-5></a><span class=k>struct</span><span class=w> </span><span class=nc>Person</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-31-6><a id=__codelineno-31-6 name=__codelineno-31-6 href=#__codelineno-31-6></a><span class=w>    </span><span class=kt>char</span><span class=w> </span><span class=n>name</span><span class=p>[</span><span class=mi>50</span><span class=p>];</span>
</span><span id=__span-31-7><a id=__codelineno-31-7 name=__codelineno-31-7 href=#__codelineno-31-7></a><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>age</span><span class=p>;</span>
</span><span id=__span-31-8><a id=__codelineno-31-8 name=__codelineno-31-8 href=#__codelineno-31-8></a><span class=w>    </span><span class=kt>float</span><span class=w> </span><span class=n>height</span><span class=p>;</span>
</span><span id=__span-31-9><a id=__codelineno-31-9 name=__codelineno-31-9 href=#__codelineno-31-9></a><span class=p>};</span>
</span><span id=__span-31-10><a id=__codelineno-31-10 name=__codelineno-31-10 href=#__codelineno-31-10></a>
</span><span id=__span-31-11><a id=__codelineno-31-11 name=__codelineno-31-11 href=#__codelineno-31-11></a><span class=c1>// 通过函数初始化结构体</span>
</span><span id=__span-31-12><a id=__codelineno-31-12 name=__codelineno-31-12 href=#__codelineno-31-12></a><span class=kt>void</span><span class=w> </span><span class=nf>initializePerson</span><span class=p>(</span><span class=k>struct</span><span class=w> </span><span class=nc>Person</span><span class=o>*</span><span class=w> </span><span class=n>p</span><span class=p>,</span><span class=w> </span><span class=k>const</span><span class=w> </span><span class=kt>char</span><span class=o>*</span><span class=w> </span><span class=n>name</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>age</span><span class=p>,</span><span class=w> </span><span class=kt>float</span><span class=w> </span><span class=n>height</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-31-13><a id=__codelineno-31-13 name=__codelineno-31-13 href=#__codelineno-31-13></a><span class=w>    </span><span class=n>strcpy</span><span class=p>(</span><span class=n>p</span><span class=o>-&gt;</span><span class=n>name</span><span class=p>,</span><span class=w> </span><span class=n>name</span><span class=p>);</span>
</span><span id=__span-31-14><a id=__codelineno-31-14 name=__codelineno-31-14 href=#__codelineno-31-14></a><span class=w>    </span><span class=n>p</span><span class=o>-&gt;</span><span class=n>age</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>age</span><span class=p>;</span>
</span><span id=__span-31-15><a id=__codelineno-31-15 name=__codelineno-31-15 href=#__codelineno-31-15></a><span class=w>    </span><span class=n>p</span><span class=o>-&gt;</span><span class=n>height</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>height</span><span class=p>;</span>
</span><span id=__span-31-16><a id=__codelineno-31-16 name=__codelineno-31-16 href=#__codelineno-31-16></a><span class=p>}</span>
</span><span id=__span-31-17><a id=__codelineno-31-17 name=__codelineno-31-17 href=#__codelineno-31-17></a>
</span><span id=__span-31-18><a id=__codelineno-31-18 name=__codelineno-31-18 href=#__codelineno-31-18></a><span class=kt>int</span><span class=w> </span><span class=nf>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-31-19><a id=__codelineno-31-19 name=__codelineno-31-19 href=#__codelineno-31-19></a><span class=w>    </span><span class=c1>// 直接赋值初始化</span>
</span><span id=__span-31-20><a id=__codelineno-31-20 name=__codelineno-31-20 href=#__codelineno-31-20></a><span class=w>    </span><span class=k>struct</span><span class=w> </span><span class=nc>Person</span><span class=w> </span><span class=n>person1</span><span class=p>;</span>
</span><span id=__span-31-21><a id=__codelineno-31-21 name=__codelineno-31-21 href=#__codelineno-31-21></a><span class=w>    </span><span class=n>person1</span><span class=p>.</span><span class=n>age</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>25</span><span class=p>;</span>
</span><span id=__span-31-22><a id=__codelineno-31-22 name=__codelineno-31-22 href=#__codelineno-31-22></a><span class=w>    </span><span class=n>strcpy</span><span class=p>(</span><span class=n>person1</span><span class=p>.</span><span class=n>name</span><span class=p>,</span><span class=w> </span><span class=s>&quot;Alice&quot;</span><span class=p>);</span>
</span><span id=__span-31-23><a id=__codelineno-31-23 name=__codelineno-31-23 href=#__codelineno-31-23></a><span class=w>    </span><span class=n>person1</span><span class=p>.</span><span class=n>height</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mf>5.7</span><span class=p>;</span>
</span><span id=__span-31-24><a id=__codelineno-31-24 name=__codelineno-31-24 href=#__codelineno-31-24></a>
</span><span id=__span-31-25><a id=__codelineno-31-25 name=__codelineno-31-25 href=#__codelineno-31-25></a><span class=w>    </span><span class=c1>// 使用初始化列表初始化（C99标准及以上支持）</span>
</span><span id=__span-31-26><a id=__codelineno-31-26 name=__codelineno-31-26 href=#__codelineno-31-26></a><span class=w>    </span><span class=k>struct</span><span class=w> </span><span class=nc>Person</span><span class=w> </span><span class=n>person2</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>{</span><span class=s>&quot;Bob&quot;</span><span class=p>,</span><span class=w> </span><span class=mi>30</span><span class=p>,</span><span class=w> </span><span class=mf>6.0</span><span class=p>};</span>
</span><span id=__span-31-27><a id=__codelineno-31-27 name=__codelineno-31-27 href=#__codelineno-31-27></a>
</span><span id=__span-31-28><a id=__codelineno-31-28 name=__codelineno-31-28 href=#__codelineno-31-28></a><span class=w>    </span><span class=c1>// 使用初始化列表初始化，并使用类似“关键词传参”的方式</span>
</span><span id=__span-31-29><a id=__codelineno-31-29 name=__codelineno-31-29 href=#__codelineno-31-29></a><span class=w>    </span><span class=k>struct</span><span class=w> </span><span class=nc>Person</span><span class=w> </span><span class=n>person3</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>{</span><span class=s>&quot;zrz&quot;</span><span class=p>,</span><span class=w> </span><span class=p>.</span><span class=n>age</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>18</span><span class=p>,</span><span class=w> </span><span class=p>.</span><span class=n>height</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mf>8.0</span><span class=p>}</span>
</span><span id=__span-31-30><a id=__codelineno-31-30 name=__codelineno-31-30 href=#__codelineno-31-30></a>
</span><span id=__span-31-31><a id=__codelineno-31-31 name=__codelineno-31-31 href=#__codelineno-31-31></a><span class=w>    </span><span class=c1>// 列表初始化，若不给某int变量传值，默认0</span>
</span><span id=__span-31-32><a id=__codelineno-31-32 name=__codelineno-31-32 href=#__codelineno-31-32></a>
</span><span id=__span-31-33><a id=__codelineno-31-33 name=__codelineno-31-33 href=#__codelineno-31-33></a><span class=w>    </span><span class=c1>// 通过函数初始化</span>
</span><span id=__span-31-34><a id=__codelineno-31-34 name=__codelineno-31-34 href=#__codelineno-31-34></a><span class=w>    </span><span class=k>struct</span><span class=w> </span><span class=nc>Person</span><span class=w> </span><span class=n>person4</span><span class=p>;</span>
</span><span id=__span-31-35><a id=__codelineno-31-35 name=__codelineno-31-35 href=#__codelineno-31-35></a><span class=w>    </span><span class=n>initializePerson</span><span class=p>(</span><span class=o>&amp;</span><span class=n>person4</span><span class=p>,</span><span class=w> </span><span class=s>&quot;Charlie&quot;</span><span class=p>,</span><span class=w> </span><span class=mi>22</span><span class=p>,</span><span class=w> </span><span class=mf>5.9</span><span class=p>);</span>
</span><span id=__span-31-36><a id=__codelineno-31-36 name=__codelineno-31-36 href=#__codelineno-31-36></a>
</span><span id=__span-31-37><a id=__codelineno-31-37 name=__codelineno-31-37 href=#__codelineno-31-37></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-31-38><a id=__codelineno-31-38 name=__codelineno-31-38 href=#__codelineno-31-38></a><span class=p>}</span>
</span></code></pre></div> <p><strong>2. 访问结构成员</strong></p> <p>语法：<code>结构变量.结构成员</code></p> <div class="admonition warning"> <p class=admonition-title>概念</p> <p>结构类型：虚的，一开始定义的那个是结构类型，例如上面的Person 结构变量：基于结构类型定义了许多结构变量，例如上面的person1, person2 ……</p> </div> <p><strong>3. 结构运算</strong></p> <p>重点注意其与数组的区别</p> <ul> <li>可以用结构变量的名字访问整个结构</li> <li> <p>对于整个结构，可以整体赋值， <div class="language-c highlight"><pre><span></span><code><span id=__span-32-1><a id=__codelineno-32-1 name=__codelineno-32-1 href=#__codelineno-32-1></a><span class=n>person1</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>(</span><span class=k>struct</span><span class=w> </span><span class=nc>Person</span><span class=p>){</span><span class=s>&quot;Bob&quot;</span><span class=p>,</span><span class=w> </span><span class=mi>30</span><span class=p>,</span><span class=w> </span><span class=mf>6.0</span><span class=p>};</span>
</span><span id=__span-32-2><a id=__codelineno-32-2 name=__codelineno-32-2 href=#__codelineno-32-2></a><span class=c1>//做一个类型转换，相当于上面初始化的操作</span>
</span></code></pre></div> <div class="language-c highlight"><pre><span></span><code><span id=__span-33-1><a id=__codelineno-33-1 name=__codelineno-33-1 href=#__codelineno-33-1></a><span class=n>person2</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>person1</span>
</span><span id=__span-33-2><a id=__codelineno-33-2 name=__codelineno-33-2 href=#__codelineno-33-2></a><span class=c1>//这是合法的，相当于每个元素都相等，注意这俩结构变量还是不一样的，只不过其中的成员的值是一样的</span>
</span></code></pre></div></p> </li> <li> <p>整个结构，可以取地址</p> <p>注意，结构变量名不是他的地址，取地址必须得用<code>&amp;</code></p> <div class="language-c highlight"><pre><span></span><code><span id=__span-34-1><a id=__codelineno-34-1 name=__codelineno-34-1 href=#__codelineno-34-1></a><span class=k>struct</span><span class=w> </span><span class=nc>Person</span><span class=w> </span><span class=o>*</span><span class=n>p_person1</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=o>&amp;</span><span class=n>person1</span><span class=p>;</span>
</span></code></pre></div> </li> <li> <p>整个结构，可以作为参数传递给函数</p> </li> </ul> <h4 id=_14>结构与函数<a class=headerlink href=#_14 title="Permanent link">&para;</a></h4> <p>整个结构可以作为参数传入函数，这时是在函数内新建一个结构变量，并赋值传入的那个结构的值</p> <p>结构可以作为函数的返回值</p> <p><strong>输入结构：</strong></p> <p>结构与数组的区别：</p> <ul> <li> <p>在传入函数时，结构与普通的int变量类似，要在函数内部更改它，得传地址。因为传入函数，函数接收到的实际是结构的值，不是这个变量，与原结构无关。</p> </li> <li> <p>数组在传入函数时，传入的是这个数组变量。</p> </li> </ul> <p>解决方案1：在函数内部copy一个一样的临时的结构变量，讲这个结构返回</p> <p><div class="language-c highlight"><pre><span></span><code><span id=__span-35-1><a id=__codelineno-35-1 name=__codelineno-35-1 href=#__codelineno-35-1></a><span class=k>struct</span><span class=w> </span><span class=nc>point</span><span class=w> </span><span class=n>inputStruct</span><span class=p>(</span><span class=kt>void</span><span class=p>)</span>
</span><span id=__span-35-2><a id=__codelineno-35-2 name=__codelineno-35-2 href=#__codelineno-35-2></a><span class=p>{</span>
</span><span id=__span-35-3><a id=__codelineno-35-3 name=__codelineno-35-3 href=#__codelineno-35-3></a><span class=w>    </span><span class=k>struct</span><span class=w> </span><span class=nc>point</span><span class=w> </span><span class=n>p</span><span class=p>{</span><span class=cm>/*代码块，要求与main函数里面的一样*/</span><span class=p>};</span>
</span><span id=__span-35-4><a id=__codelineno-35-4 name=__codelineno-35-4 href=#__codelineno-35-4></a><span class=w>    </span><span class=cm>/*代码块*/</span>
</span><span id=__span-35-5><a id=__codelineno-35-5 name=__codelineno-35-5 href=#__codelineno-35-5></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=n>p</span><span class=p>;</span>
</span><span id=__span-35-6><a id=__codelineno-35-6 name=__codelineno-35-6 href=#__codelineno-35-6></a><span class=p>}</span>
</span><span id=__span-35-7><a id=__codelineno-35-7 name=__codelineno-35-7 href=#__codelineno-35-7></a>
</span><span id=__span-35-8><a id=__codelineno-35-8 name=__codelineno-35-8 href=#__codelineno-35-8></a><span class=kt>int</span><span class=w> </span><span class=n>main</span><span class=p>()</span>
</span><span id=__span-35-9><a id=__codelineno-35-9 name=__codelineno-35-9 href=#__codelineno-35-9></a><span class=p>{</span>
</span><span id=__span-35-10><a id=__codelineno-35-10 name=__codelineno-35-10 href=#__codelineno-35-10></a><span class=w>    </span><span class=k>struct</span><span class=w> </span><span class=nc>point</span><span class=w> </span><span class=n>dest</span><span class=p>{</span><span class=cm>/*代码块*/</span><span class=p>};</span>
</span><span id=__span-35-11><a id=__codelineno-35-11 name=__codelineno-35-11 href=#__codelineno-35-11></a><span class=w>    </span><span class=n>dest</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>inputStruct</span><span class=p>();</span>
</span><span id=__span-35-12><a id=__codelineno-35-12 name=__codelineno-35-12 href=#__codelineno-35-12></a><span class=w>    </span><span class=n>printf</span><span class=p>(</span><span class=cm>/*语句*/</span><span class=p>)</span>
</span><span id=__span-35-13><a id=__codelineno-35-13 name=__codelineno-35-13 href=#__codelineno-35-13></a><span class=p>}</span>
</span></code></pre></div> 该方法不好</p> <p>解决方案2：</p> <div class="admonition quote"> <p class=admonition-title>K&amp;R</p> <p>“lf a large structure is to be passed to a function, it is generally more efficient to pass a pointer than to copy the whole structure”</p> </div> <p><strong>指向结构的指针</strong></p> <div class="admonition success"> <p class=admonition-title>指针与函数</p> <p>常用：一个函数的参数是指针，返回值也是指针；目的是将这个值的指针输入，在函数内部更改完之后再返回出去，好处是返回的指针可以再用于其他代码，例如作为其他函数的参数，反复调用。</p> </div> <p>语法：<code>pointer -&gt; member</code>，代表 “这个指针所指的那个结构变量里的那个成员”。</p> <p>示例： <div class="language-c highlight"><pre><span></span><code><span id=__span-36-1><a id=__codelineno-36-1 name=__codelineno-36-1 href=#__codelineno-36-1></a><span class=cm>/*定义一个结构变量today，里面有一个成员是month*/</span>
</span><span id=__span-36-2><a id=__codelineno-36-2 name=__codelineno-36-2 href=#__codelineno-36-2></a><span class=k>struct</span><span class=w> </span><span class=nc>date</span><span class=w> </span><span class=n>today</span><span class=p>;</span>
</span><span id=__span-36-3><a id=__codelineno-36-3 name=__codelineno-36-3 href=#__codelineno-36-3></a><span class=k>struct</span><span class=w> </span><span class=nc>date</span><span class=o>*</span><span class=w> </span><span class=n>ptoday</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=o>&amp;</span><span class=n>today</span><span class=p>;</span>
</span><span id=__span-36-4><a id=__codelineno-36-4 name=__codelineno-36-4 href=#__codelineno-36-4></a><span class=p>(</span><span class=o>*</span><span class=n>p</span><span class=p>).</span><span class=n>month</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>12</span><span class=p>;</span>
</span><span id=__span-36-5><a id=__codelineno-36-5 name=__codelineno-36-5 href=#__codelineno-36-5></a><span class=n>p</span><span class=w> </span><span class=o>-&gt;</span><span class=w> </span><span class=n>month</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>12</span><span class=p>;</span>
</span></code></pre></div></p> <p><strong>使用示例：</strong></p> <div class="language-c highlight"><pre><span></span><code><span id=__span-37-1><a id=__codelineno-37-1 name=__codelineno-37-1 href=#__codelineno-37-1></a><span class=cp>#include</span><span class=cpf>&lt;stdio.h&gt;</span>
</span><span id=__span-37-2><a id=__codelineno-37-2 name=__codelineno-37-2 href=#__codelineno-37-2></a><span class=k>struct</span><span class=w> </span><span class=nc>date</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-37-3><a id=__codelineno-37-3 name=__codelineno-37-3 href=#__codelineno-37-3></a><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>month</span><span class=p>;</span>
</span><span id=__span-37-4><a id=__codelineno-37-4 name=__codelineno-37-4 href=#__codelineno-37-4></a><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>day</span><span class=p>;</span>
</span><span id=__span-37-5><a id=__codelineno-37-5 name=__codelineno-37-5 href=#__codelineno-37-5></a><span class=p>};</span>
</span><span id=__span-37-6><a id=__codelineno-37-6 name=__codelineno-37-6 href=#__codelineno-37-6></a>
</span><span id=__span-37-7><a id=__codelineno-37-7 name=__codelineno-37-7 href=#__codelineno-37-7></a><span class=k>struct</span><span class=w> </span><span class=nc>date</span><span class=o>*</span><span class=w> </span><span class=n>getStruct</span><span class=p>(</span><span class=k>struct</span><span class=w> </span><span class=nc>date</span><span class=w> </span><span class=o>*</span><span class=n>p</span><span class=p>);</span>
</span><span id=__span-37-8><a id=__codelineno-37-8 name=__codelineno-37-8 href=#__codelineno-37-8></a><span class=kt>void</span><span class=w> </span><span class=nf>printSturct</span><span class=p>(</span><span class=k>const</span><span class=w> </span><span class=k>struct</span><span class=w> </span><span class=nc>date</span><span class=o>*</span><span class=w> </span><span class=n>p</span><span class=p>);</span>
</span><span id=__span-37-9><a id=__codelineno-37-9 name=__codelineno-37-9 href=#__codelineno-37-9></a>
</span><span id=__span-37-10><a id=__codelineno-37-10 name=__codelineno-37-10 href=#__codelineno-37-10></a><span class=kt>int</span><span class=w> </span><span class=nf>main</span><span class=p>()</span>
</span><span id=__span-37-11><a id=__codelineno-37-11 name=__codelineno-37-11 href=#__codelineno-37-11></a><span class=p>{</span>
</span><span id=__span-37-12><a id=__codelineno-37-12 name=__codelineno-37-12 href=#__codelineno-37-12></a><span class=w>    </span><span class=k>struct</span><span class=w> </span><span class=nc>date</span><span class=w> </span><span class=n>today</span><span class=p>;</span>
</span><span id=__span-37-13><a id=__codelineno-37-13 name=__codelineno-37-13 href=#__codelineno-37-13></a><span class=w>    </span><span class=n>printSturct</span><span class=p>(</span><span class=n>getStruct</span><span class=p>(</span><span class=o>&amp;</span><span class=n>today</span><span class=p>));</span>
</span><span id=__span-37-14><a id=__codelineno-37-14 name=__codelineno-37-14 href=#__codelineno-37-14></a>
</span><span id=__span-37-15><a id=__codelineno-37-15 name=__codelineno-37-15 href=#__codelineno-37-15></a><span class=w>    </span><span class=o>*</span><span class=n>getStruct</span><span class=p>(</span><span class=o>&amp;</span><span class=n>today</span><span class=p>)</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>(</span><span class=k>struct</span><span class=w> </span><span class=nc>date</span><span class=p>){</span><span class=mi>12</span><span class=p>,</span><span class=w> </span><span class=mi>18</span><span class=p>};</span>
</span><span id=__span-37-16><a id=__codelineno-37-16 name=__codelineno-37-16 href=#__codelineno-37-16></a><span class=w>    </span><span class=n>printSturct</span><span class=p>(</span><span class=o>&amp;</span><span class=n>today</span><span class=p>);</span>
</span><span id=__span-37-17><a id=__codelineno-37-17 name=__codelineno-37-17 href=#__codelineno-37-17></a>
</span><span id=__span-37-18><a id=__codelineno-37-18 name=__codelineno-37-18 href=#__codelineno-37-18></a><span class=w>    </span><span class=n>getStruct</span><span class=p>(</span><span class=o>&amp;</span><span class=n>today</span><span class=p>)</span><span class=w> </span><span class=o>-&gt;</span><span class=w> </span><span class=n>day</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>19</span><span class=p>;</span>
</span><span id=__span-37-19><a id=__codelineno-37-19 name=__codelineno-37-19 href=#__codelineno-37-19></a><span class=w>    </span><span class=n>printSturct</span><span class=p>(</span><span class=o>&amp;</span><span class=n>today</span><span class=p>);</span>
</span><span id=__span-37-20><a id=__codelineno-37-20 name=__codelineno-37-20 href=#__codelineno-37-20></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-37-21><a id=__codelineno-37-21 name=__codelineno-37-21 href=#__codelineno-37-21></a><span class=p>}</span>
</span><span id=__span-37-22><a id=__codelineno-37-22 name=__codelineno-37-22 href=#__codelineno-37-22></a>
</span><span id=__span-37-23><a id=__codelineno-37-23 name=__codelineno-37-23 href=#__codelineno-37-23></a><span class=k>struct</span><span class=w> </span><span class=nc>date</span><span class=o>*</span><span class=w> </span><span class=n>getStruct</span><span class=p>(</span><span class=k>struct</span><span class=w> </span><span class=nc>date</span><span class=w> </span><span class=o>*</span><span class=n>p</span><span class=p>)</span>
</span><span id=__span-37-24><a id=__codelineno-37-24 name=__codelineno-37-24 href=#__codelineno-37-24></a><span class=p>{</span>
</span><span id=__span-37-25><a id=__codelineno-37-25 name=__codelineno-37-25 href=#__codelineno-37-25></a><span class=w>    </span><span class=n>scanf</span><span class=p>(</span><span class=s>&quot;%d %d&quot;</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=p>(</span><span class=n>p</span><span class=w> </span><span class=o>-&gt;</span><span class=w> </span><span class=n>month</span><span class=p>),</span><span class=w> </span><span class=o>&amp;</span><span class=p>(</span><span class=n>p</span><span class=w> </span><span class=o>-&gt;</span><span class=w> </span><span class=n>day</span><span class=p>));</span>
</span><span id=__span-37-26><a id=__codelineno-37-26 name=__codelineno-37-26 href=#__codelineno-37-26></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=n>p</span><span class=p>;</span>
</span><span id=__span-37-27><a id=__codelineno-37-27 name=__codelineno-37-27 href=#__codelineno-37-27></a><span class=p>}</span>
</span><span id=__span-37-28><a id=__codelineno-37-28 name=__codelineno-37-28 href=#__codelineno-37-28></a>
</span><span id=__span-37-29><a id=__codelineno-37-29 name=__codelineno-37-29 href=#__codelineno-37-29></a><span class=kt>void</span><span class=w> </span><span class=n>printSturct</span><span class=p>(</span><span class=k>const</span><span class=w> </span><span class=k>struct</span><span class=w> </span><span class=nc>date</span><span class=o>*</span><span class=w> </span><span class=n>p</span><span class=p>)</span>
</span><span id=__span-37-30><a id=__codelineno-37-30 name=__codelineno-37-30 href=#__codelineno-37-30></a><span class=p>{</span>
</span><span id=__span-37-31><a id=__codelineno-37-31 name=__codelineno-37-31 href=#__codelineno-37-31></a><span class=w>    </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%d-%d</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=n>p</span><span class=w> </span><span class=o>-&gt;</span><span class=w> </span><span class=n>month</span><span class=p>,</span><span class=w> </span><span class=n>p</span><span class=w> </span><span class=o>-&gt;</span><span class=w> </span><span class=n>day</span><span class=p>);</span>
</span><span id=__span-37-32><a id=__codelineno-37-32 name=__codelineno-37-32 href=#__codelineno-37-32></a><span class=p>}</span>
</span></code></pre></div> <h4 id=_15>结构数组<a class=headerlink href=#_15 title="Permanent link">&para;</a></h4> <p><em>结构数组的本质是</em><em>数组</em><em>，只不过该数组的元素是结构体类型的数据</em></p> <p><strong>语法</strong></p> <div class="language-c highlight"><pre><span></span><code><span id=__span-38-1><a id=__codelineno-38-1 name=__codelineno-38-1 href=#__codelineno-38-1></a><span class=k>struct</span><span class=w> </span><span class=nc>class</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-38-2><a id=__codelineno-38-2 name=__codelineno-38-2 href=#__codelineno-38-2></a><span class=w>    </span><span class=kt>char</span><span class=o>*</span><span class=w> </span><span class=n>name</span><span class=p>;</span>
</span><span id=__span-38-3><a id=__codelineno-38-3 name=__codelineno-38-3 href=#__codelineno-38-3></a><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>age</span><span class=p>;</span>
</span><span id=__span-38-4><a id=__codelineno-38-4 name=__codelineno-38-4 href=#__codelineno-38-4></a><span class=w>    </span><span class=kt>long</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>id</span><span class=p>;</span>
</span><span id=__span-38-5><a id=__codelineno-38-5 name=__codelineno-38-5 href=#__codelineno-38-5></a><span class=p>};</span>
</span><span id=__span-38-6><a id=__codelineno-38-6 name=__codelineno-38-6 href=#__codelineno-38-6></a>
</span><span id=__span-38-7><a id=__codelineno-38-7 name=__codelineno-38-7 href=#__codelineno-38-7></a><span class=kt>int</span><span class=w> </span><span class=nf>main</span><span class=p>()</span>
</span><span id=__span-38-8><a id=__codelineno-38-8 name=__codelineno-38-8 href=#__codelineno-38-8></a><span class=p>{</span>
</span><span id=__span-38-9><a id=__codelineno-38-9 name=__codelineno-38-9 href=#__codelineno-38-9></a><span class=w>    </span><span class=k>struct</span><span class=w> </span><span class=nc>class</span><span class=w> </span><span class=n>student</span><span class=p>[</span><span class=mi>26</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>{{</span><span class=s>&quot;zrz&quot;</span><span class=p>,</span><span class=w> </span><span class=mi>18</span><span class=p>,</span><span class=w> </span><span class=mi>3240105996</span><span class=p>},</span><span class=w> </span><span class=p>{</span><span class=s>&quot;hhh&quot;</span><span class=p>,</span><span class=w> </span><span class=mi>18</span><span class=p>,</span><span class=w> </span><span class=mi>3240100000</span><span class=p>}};</span>
</span><span id=__span-38-10><a id=__codelineno-38-10 name=__codelineno-38-10 href=#__codelineno-38-10></a><span class=p>}</span>
</span></code></pre></div> <h4 id=_16>结构中的结构<a class=headerlink href=#_16 title="Permanent link">&para;</a></h4> <p><strong>语法：</strong>还是按照普通变量来理解</p> <p><strong>示例：</strong> <div class="language-c highlight"><pre><span></span><code><span id=__span-39-1><a id=__codelineno-39-1 name=__codelineno-39-1 href=#__codelineno-39-1></a><span class=k>struct</span><span class=w> </span><span class=nc>point</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-39-2><a id=__codelineno-39-2 name=__codelineno-39-2 href=#__codelineno-39-2></a><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>x</span><span class=p>;</span>
</span><span id=__span-39-3><a id=__codelineno-39-3 name=__codelineno-39-3 href=#__codelineno-39-3></a><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>y</span><span class=p>;</span>
</span><span id=__span-39-4><a id=__codelineno-39-4 name=__codelineno-39-4 href=#__codelineno-39-4></a><span class=p>};</span>
</span><span id=__span-39-5><a id=__codelineno-39-5 name=__codelineno-39-5 href=#__codelineno-39-5></a>
</span><span id=__span-39-6><a id=__codelineno-39-6 name=__codelineno-39-6 href=#__codelineno-39-6></a><span class=k>struct</span><span class=w> </span><span class=nc>rectangle</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-39-7><a id=__codelineno-39-7 name=__codelineno-39-7 href=#__codelineno-39-7></a><span class=w>    </span><span class=k>struct</span><span class=w> </span><span class=nc>point</span><span class=w> </span><span class=n>pt1</span><span class=p>;</span>
</span><span id=__span-39-8><a id=__codelineno-39-8 name=__codelineno-39-8 href=#__codelineno-39-8></a><span class=w>    </span><span class=k>struct</span><span class=w> </span><span class=nc>point</span><span class=w> </span><span class=n>pt2</span><span class=p>;</span>
</span><span id=__span-39-9><a id=__codelineno-39-9 name=__codelineno-39-9 href=#__codelineno-39-9></a><span class=p>};</span>
</span><span id=__span-39-10><a id=__codelineno-39-10 name=__codelineno-39-10 href=#__codelineno-39-10></a>
</span><span id=__span-39-11><a id=__codelineno-39-11 name=__codelineno-39-11 href=#__codelineno-39-11></a><span class=kt>int</span><span class=w> </span><span class=nf>main</span><span class=p>()</span>
</span><span id=__span-39-12><a id=__codelineno-39-12 name=__codelineno-39-12 href=#__codelineno-39-12></a><span class=p>{</span>
</span><span id=__span-39-13><a id=__codelineno-39-13 name=__codelineno-39-13 href=#__codelineno-39-13></a><span class=w>    </span><span class=k>struct</span><span class=w> </span><span class=nc>rectangle</span><span class=w> </span><span class=n>rt1</span><span class=p>;</span>
</span><span id=__span-39-14><a id=__codelineno-39-14 name=__codelineno-39-14 href=#__codelineno-39-14></a><span class=w>    </span><span class=k>struct</span><span class=w> </span><span class=nc>rectangle</span><span class=w> </span><span class=o>*</span><span class=n>prt1</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=o>&amp;</span><span class=n>rt1</span><span class=p>;</span>
</span><span id=__span-39-15><a id=__codelineno-39-15 name=__codelineno-39-15 href=#__codelineno-39-15></a><span class=w>    </span><span class=n>scanf</span><span class=p>(</span><span class=s>&quot;%d %d&quot;</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=p>(</span><span class=n>rt1</span><span class=p>.</span><span class=n>pt1</span><span class=p>.</span><span class=n>x</span><span class=p>),</span><span class=w> </span><span class=o>&amp;</span><span class=p>(</span><span class=n>rt1</span><span class=p>.</span><span class=n>pt1</span><span class=p>.</span><span class=n>y</span><span class=p>));</span>
</span><span id=__span-39-16><a id=__codelineno-39-16 name=__codelineno-39-16 href=#__codelineno-39-16></a><span class=w>    </span><span class=n>scanf</span><span class=p>(</span><span class=s>&quot;%d %d&quot;</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=p>(</span><span class=n>prt1</span><span class=w> </span><span class=o>-&gt;</span><span class=w> </span><span class=n>pt2</span><span class=p>.</span><span class=n>x</span><span class=p>),</span><span class=w> </span><span class=o>&amp;</span><span class=p>(</span><span class=n>prt1</span><span class=w> </span><span class=o>-&gt;</span><span class=w> </span><span class=n>pt2</span><span class=p>.</span><span class=n>y</span><span class=p>));</span>
</span><span id=__span-39-17><a id=__codelineno-39-17 name=__codelineno-39-17 href=#__codelineno-39-17></a><span class=p>}</span>
</span></code></pre></div></p> <p>另外，结构和数组等可以无限组合嵌套，例如结构中的结构的数组</p> <h3 id=_17>联合<a class=headerlink href=#_17 title="Permanent link">&para;</a></h3> <p><strong>定义语法</strong>：与结构很像</p> <p><div class="language-c highlight"><pre><span></span><code><span id=__span-40-1><a id=__codelineno-40-1 name=__codelineno-40-1 href=#__codelineno-40-1></a><span class=k>union</span><span class=w> </span><span class=nc>Person</span><span class=p>{</span>
</span><span id=__span-40-2><a id=__codelineno-40-2 name=__codelineno-40-2 href=#__codelineno-40-2></a><span class=w>    </span><span class=kt>char</span><span class=o>*</span><span class=w> </span><span class=n>name</span><span class=p>;</span>
</span><span id=__span-40-3><a id=__codelineno-40-3 name=__codelineno-40-3 href=#__codelineno-40-3></a><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>age</span><span class=p>;</span>
</span><span id=__span-40-4><a id=__codelineno-40-4 name=__codelineno-40-4 href=#__codelineno-40-4></a><span class=p>};</span>
</span></code></pre></div> <div class="language-c highlight"><pre><span></span><code><span id=__span-41-1><a id=__codelineno-41-1 name=__codelineno-41-1 href=#__codelineno-41-1></a><span class=k>typedef</span><span class=w> </span><span class=k>union</span><span class=w> </span><span class=nc>person</span><span class=p>{</span>
</span><span id=__span-41-2><a id=__codelineno-41-2 name=__codelineno-41-2 href=#__codelineno-41-2></a><span class=w>    </span><span class=kt>char</span><span class=o>*</span><span class=w> </span><span class=n>name</span><span class=p>;</span>
</span><span id=__span-41-3><a id=__codelineno-41-3 name=__codelineno-41-3 href=#__codelineno-41-3></a><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>age</span><span class=p>;</span>
</span><span id=__span-41-4><a id=__codelineno-41-4 name=__codelineno-41-4 href=#__codelineno-41-4></a><span class=p>}</span><span class=n>Person</span><span class=p>;</span>
</span><span id=__span-41-5><a id=__codelineno-41-5 name=__codelineno-41-5 href=#__codelineno-41-5></a><span class=c1>//使用typedef</span>
</span></code></pre></div></p> <p><strong>存储</strong>：</p> <ul> <li> <p>所有成员共享一个内存空间</p> </li> <li> <p>同一时间只有一个成员是有效的</p> <p>即填入另一个成员的值即将前面的冲掉</p> </li> <li> <p>联合的大小<code>sizeof(union)</code>是其最大的成员</p> </li> </ul> <p><strong>初始化</strong>：对第一个成员初始化</p> <p><strong>应用场景</strong></p> <ol> <li> <p><strong>节省内存</strong>： <br> 联合最常见的用途之一是节省内存。例如，在处理需要多种数据类型但只会使用其中一种的场景下，使用联合可以避免每种数据类型都占用单独的内存区域。 <div class="language-c highlight"><pre><span></span><code><span id=__span-42-1><a id=__codelineno-42-1 name=__codelineno-42-1 href=#__codelineno-42-1></a><span class=k>union</span><span class=w> </span><span class=nc>Data</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-42-2><a id=__codelineno-42-2 name=__codelineno-42-2 href=#__codelineno-42-2></a><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>i</span><span class=p>;</span>
</span><span id=__span-42-3><a id=__codelineno-42-3 name=__codelineno-42-3 href=#__codelineno-42-3></a><span class=w>    </span><span class=kt>float</span><span class=w> </span><span class=n>f</span><span class=p>;</span>
</span><span id=__span-42-4><a id=__codelineno-42-4 name=__codelineno-42-4 href=#__codelineno-42-4></a><span class=w>    </span><span class=kt>char</span><span class=w> </span><span class=n>str</span><span class=p>[</span><span class=mi>20</span><span class=p>];</span>
</span><span id=__span-42-5><a id=__codelineno-42-5 name=__codelineno-42-5 href=#__codelineno-42-5></a><span class=p>};</span>
</span></code></pre></div> 在这个例子中，<code>Data</code>联合只需要足够存储最大的成员（<code>char str[20]</code>）的内存，而不需要分别为<code>int</code>、<code>float</code>和<code>char[]</code>分配内存空间。</p> </li> <li> <p><strong>简化存储不同格式的数据</strong>： <br> 联合可以存储不同类型的数据，在需要存储多种不同数据格式但只需存储一个格式的情况下特别有用。例如，读取网络数据时，我们可能会在同一位置存储整数、浮点数或字符串等不同数据类型。 <div class="language-c highlight"><pre><span></span><code><span id=__span-43-1><a id=__codelineno-43-1 name=__codelineno-43-1 href=#__codelineno-43-1></a><span class=k>union</span><span class=w> </span><span class=nc>Packet</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-43-2><a id=__codelineno-43-2 name=__codelineno-43-2 href=#__codelineno-43-2></a><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>data_int</span><span class=p>;</span>
</span><span id=__span-43-3><a id=__codelineno-43-3 name=__codelineno-43-3 href=#__codelineno-43-3></a><span class=w>    </span><span class=kt>float</span><span class=w> </span><span class=n>data_float</span><span class=p>;</span>
</span><span id=__span-43-4><a id=__codelineno-43-4 name=__codelineno-43-4 href=#__codelineno-43-4></a><span class=w>    </span><span class=kt>char</span><span class=w> </span><span class=n>data_string</span><span class=p>[</span><span class=mi>50</span><span class=p>];</span>
</span><span id=__span-43-5><a id=__codelineno-43-5 name=__codelineno-43-5 href=#__codelineno-43-5></a><span class=p>};</span>
</span></code></pre></div></p> </li> <li> <p><strong>实现类型安全的多态（polymorphism）</strong>： <br> 在没有面向对象支持的语言（如C语言）中，可以使用联合类型模拟多态。联合类型允许函数根据需要选择合适的数据类型来操作。 <div class="language-c highlight"><pre><span></span><code><span id=__span-44-1><a id=__codelineno-44-1 name=__codelineno-44-1 href=#__codelineno-44-1></a><span class=k>union</span><span class=w> </span><span class=nc>Value</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-44-2><a id=__codelineno-44-2 name=__codelineno-44-2 href=#__codelineno-44-2></a><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>intVal</span><span class=p>;</span>
</span><span id=__span-44-3><a id=__codelineno-44-3 name=__codelineno-44-3 href=#__codelineno-44-3></a><span class=w>    </span><span class=kt>float</span><span class=w> </span><span class=n>floatVal</span><span class=p>;</span>
</span><span id=__span-44-4><a id=__codelineno-44-4 name=__codelineno-44-4 href=#__codelineno-44-4></a><span class=p>};</span>
</span><span id=__span-44-5><a id=__codelineno-44-5 name=__codelineno-44-5 href=#__codelineno-44-5></a>
</span><span id=__span-44-6><a id=__codelineno-44-6 name=__codelineno-44-6 href=#__codelineno-44-6></a><span class=kt>void</span><span class=w> </span><span class=nf>printValue</span><span class=p>(</span><span class=k>union</span><span class=w> </span><span class=nc>Value</span><span class=w> </span><span class=n>v</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>isInt</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-44-7><a id=__codelineno-44-7 name=__codelineno-44-7 href=#__codelineno-44-7></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>isInt</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-44-8><a id=__codelineno-44-8 name=__codelineno-44-8 href=#__codelineno-44-8></a><span class=w>        </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;Integer: %d</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=n>v</span><span class=p>.</span><span class=n>intVal</span><span class=p>);</span>
</span><span id=__span-44-9><a id=__codelineno-44-9 name=__codelineno-44-9 href=#__codelineno-44-9></a><span class=w>    </span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-44-10><a id=__codelineno-44-10 name=__codelineno-44-10 href=#__codelineno-44-10></a><span class=w>        </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;Float: %.2f</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=n>v</span><span class=p>.</span><span class=n>floatVal</span><span class=p>);</span>
</span><span id=__span-44-11><a id=__codelineno-44-11 name=__codelineno-44-11 href=#__codelineno-44-11></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-44-12><a id=__codelineno-44-12 name=__codelineno-44-12 href=#__codelineno-44-12></a><span class=p>}</span>
</span></code></pre></div> 通过使用<code>isInt</code>标识符，函数<code>printValue</code>可以根据需要处理不同类型的数据。</p> </li> <li> <p><strong>嵌入式系统中的硬件寄存器操作</strong>： 在嵌入式开发中，联合可以方便地访问硬件寄存器的不同部分。例如，一个32位的硬件寄存器可以被分解为多个8位字段。 <div class="language-c highlight"><pre><span></span><code><span id=__span-45-1><a id=__codelineno-45-1 name=__codelineno-45-1 href=#__codelineno-45-1></a><span class=k>union</span><span class=w> </span><span class=nc>Register</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-45-2><a id=__codelineno-45-2 name=__codelineno-45-2 href=#__codelineno-45-2></a><span class=w>    </span><span class=kt>unsigned</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>regVal</span><span class=p>;</span><span class=w>  </span><span class=c1>// 32位的寄存器值</span>
</span><span id=__span-45-3><a id=__codelineno-45-3 name=__codelineno-45-3 href=#__codelineno-45-3></a><span class=w>    </span><span class=k>struct</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-45-4><a id=__codelineno-45-4 name=__codelineno-45-4 href=#__codelineno-45-4></a><span class=w>        </span><span class=kt>unsigned</span><span class=w> </span><span class=kt>char</span><span class=w> </span><span class=n>lowByte</span><span class=p>;</span>
</span><span id=__span-45-5><a id=__codelineno-45-5 name=__codelineno-45-5 href=#__codelineno-45-5></a><span class=w>        </span><span class=kt>unsigned</span><span class=w> </span><span class=kt>char</span><span class=w> </span><span class=n>highByte</span><span class=p>;</span>
</span><span id=__span-45-6><a id=__codelineno-45-6 name=__codelineno-45-6 href=#__codelineno-45-6></a><span class=w>        </span><span class=kt>unsigned</span><span class=w> </span><span class=kt>char</span><span class=w> </span><span class=n>midByte1</span><span class=p>;</span>
</span><span id=__span-45-7><a id=__codelineno-45-7 name=__codelineno-45-7 href=#__codelineno-45-7></a><span class=w>        </span><span class=kt>unsigned</span><span class=w> </span><span class=kt>char</span><span class=w> </span><span class=n>midByte2</span><span class=p>;</span>
</span><span id=__span-45-8><a id=__codelineno-45-8 name=__codelineno-45-8 href=#__codelineno-45-8></a><span class=w>    </span><span class=p>};</span>
</span><span id=__span-45-9><a id=__codelineno-45-9 name=__codelineno-45-9 href=#__codelineno-45-9></a><span class=p>};</span>
</span></code></pre></div> 通过使用联合，程序可以以不同的方式访问寄存器的内容（如整个32位寄存器或分解后的各个字节）。</p> </li> <li> <p><strong>类型转换（Type casting）</strong>： 联合在C语言中也常用于类型转换，尤其是在需要通过不同类型的视图来查看同一块内存数据时。例如，在实现某些特定算法时，可能需要通过联合来在整数和浮点数之间进行转换。 <div class="language-c highlight"><pre><span></span><code><span id=__span-46-1><a id=__codelineno-46-1 name=__codelineno-46-1 href=#__codelineno-46-1></a><span class=k>union</span><span class=w> </span><span class=nc>Convert</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-46-2><a id=__codelineno-46-2 name=__codelineno-46-2 href=#__codelineno-46-2></a><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>i</span><span class=p>;</span>
</span><span id=__span-46-3><a id=__codelineno-46-3 name=__codelineno-46-3 href=#__codelineno-46-3></a><span class=w>    </span><span class=kt>float</span><span class=w> </span><span class=n>f</span><span class=p>;</span>
</span><span id=__span-46-4><a id=__codelineno-46-4 name=__codelineno-46-4 href=#__codelineno-46-4></a><span class=p>};</span>
</span><span id=__span-46-5><a id=__codelineno-46-5 name=__codelineno-46-5 href=#__codelineno-46-5></a>
</span><span id=__span-46-6><a id=__codelineno-46-6 name=__codelineno-46-6 href=#__codelineno-46-6></a><span class=k>union</span><span class=w> </span><span class=nc>Convert</span><span class=w> </span><span class=n>c</span><span class=p>;</span>
</span><span id=__span-46-7><a id=__codelineno-46-7 name=__codelineno-46-7 href=#__codelineno-46-7></a><span class=n>c</span><span class=p>.</span><span class=n>i</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>10</span><span class=p>;</span>
</span><span id=__span-46-8><a id=__codelineno-46-8 name=__codelineno-46-8 href=#__codelineno-46-8></a><span class=n>printf</span><span class=p>(</span><span class=s>&quot;As float: %.2f</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=n>c</span><span class=p>.</span><span class=n>f</span><span class=p>);</span><span class=w>  </span><span class=c1>// 通过联合将整数以浮点数显示</span>
</span></code></pre></div></p> </li> </ol> <p>？？？为啥？到底是几？</p> <ol start=6> <li> <p><strong>实现简易的自定义数据结构</strong>： 联合可以用于实现自定义的数据结构。例如，当数据结构中有多个可能的数据类型时，可以使用联合来减少内存占用。 <div class="language-c highlight"><pre><span></span><code><span id=__span-47-1><a id=__codelineno-47-1 name=__codelineno-47-1 href=#__codelineno-47-1></a><span class=k>struct</span><span class=w> </span><span class=nc>Shape</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-47-2><a id=__codelineno-47-2 name=__codelineno-47-2 href=#__codelineno-47-2></a><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>type</span><span class=p>;</span>
</span><span id=__span-47-3><a id=__codelineno-47-3 name=__codelineno-47-3 href=#__codelineno-47-3></a><span class=w>    </span><span class=k>union</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-47-4><a id=__codelineno-47-4 name=__codelineno-47-4 href=#__codelineno-47-4></a><span class=w>        </span><span class=kt>int</span><span class=w> </span><span class=n>radius</span><span class=p>;</span><span class=w>     </span><span class=c1>// 圆形</span>
</span><span id=__span-47-5><a id=__codelineno-47-5 name=__codelineno-47-5 href=#__codelineno-47-5></a><span class=w>        </span><span class=k>struct</span><span class=w> </span><span class=p>{</span><span class=w>        </span><span class=c1>// 矩形</span>
</span><span id=__span-47-6><a id=__codelineno-47-6 name=__codelineno-47-6 href=#__codelineno-47-6></a><span class=w>            </span><span class=kt>int</span><span class=w> </span><span class=n>width</span><span class=p>;</span>
</span><span id=__span-47-7><a id=__codelineno-47-7 name=__codelineno-47-7 href=#__codelineno-47-7></a><span class=w>            </span><span class=kt>int</span><span class=w> </span><span class=n>height</span><span class=p>;</span>
</span><span id=__span-47-8><a id=__codelineno-47-8 name=__codelineno-47-8 href=#__codelineno-47-8></a><span class=w>        </span><span class=p>};</span>
</span><span id=__span-47-9><a id=__codelineno-47-9 name=__codelineno-47-9 href=#__codelineno-47-9></a><span class=w>    </span><span class=p>};</span>
</span><span id=__span-47-10><a id=__codelineno-47-10 name=__codelineno-47-10 href=#__codelineno-47-10></a><span class=p>};</span>
</span></code></pre></div> 在这个例子中，<code>Shape</code>结构体根据<code>type</code>字段的不同值来区分它是圆形还是矩形，并通过联合在同一内存位置存储不同的数据类型。</p> </li> <li> <p><strong>解析复杂的数据格式</strong>： 联合类型非常适合用来解析复杂的二进制数据格式。不同的数据字段可以用不同的方式解读。使用联合可以更方便地从一个字节流中提取不同类型的数据，常见于文件解析或网络数据包的处理。 <div class="language-c highlight"><pre><span></span><code><span id=__span-48-1><a id=__codelineno-48-1 name=__codelineno-48-1 href=#__codelineno-48-1></a><span class=k>union</span><span class=w> </span><span class=nc>DataPacket</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-48-2><a id=__codelineno-48-2 name=__codelineno-48-2 href=#__codelineno-48-2></a><span class=w>    </span><span class=kt>uint32_t</span><span class=w> </span><span class=n>integerData</span><span class=p>;</span>
</span><span id=__span-48-3><a id=__codelineno-48-3 name=__codelineno-48-3 href=#__codelineno-48-3></a><span class=w>    </span><span class=kt>float</span><span class=w> </span><span class=n>floatData</span><span class=p>;</span>
</span><span id=__span-48-4><a id=__codelineno-48-4 name=__codelineno-48-4 href=#__codelineno-48-4></a><span class=w>    </span><span class=kt>char</span><span class=w> </span><span class=n>stringData</span><span class=p>[</span><span class=mi>16</span><span class=p>];</span>
</span><span id=__span-48-5><a id=__codelineno-48-5 name=__codelineno-48-5 href=#__codelineno-48-5></a><span class=p>};</span>
</span><span id=__span-48-6><a id=__codelineno-48-6 name=__codelineno-48-6 href=#__codelineno-48-6></a>
</span><span id=__span-48-7><a id=__codelineno-48-7 name=__codelineno-48-7 href=#__codelineno-48-7></a><span class=k>union</span><span class=w> </span><span class=nc>DataPacket</span><span class=w> </span><span class=n>packet</span><span class=p>;</span>
</span><span id=__span-48-8><a id=__codelineno-48-8 name=__codelineno-48-8 href=#__codelineno-48-8></a><span class=n>packet</span><span class=p>.</span><span class=n>integerData</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mh>0x12345678</span><span class=p>;</span><span class=w>  </span><span class=c1>// 作为整数处理</span>
</span><span id=__span-48-9><a id=__codelineno-48-9 name=__codelineno-48-9 href=#__codelineno-48-9></a><span class=n>printf</span><span class=p>(</span><span class=s>&quot;Integer: %u</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=n>packet</span><span class=p>.</span><span class=n>integerData</span><span class=p>);</span>
</span><span id=__span-48-10><a id=__codelineno-48-10 name=__codelineno-48-10 href=#__codelineno-48-10></a><span class=n>packet</span><span class=p>.</span><span class=n>floatData</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mf>3.14159f</span><span class=p>;</span><span class=w>       </span><span class=c1>// 作为浮点数处理</span>
</span><span id=__span-48-11><a id=__codelineno-48-11 name=__codelineno-48-11 href=#__codelineno-48-11></a><span class=n>printf</span><span class=p>(</span><span class=s>&quot;Float: %.4f</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=n>packet</span><span class=p>.</span><span class=n>floatData</span><span class=p>);</span>
</span><span id=__span-48-12><a id=__codelineno-48-12 name=__codelineno-48-12 href=#__codelineno-48-12></a><span class=n>packet</span><span class=p>.</span><span class=n>stringData</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=sc>&#39;H&#39;</span><span class=p>;</span><span class=w>       </span><span class=c1>// 作为字符串处理</span>
</span><span id=__span-48-13><a id=__codelineno-48-13 name=__codelineno-48-13 href=#__codelineno-48-13></a><span class=n>packet</span><span class=p>.</span><span class=n>stringData</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=sc>&#39;i&#39;</span><span class=p>;</span>
</span><span id=__span-48-14><a id=__codelineno-48-14 name=__codelineno-48-14 href=#__codelineno-48-14></a><span class=n>packet</span><span class=p>.</span><span class=n>stringData</span><span class=p>[</span><span class=mi>2</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=sc>&#39;\0&#39;</span><span class=p>;</span>
</span><span id=__span-48-15><a id=__codelineno-48-15 name=__codelineno-48-15 href=#__codelineno-48-15></a><span class=n>printf</span><span class=p>(</span><span class=s>&quot;String: %s</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=n>packet</span><span class=p>.</span><span class=n>stringData</span><span class=p>);</span>
</span></code></pre></div></p> </li> <li> <p><strong>用于操作不同数据结构</strong>： 联合可以用来处理包含多种不同数据结构的数据，例如，某个函数可能需要在不同情况下处理不同的数据结构。通过联合，你可以在同一个内存空间内实现这些数据结构的共享。 <div class="language-c highlight"><pre><span></span><code><span id=__span-49-1><a id=__codelineno-49-1 name=__codelineno-49-1 href=#__codelineno-49-1></a><span class=k>union</span><span class=w> </span><span class=nc>Data</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-49-2><a id=__codelineno-49-2 name=__codelineno-49-2 href=#__codelineno-49-2></a><span class=w>    </span><span class=k>struct</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-49-3><a id=__codelineno-49-3 name=__codelineno-49-3 href=#__codelineno-49-3></a><span class=w>        </span><span class=kt>int</span><span class=w> </span><span class=n>x</span><span class=p>;</span>
</span><span id=__span-49-4><a id=__codelineno-49-4 name=__codelineno-49-4 href=#__codelineno-49-4></a><span class=w>        </span><span class=kt>int</span><span class=w> </span><span class=n>y</span><span class=p>;</span>
</span><span id=__span-49-5><a id=__codelineno-49-5 name=__codelineno-49-5 href=#__codelineno-49-5></a><span class=w>    </span><span class=p>}</span><span class=w> </span><span class=n>point</span><span class=p>;</span><span class=w>  </span><span class=c1>// 用于存储坐标</span>
</span><span id=__span-49-6><a id=__codelineno-49-6 name=__codelineno-49-6 href=#__codelineno-49-6></a><span class=w>    </span><span class=k>struct</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-49-7><a id=__codelineno-49-7 name=__codelineno-49-7 href=#__codelineno-49-7></a><span class=w>        </span><span class=kt>int</span><span class=w> </span><span class=n>width</span><span class=p>;</span>
</span><span id=__span-49-8><a id=__codelineno-49-8 name=__codelineno-49-8 href=#__codelineno-49-8></a><span class=w>        </span><span class=kt>int</span><span class=w> </span><span class=n>height</span><span class=p>;</span>
</span><span id=__span-49-9><a id=__codelineno-49-9 name=__codelineno-49-9 href=#__codelineno-49-9></a><span class=w>    </span><span class=p>}</span><span class=w> </span><span class=n>rectangle</span><span class=p>;</span><span class=w>  </span><span class=c1>// 用于存储矩形尺寸</span>
</span><span id=__span-49-10><a id=__codelineno-49-10 name=__codelineno-49-10 href=#__codelineno-49-10></a><span class=p>};</span>
</span></code></pre></div> 在这个例子中，<code>Data</code>联合可以存储一个坐标点或一个矩形的尺寸，但不能同时存储两者。</p> </li> <li> <p><strong>优化内存池管理</strong>： 在内存池管理中，联合可用于构建高效的内存分配方案。例如，在一个内存池中管理不同类型的对象时，使用联合类型可以为每个对象节省内存。 <div class="language-c highlight"><pre><span></span><code><span id=__span-50-1><a id=__codelineno-50-1 name=__codelineno-50-1 href=#__codelineno-50-1></a><span class=k>union</span><span class=w> </span><span class=nc>Object</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-50-2><a id=__codelineno-50-2 name=__codelineno-50-2 href=#__codelineno-50-2></a><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>intValue</span><span class=p>;</span>
</span><span id=__span-50-3><a id=__codelineno-50-3 name=__codelineno-50-3 href=#__codelineno-50-3></a><span class=w>    </span><span class=kt>float</span><span class=w> </span><span class=n>floatValue</span><span class=p>;</span>
</span><span id=__span-50-4><a id=__codelineno-50-4 name=__codelineno-50-4 href=#__codelineno-50-4></a><span class=w>    </span><span class=kt>char</span><span class=w> </span><span class=n>strValue</span><span class=p>[</span><span class=mi>50</span><span class=p>];</span>
</span><span id=__span-50-5><a id=__codelineno-50-5 name=__codelineno-50-5 href=#__codelineno-50-5></a><span class=p>};</span>
</span><span id=__span-50-6><a id=__codelineno-50-6 name=__codelineno-50-6 href=#__codelineno-50-6></a>
</span><span id=__span-50-7><a id=__codelineno-50-7 name=__codelineno-50-7 href=#__codelineno-50-7></a><span class=k>struct</span><span class=w> </span><span class=nc>MemoryPool</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-50-8><a id=__codelineno-50-8 name=__codelineno-50-8 href=#__codelineno-50-8></a><span class=w>    </span><span class=k>union</span><span class=w> </span><span class=nc>Object</span><span class=w> </span><span class=n>objects</span><span class=p>[</span><span class=mi>100</span><span class=p>];</span>
</span><span id=__span-50-9><a id=__codelineno-50-9 name=__codelineno-50-9 href=#__codelineno-50-9></a><span class=p>};</span>
</span></code></pre></div> 这里的内存池<code>MemoryPool</code>可以用来管理100个对象，每个对象可能是一个整数、浮点数或字符串，而不必为每种类型分配不同的内存块。</p> </li> <li> <p><strong>简化图像处理中的像素表示</strong>： 在图像处理或图形编程中，像素的数据表示可以使用联合来简化处理。例如，一个像素可能包含RGB（红、绿、蓝）三个颜色通道，可以将其表示为一个整数，也可以将每个通道分开存储。 <div class="language-c highlight"><pre><span></span><code><span id=__span-51-1><a id=__codelineno-51-1 name=__codelineno-51-1 href=#__codelineno-51-1></a><span class=k>union</span><span class=w> </span><span class=nc>Pixel</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-51-2><a id=__codelineno-51-2 name=__codelineno-51-2 href=#__codelineno-51-2></a><span class=w>    </span><span class=kt>uint32_t</span><span class=w> </span><span class=n>rgba</span><span class=p>;</span><span class=w>  </span><span class=c1>// 32位整数表示一个像素</span>
</span><span id=__span-51-3><a id=__codelineno-51-3 name=__codelineno-51-3 href=#__codelineno-51-3></a><span class=w>    </span><span class=k>struct</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-51-4><a id=__codelineno-51-4 name=__codelineno-51-4 href=#__codelineno-51-4></a><span class=w>        </span><span class=kt>unsigned</span><span class=w> </span><span class=kt>char</span><span class=w> </span><span class=n>r</span><span class=p>;</span>
</span><span id=__span-51-5><a id=__codelineno-51-5 name=__codelineno-51-5 href=#__codelineno-51-5></a><span class=w>        </span><span class=kt>unsigned</span><span class=w> </span><span class=kt>char</span><span class=w> </span><span class=n>g</span><span class=p>;</span>
</span><span id=__span-51-6><a id=__codelineno-51-6 name=__codelineno-51-6 href=#__codelineno-51-6></a><span class=w>        </span><span class=kt>unsigned</span><span class=w> </span><span class=kt>char</span><span class=w> </span><span class=n>b</span><span class=p>;</span>
</span><span id=__span-51-7><a id=__codelineno-51-7 name=__codelineno-51-7 href=#__codelineno-51-7></a><span class=w>        </span><span class=kt>unsigned</span><span class=w> </span><span class=kt>char</span><span class=w> </span><span class=n>a</span><span class=p>;</span><span class=w>  </span><span class=c1>// alpha透明度</span>
</span><span id=__span-51-8><a id=__codelineno-51-8 name=__codelineno-51-8 href=#__codelineno-51-8></a><span class=w>    </span><span class=p>};</span>
</span><span id=__span-51-9><a id=__codelineno-51-9 name=__codelineno-51-9 href=#__codelineno-51-9></a><span class=p>};</span>
</span></code></pre></div></p> </li> <li> <p><strong>模拟操作系统中的进程状态</strong>： 在操作系统中，可以使用联合来模拟进程的不同状态。一个进程的状态可能包含不同类型的数据结构（如寄存器值、程序计数器、堆栈指针等）。通过联合，可以根据需要访问不同的状态信息。 <div class="language-c highlight"><pre><span></span><code><span id=__span-52-1><a id=__codelineno-52-1 name=__codelineno-52-1 href=#__codelineno-52-1></a><span class=k>union</span><span class=w> </span><span class=nc>ProcessState</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-52-2><a id=__codelineno-52-2 name=__codelineno-52-2 href=#__codelineno-52-2></a><span class=w>    </span><span class=kt>uint32_t</span><span class=w> </span><span class=n>registers</span><span class=p>[</span><span class=mi>8</span><span class=p>];</span><span class=w>  </span><span class=c1>// 存储8个通用寄存器</span>
</span><span id=__span-52-3><a id=__codelineno-52-3 name=__codelineno-52-3 href=#__codelineno-52-3></a><span class=w>    </span><span class=k>struct</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-52-4><a id=__codelineno-52-4 name=__codelineno-52-4 href=#__codelineno-52-4></a><span class=w>        </span><span class=kt>uint32_t</span><span class=w> </span><span class=n>pc</span><span class=p>;</span><span class=w>  </span><span class=c1>// 程序计数器</span>
</span><span id=__span-52-5><a id=__codelineno-52-5 name=__codelineno-52-5 href=#__codelineno-52-5></a><span class=w>        </span><span class=kt>uint32_t</span><span class=w> </span><span class=n>sp</span><span class=p>;</span><span class=w>  </span><span class=c1>// 堆栈指针</span>
</span><span id=__span-52-6><a id=__codelineno-52-6 name=__codelineno-52-6 href=#__codelineno-52-6></a><span class=w>    </span><span class=p>};</span>
</span><span id=__span-52-7><a id=__codelineno-52-7 name=__codelineno-52-7 href=#__codelineno-52-7></a><span class=p>};</span>
</span></code></pre></div> 通过使用联合，操作系统内核可以方便地访问进程的寄存器内容或程序计数器与堆栈指针。</p> </li> <li> <p><strong>模拟设备控制寄存器</strong>： 在硬件编程中，联合类型常用于模拟设备的控制寄存器，其中不同的控制位可能对应不同的控制功能。通过联合，可以以不同的视角来访问同一寄存器。 <div class="language-c highlight"><pre><span></span><code><span id=__span-53-1><a id=__codelineno-53-1 name=__codelineno-53-1 href=#__codelineno-53-1></a><span class=k>union</span><span class=w> </span><span class=nc>ControlRegister</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-53-2><a id=__codelineno-53-2 name=__codelineno-53-2 href=#__codelineno-53-2></a><span class=w>    </span><span class=kt>uint32_t</span><span class=w> </span><span class=n>regValue</span><span class=p>;</span><span class=w>  </span><span class=c1>// 32位寄存器值</span>
</span><span id=__span-53-3><a id=__codelineno-53-3 name=__codelineno-53-3 href=#__codelineno-53-3></a><span class=w>    </span><span class=k>struct</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-53-4><a id=__codelineno-53-4 name=__codelineno-53-4 href=#__codelineno-53-4></a><span class=w>        </span><span class=kt>unsigned</span><span class=w> </span><span class=n>bit0</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=mi>1</span><span class=p>;</span><span class=w>  </span><span class=c1>// 控制位0</span>
</span><span id=__span-53-5><a id=__codelineno-53-5 name=__codelineno-53-5 href=#__codelineno-53-5></a><span class=w>        </span><span class=kt>unsigned</span><span class=w> </span><span class=n>bit1</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=mi>1</span><span class=p>;</span><span class=w>  </span><span class=c1>// 控制位1</span>
</span><span id=__span-53-6><a id=__codelineno-53-6 name=__codelineno-53-6 href=#__codelineno-53-6></a><span class=w>        </span><span class=kt>unsigned</span><span class=w> </span><span class=n>bit2</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=mi>1</span><span class=p>;</span><span class=w>  </span><span class=c1>// 控制位2</span>
</span><span id=__span-53-7><a id=__codelineno-53-7 name=__codelineno-53-7 href=#__codelineno-53-7></a><span class=w>        </span><span class=kt>unsigned</span><span class=w> </span><span class=n>bit3</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=mi>1</span><span class=p>;</span><span class=w>  </span><span class=c1>// 控制位3</span>
</span><span id=__span-53-8><a id=__codelineno-53-8 name=__codelineno-53-8 href=#__codelineno-53-8></a><span class=w>        </span><span class=kt>unsigned</span><span class=w> </span><span class=n>bit4</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=mi>1</span><span class=p>;</span><span class=w>  </span><span class=c1>// 控制位4</span>
</span><span id=__span-53-9><a id=__codelineno-53-9 name=__codelineno-53-9 href=#__codelineno-53-9></a><span class=w>        </span><span class=kt>unsigned</span><span class=w> </span><span class=n>reserved</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=mi>27</span><span class=p>;</span><span class=w>  </span><span class=c1>// 其他保留位</span>
</span><span id=__span-53-10><a id=__codelineno-53-10 name=__codelineno-53-10 href=#__codelineno-53-10></a><span class=w>    </span><span class=p>};</span>
</span><span id=__span-53-11><a id=__codelineno-53-11 name=__codelineno-53-11 href=#__codelineno-53-11></a><span class=p>};</span>
</span></code></pre></div> 在这个例子中，<code>ControlRegister</code>联合让你可以直接访问控制寄存器的32位值，也可以单独操作每个控制位。</p> </li> </ol> <details class=info> <summary>总结</summary> <p>C语言中的联合类型是一种有效的节省内存的工具，特别适合在程序中存储和操作多种类型的数据。它能够用于实现多态、硬件寄存器的高效操作、类型转换、数据结构优化等多种实际应用。通过共享内存空间，联合可以极大地减少内存消耗，尤其是在内存资源有限的嵌入式系统和其他高效计算场景中。</p> </details> <h3 id=typedef>自定义数据类型（typedef）<a class=headerlink href=#typedef title="Permanent link">&para;</a></h3> <p><strong>语法：</strong></p> <p><div class="language-c highlight"><pre><span></span><code><span id=__span-54-1><a id=__codelineno-54-1 name=__codelineno-54-1 href=#__codelineno-54-1></a><span class=k>typedef</span><span class=w> </span><span class=n>原类型名</span><span class=w> </span><span class=n>自定义新类型名</span><span class=p>;</span>
</span></code></pre></div> 例如，<code>typedef int Length;</code> ：这样，<code>Length</code> 成为 <code>int</code> 的别名，可以代替 <code>int</code> 。</p> <p>再如；</p> <p><div class="language-c highlight"><pre><span></span><code><span id=__span-55-1><a id=__codelineno-55-1 name=__codelineno-55-1 href=#__codelineno-55-1></a><span class=k>typedef</span><span class=w> </span><span class=k>struct</span><span class=w> </span><span class=nc>adate</span><span class=p>{</span>
</span><span id=__span-55-2><a id=__codelineno-55-2 name=__codelineno-55-2 href=#__codelineno-55-2></a><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>month</span><span class=p>;</span>
</span><span id=__span-55-3><a id=__codelineno-55-3 name=__codelineno-55-3 href=#__codelineno-55-3></a><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>day</span><span class=p>;</span>
</span><span id=__span-55-4><a id=__codelineno-55-4 name=__codelineno-55-4 href=#__codelineno-55-4></a><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>year</span><span class=p>;</span>
</span><span id=__span-55-5><a id=__codelineno-55-5 name=__codelineno-55-5 href=#__codelineno-55-5></a><span class=p>}</span><span class=w> </span><span class=n>Date</span><span class=p>;</span>
</span><span id=__span-55-6><a id=__codelineno-55-6 name=__codelineno-55-6 href=#__codelineno-55-6></a><span class=n>Date</span><span class=w> </span><span class=n>d</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>{</span><span class=mi>12</span><span class=p>,</span><span class=w> </span><span class=mi>17</span><span class=p>,</span><span class=w> </span><span class=mi>2024</span><span class=p>};</span>
</span></code></pre></div> <code>Date</code> 代表 <code>typedef</code> 和 <code>Date</code> 中间所有东西，<code>Date</code> <span class=arithmatex>\(\Leftrightarrow\)</span> <code>struct adate</code></p> <p><code>typedef</code> 用于给现有类型定义新的别名或创建易于使用的自定义类型。</p> <hr> <p><strong>1. 简化复杂类型</strong> 为指针类型创建别名，简化代码的书写和阅读。</p> <div class="language-c highlight"><pre><span></span><code><span id=__span-56-1><a id=__codelineno-56-1 name=__codelineno-56-1 href=#__codelineno-56-1></a><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;stdio.h&gt;</span>
</span><span id=__span-56-2><a id=__codelineno-56-2 name=__codelineno-56-2 href=#__codelineno-56-2></a>
</span><span id=__span-56-3><a id=__codelineno-56-3 name=__codelineno-56-3 href=#__codelineno-56-3></a><span class=c1>// 为指针类型定义别名</span>
</span><span id=__span-56-4><a id=__codelineno-56-4 name=__codelineno-56-4 href=#__codelineno-56-4></a><span class=k>typedef</span><span class=w> </span><span class=kt>char</span><span class=o>*</span><span class=w> </span><span class=n>String</span><span class=p>;</span>
</span><span id=__span-56-5><a id=__codelineno-56-5 name=__codelineno-56-5 href=#__codelineno-56-5></a>
</span><span id=__span-56-6><a id=__codelineno-56-6 name=__codelineno-56-6 href=#__codelineno-56-6></a><span class=kt>int</span><span class=w> </span><span class=nf>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-56-7><a id=__codelineno-56-7 name=__codelineno-56-7 href=#__codelineno-56-7></a><span class=w>    </span><span class=n>String</span><span class=w> </span><span class=n>name</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&quot;Alice&quot;</span><span class=p>;</span>
</span><span id=__span-56-8><a id=__codelineno-56-8 name=__codelineno-56-8 href=#__codelineno-56-8></a><span class=w>    </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;Name: %s</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=n>name</span><span class=p>);</span>
</span><span id=__span-56-9><a id=__codelineno-56-9 name=__codelineno-56-9 href=#__codelineno-56-9></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-56-10><a id=__codelineno-56-10 name=__codelineno-56-10 href=#__codelineno-56-10></a><span class=p>}</span>
</span></code></pre></div> <p><strong>解析</strong>：<code>String</code> 是 <code>char*</code> 的别名，简化了定义指针变量的代码。</p> <hr> <p><strong>2. 定义结构体的别名</strong> 为结构体类型创建更简洁的名称。</p> <div class="language-c highlight"><pre><span></span><code><span id=__span-57-1><a id=__codelineno-57-1 name=__codelineno-57-1 href=#__codelineno-57-1></a><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;stdio.h&gt;</span>
</span><span id=__span-57-2><a id=__codelineno-57-2 name=__codelineno-57-2 href=#__codelineno-57-2></a>
</span><span id=__span-57-3><a id=__codelineno-57-3 name=__codelineno-57-3 href=#__codelineno-57-3></a><span class=c1>// 定义结构体和别名</span>
</span><span id=__span-57-4><a id=__codelineno-57-4 name=__codelineno-57-4 href=#__codelineno-57-4></a><span class=k>typedef</span><span class=w> </span><span class=k>struct</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-57-5><a id=__codelineno-57-5 name=__codelineno-57-5 href=#__codelineno-57-5></a><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>x</span><span class=p>;</span>
</span><span id=__span-57-6><a id=__codelineno-57-6 name=__codelineno-57-6 href=#__codelineno-57-6></a><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>y</span><span class=p>;</span>
</span><span id=__span-57-7><a id=__codelineno-57-7 name=__codelineno-57-7 href=#__codelineno-57-7></a><span class=p>}</span><span class=w> </span><span class=n>Point</span><span class=p>;</span>
</span><span id=__span-57-8><a id=__codelineno-57-8 name=__codelineno-57-8 href=#__codelineno-57-8></a>
</span><span id=__span-57-9><a id=__codelineno-57-9 name=__codelineno-57-9 href=#__codelineno-57-9></a><span class=kt>int</span><span class=w> </span><span class=nf>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-57-10><a id=__codelineno-57-10 name=__codelineno-57-10 href=#__codelineno-57-10></a><span class=w>    </span><span class=n>Point</span><span class=w> </span><span class=n>p</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>{</span><span class=mi>10</span><span class=p>,</span><span class=w> </span><span class=mi>20</span><span class=p>};</span>
</span><span id=__span-57-11><a id=__codelineno-57-11 name=__codelineno-57-11 href=#__codelineno-57-11></a><span class=w>    </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;Point: (%d, %d)</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=n>p</span><span class=p>.</span><span class=n>x</span><span class=p>,</span><span class=w> </span><span class=n>p</span><span class=p>.</span><span class=n>y</span><span class=p>);</span>
</span><span id=__span-57-12><a id=__codelineno-57-12 name=__codelineno-57-12 href=#__codelineno-57-12></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-57-13><a id=__codelineno-57-13 name=__codelineno-57-13 href=#__codelineno-57-13></a><span class=p>}</span>
</span></code></pre></div> <p><strong>解析</strong>：使用 <code>typedef</code> 后，定义变量时无需再写 <code>struct</code>，直接使用 <code>Point</code>。</p> <hr> <p><strong>3. 定义枚举类型的别名</strong> 为枚举类型起一个更直观的名字。</p> <div class="language-c highlight"><pre><span></span><code><span id=__span-58-1><a id=__codelineno-58-1 name=__codelineno-58-1 href=#__codelineno-58-1></a><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;stdio.h&gt;</span>
</span><span id=__span-58-2><a id=__codelineno-58-2 name=__codelineno-58-2 href=#__codelineno-58-2></a>
</span><span id=__span-58-3><a id=__codelineno-58-3 name=__codelineno-58-3 href=#__codelineno-58-3></a><span class=c1>// 定义枚举类型和别名</span>
</span><span id=__span-58-4><a id=__codelineno-58-4 name=__codelineno-58-4 href=#__codelineno-58-4></a><span class=k>typedef</span><span class=w> </span><span class=k>enum</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=n>RED</span><span class=p>,</span><span class=w> </span><span class=n>GREEN</span><span class=p>,</span><span class=w> </span><span class=n>BLUE</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=n>Color</span><span class=p>;</span>
</span><span id=__span-58-5><a id=__codelineno-58-5 name=__codelineno-58-5 href=#__codelineno-58-5></a>
</span><span id=__span-58-6><a id=__codelineno-58-6 name=__codelineno-58-6 href=#__codelineno-58-6></a><span class=kt>int</span><span class=w> </span><span class=nf>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-58-7><a id=__codelineno-58-7 name=__codelineno-58-7 href=#__codelineno-58-7></a><span class=w>    </span><span class=n>Color</span><span class=w> </span><span class=n>favoriteColor</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>GREEN</span><span class=p>;</span>
</span><span id=__span-58-8><a id=__codelineno-58-8 name=__codelineno-58-8 href=#__codelineno-58-8></a><span class=w>    </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;Favorite color code: %d</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=n>favoriteColor</span><span class=p>);</span>
</span><span id=__span-58-9><a id=__codelineno-58-9 name=__codelineno-58-9 href=#__codelineno-58-9></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-58-10><a id=__codelineno-58-10 name=__codelineno-58-10 href=#__codelineno-58-10></a><span class=p>}</span>
</span></code></pre></div> <p><strong>解析</strong>：<code>Color</code> 是枚举类型的别名，代码更直观。</p> <p>再例，</p> <div class="language-c highlight"><pre><span></span><code><span id=__span-59-1><a id=__codelineno-59-1 name=__codelineno-59-1 href=#__codelineno-59-1></a><span class=k>typedef</span><span class=w> </span><span class=k>enum</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nb>false</span><span class=p>,</span><span class=w> </span><span class=nb>true</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=kt>bool</span><span class=p>;</span>
</span><span id=__span-59-2><a id=__codelineno-59-2 name=__codelineno-59-2 href=#__codelineno-59-2></a><span class=kt>bool</span><span class=w> </span><span class=nf>palindrome</span><span class=p>(</span><span class=kt>char</span><span class=w> </span><span class=o>*</span><span class=n>s</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=cm>/*代码块*/</span><span class=p>}</span>
</span></code></pre></div> <hr> <p><strong>4. 定义自定义数据类型</strong> 将常用的基础类型替换为更具语义的名字。</p> <div class="language-c highlight"><pre><span></span><code><span id=__span-60-1><a id=__codelineno-60-1 name=__codelineno-60-1 href=#__codelineno-60-1></a><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;stdio.h&gt;</span>
</span><span id=__span-60-2><a id=__codelineno-60-2 name=__codelineno-60-2 href=#__codelineno-60-2></a>
</span><span id=__span-60-3><a id=__codelineno-60-3 name=__codelineno-60-3 href=#__codelineno-60-3></a><span class=c1>// 定义一个长度类型</span>
</span><span id=__span-60-4><a id=__codelineno-60-4 name=__codelineno-60-4 href=#__codelineno-60-4></a><span class=k>typedef</span><span class=w> </span><span class=kt>unsigned</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>Length</span><span class=p>;</span>
</span><span id=__span-60-5><a id=__codelineno-60-5 name=__codelineno-60-5 href=#__codelineno-60-5></a>
</span><span id=__span-60-6><a id=__codelineno-60-6 name=__codelineno-60-6 href=#__codelineno-60-6></a><span class=kt>int</span><span class=w> </span><span class=nf>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-60-7><a id=__codelineno-60-7 name=__codelineno-60-7 href=#__codelineno-60-7></a><span class=w>    </span><span class=n>Length</span><span class=w> </span><span class=n>len</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>100</span><span class=p>;</span>
</span><span id=__span-60-8><a id=__codelineno-60-8 name=__codelineno-60-8 href=#__codelineno-60-8></a><span class=w>    </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;Length: %u</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=n>len</span><span class=p>);</span>
</span><span id=__span-60-9><a id=__codelineno-60-9 name=__codelineno-60-9 href=#__codelineno-60-9></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-60-10><a id=__codelineno-60-10 name=__codelineno-60-10 href=#__codelineno-60-10></a><span class=p>}</span>
</span></code></pre></div> <p><strong>解析</strong>：<code>Length</code> 是 <code>unsigned int</code> 的别名，用于表示逻辑上的长度，增加代码语义。</p> <hr> <p><strong>5. 定义函数指针的别名</strong> 为函数指针类型定义别名，简化函数指针的声明和使用。</p> <div class="language-c highlight"><pre><span></span><code><span id=__span-61-1><a id=__codelineno-61-1 name=__codelineno-61-1 href=#__codelineno-61-1></a><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;stdio.h&gt;</span>
</span><span id=__span-61-2><a id=__codelineno-61-2 name=__codelineno-61-2 href=#__codelineno-61-2></a>
</span><span id=__span-61-3><a id=__codelineno-61-3 name=__codelineno-61-3 href=#__codelineno-61-3></a><span class=c1>// 定义函数指针类型</span>
</span><span id=__span-61-4><a id=__codelineno-61-4 name=__codelineno-61-4 href=#__codelineno-61-4></a><span class=k>typedef</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=p>(</span><span class=o>*</span><span class=n>Operation</span><span class=p>)(</span><span class=kt>int</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=p>);</span>
</span><span id=__span-61-5><a id=__codelineno-61-5 name=__codelineno-61-5 href=#__codelineno-61-5></a>
</span><span id=__span-61-6><a id=__codelineno-61-6 name=__codelineno-61-6 href=#__codelineno-61-6></a><span class=c1>// 函数定义</span>
</span><span id=__span-61-7><a id=__codelineno-61-7 name=__codelineno-61-7 href=#__codelineno-61-7></a><span class=kt>int</span><span class=w> </span><span class=nf>add</span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>a</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>b</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-61-8><a id=__codelineno-61-8 name=__codelineno-61-8 href=#__codelineno-61-8></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=n>a</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>b</span><span class=p>;</span>
</span><span id=__span-61-9><a id=__codelineno-61-9 name=__codelineno-61-9 href=#__codelineno-61-9></a><span class=p>}</span>
</span><span id=__span-61-10><a id=__codelineno-61-10 name=__codelineno-61-10 href=#__codelineno-61-10></a>
</span><span id=__span-61-11><a id=__codelineno-61-11 name=__codelineno-61-11 href=#__codelineno-61-11></a><span class=kt>int</span><span class=w> </span><span class=nf>multiply</span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>a</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>b</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-61-12><a id=__codelineno-61-12 name=__codelineno-61-12 href=#__codelineno-61-12></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=n>a</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=n>b</span><span class=p>;</span>
</span><span id=__span-61-13><a id=__codelineno-61-13 name=__codelineno-61-13 href=#__codelineno-61-13></a><span class=p>}</span>
</span><span id=__span-61-14><a id=__codelineno-61-14 name=__codelineno-61-14 href=#__codelineno-61-14></a>
</span><span id=__span-61-15><a id=__codelineno-61-15 name=__codelineno-61-15 href=#__codelineno-61-15></a><span class=kt>int</span><span class=w> </span><span class=nf>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-61-16><a id=__codelineno-61-16 name=__codelineno-61-16 href=#__codelineno-61-16></a><span class=w>    </span><span class=n>Operation</span><span class=w> </span><span class=n>op</span><span class=p>;</span><span class=w>  </span><span class=c1>// 使用别名定义函数指针变量</span>
</span><span id=__span-61-17><a id=__codelineno-61-17 name=__codelineno-61-17 href=#__codelineno-61-17></a>
</span><span id=__span-61-18><a id=__codelineno-61-18 name=__codelineno-61-18 href=#__codelineno-61-18></a><span class=w>    </span><span class=n>op</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>add</span><span class=p>;</span>
</span><span id=__span-61-19><a id=__codelineno-61-19 name=__codelineno-61-19 href=#__codelineno-61-19></a><span class=w>    </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;Add: %d</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=n>op</span><span class=p>(</span><span class=mi>5</span><span class=p>,</span><span class=w> </span><span class=mi>3</span><span class=p>));</span>
</span><span id=__span-61-20><a id=__codelineno-61-20 name=__codelineno-61-20 href=#__codelineno-61-20></a>
</span><span id=__span-61-21><a id=__codelineno-61-21 name=__codelineno-61-21 href=#__codelineno-61-21></a><span class=w>    </span><span class=n>op</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>multiply</span><span class=p>;</span>
</span><span id=__span-61-22><a id=__codelineno-61-22 name=__codelineno-61-22 href=#__codelineno-61-22></a><span class=w>    </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;Multiply: %d</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=n>op</span><span class=p>(</span><span class=mi>5</span><span class=p>,</span><span class=w> </span><span class=mi>3</span><span class=p>));</span>
</span><span id=__span-61-23><a id=__codelineno-61-23 name=__codelineno-61-23 href=#__codelineno-61-23></a>
</span><span id=__span-61-24><a id=__codelineno-61-24 name=__codelineno-61-24 href=#__codelineno-61-24></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-61-25><a id=__codelineno-61-25 name=__codelineno-61-25 href=#__codelineno-61-25></a><span class=p>}</span>
</span></code></pre></div> <p><strong>解析</strong>：<code>Operation</code> 是函数指针 <code>int (*)(int, int)</code> 的别名，简化了函数指针的声明。</p> <hr> <p><strong>6. 定义数组类型的别名</strong> 为数组定义一个别名，用于统一管理数据类型。</p> <div class="language-c highlight"><pre><span></span><code><span id=__span-62-1><a id=__codelineno-62-1 name=__codelineno-62-1 href=#__codelineno-62-1></a><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;stdio.h&gt;</span>
</span><span id=__span-62-2><a id=__codelineno-62-2 name=__codelineno-62-2 href=#__codelineno-62-2></a>
</span><span id=__span-62-3><a id=__codelineno-62-3 name=__codelineno-62-3 href=#__codelineno-62-3></a><span class=c1>// 定义数组类型别名</span>
</span><span id=__span-62-4><a id=__codelineno-62-4 name=__codelineno-62-4 href=#__codelineno-62-4></a><span class=k>typedef</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>Matrix</span><span class=p>[</span><span class=mi>3</span><span class=p>][</span><span class=mi>3</span><span class=p>];</span>
</span><span id=__span-62-5><a id=__codelineno-62-5 name=__codelineno-62-5 href=#__codelineno-62-5></a>
</span><span id=__span-62-6><a id=__codelineno-62-6 name=__codelineno-62-6 href=#__codelineno-62-6></a><span class=kt>int</span><span class=w> </span><span class=nf>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-62-7><a id=__codelineno-62-7 name=__codelineno-62-7 href=#__codelineno-62-7></a><span class=w>    </span><span class=n>Matrix</span><span class=w> </span><span class=n>mat</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-62-8><a id=__codelineno-62-8 name=__codelineno-62-8 href=#__codelineno-62-8></a><span class=w>        </span><span class=p>{</span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=mi>2</span><span class=p>,</span><span class=w> </span><span class=mi>3</span><span class=p>},</span>
</span><span id=__span-62-9><a id=__codelineno-62-9 name=__codelineno-62-9 href=#__codelineno-62-9></a><span class=w>        </span><span class=p>{</span><span class=mi>4</span><span class=p>,</span><span class=w> </span><span class=mi>5</span><span class=p>,</span><span class=w> </span><span class=mi>6</span><span class=p>},</span>
</span><span id=__span-62-10><a id=__codelineno-62-10 name=__codelineno-62-10 href=#__codelineno-62-10></a><span class=w>        </span><span class=p>{</span><span class=mi>7</span><span class=p>,</span><span class=w> </span><span class=mi>8</span><span class=p>,</span><span class=w> </span><span class=mi>9</span><span class=p>}</span>
</span><span id=__span-62-11><a id=__codelineno-62-11 name=__codelineno-62-11 href=#__codelineno-62-11></a><span class=w>    </span><span class=p>};</span>
</span><span id=__span-62-12><a id=__codelineno-62-12 name=__codelineno-62-12 href=#__codelineno-62-12></a>
</span><span id=__span-62-13><a id=__codelineno-62-13 name=__codelineno-62-13 href=#__codelineno-62-13></a><span class=w>    </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=mi>3</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=o>++</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-62-14><a id=__codelineno-62-14 name=__codelineno-62-14 href=#__codelineno-62-14></a><span class=w>        </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>j</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span><span class=w> </span><span class=n>j</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=mi>3</span><span class=p>;</span><span class=w> </span><span class=n>j</span><span class=o>++</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-62-15><a id=__codelineno-62-15 name=__codelineno-62-15 href=#__codelineno-62-15></a><span class=w>            </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%d &quot;</span><span class=p>,</span><span class=w> </span><span class=n>mat</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=n>j</span><span class=p>]);</span>
</span><span id=__span-62-16><a id=__codelineno-62-16 name=__codelineno-62-16 href=#__codelineno-62-16></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-62-17><a id=__codelineno-62-17 name=__codelineno-62-17 href=#__codelineno-62-17></a><span class=w>        </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>);</span>
</span><span id=__span-62-18><a id=__codelineno-62-18 name=__codelineno-62-18 href=#__codelineno-62-18></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-62-19><a id=__codelineno-62-19 name=__codelineno-62-19 href=#__codelineno-62-19></a>
</span><span id=__span-62-20><a id=__codelineno-62-20 name=__codelineno-62-20 href=#__codelineno-62-20></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-62-21><a id=__codelineno-62-21 name=__codelineno-62-21 href=#__codelineno-62-21></a><span class=p>}</span>
</span></code></pre></div> <p><strong>解析</strong>：<code>Matrix</code> 是一个 3x3 整数数组的别名，简化了矩阵类型的声明。</p> <hr> <p><strong>7. 定义位域类型的别名</strong> 为包含位域的结构体定义一个易用的别名。</p> <div class="language-c highlight"><pre><span></span><code><span id=__span-63-1><a id=__codelineno-63-1 name=__codelineno-63-1 href=#__codelineno-63-1></a><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;stdio.h&gt;</span>
</span><span id=__span-63-2><a id=__codelineno-63-2 name=__codelineno-63-2 href=#__codelineno-63-2></a>
</span><span id=__span-63-3><a id=__codelineno-63-3 name=__codelineno-63-3 href=#__codelineno-63-3></a><span class=c1>// 定义位域类型</span>
</span><span id=__span-63-4><a id=__codelineno-63-4 name=__codelineno-63-4 href=#__codelineno-63-4></a><span class=k>typedef</span><span class=w> </span><span class=k>struct</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-63-5><a id=__codelineno-63-5 name=__codelineno-63-5 href=#__codelineno-63-5></a><span class=w>    </span><span class=kt>unsigned</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>isAvailable</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=mi>1</span><span class=p>;</span>
</span><span id=__span-63-6><a id=__codelineno-63-6 name=__codelineno-63-6 href=#__codelineno-63-6></a><span class=w>    </span><span class=kt>unsigned</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>isReadOnly</span><span class=w>  </span><span class=o>:</span><span class=w> </span><span class=mi>1</span><span class=p>;</span>
</span><span id=__span-63-7><a id=__codelineno-63-7 name=__codelineno-63-7 href=#__codelineno-63-7></a><span class=w>    </span><span class=kt>unsigned</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>isHidden</span><span class=w>    </span><span class=o>:</span><span class=w> </span><span class=mi>1</span><span class=p>;</span>
</span><span id=__span-63-8><a id=__codelineno-63-8 name=__codelineno-63-8 href=#__codelineno-63-8></a><span class=p>}</span><span class=w> </span><span class=n>FileAttributes</span><span class=p>;</span>
</span><span id=__span-63-9><a id=__codelineno-63-9 name=__codelineno-63-9 href=#__codelineno-63-9></a>
</span><span id=__span-63-10><a id=__codelineno-63-10 name=__codelineno-63-10 href=#__codelineno-63-10></a><span class=kt>int</span><span class=w> </span><span class=nf>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-63-11><a id=__codelineno-63-11 name=__codelineno-63-11 href=#__codelineno-63-11></a><span class=w>    </span><span class=n>FileAttributes</span><span class=w> </span><span class=n>file</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>{</span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=mi>1</span><span class=p>};</span>
</span><span id=__span-63-12><a id=__codelineno-63-12 name=__codelineno-63-12 href=#__codelineno-63-12></a>
</span><span id=__span-63-13><a id=__codelineno-63-13 name=__codelineno-63-13 href=#__codelineno-63-13></a><span class=w>    </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;Available: %u, ReadOnly: %u, Hidden: %u</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span>
</span><span id=__span-63-14><a id=__codelineno-63-14 name=__codelineno-63-14 href=#__codelineno-63-14></a><span class=w>           </span><span class=n>file</span><span class=p>.</span><span class=n>isAvailable</span><span class=p>,</span><span class=w> </span><span class=n>file</span><span class=p>.</span><span class=n>isReadOnly</span><span class=p>,</span><span class=w> </span><span class=n>file</span><span class=p>.</span><span class=n>isHidden</span><span class=p>);</span>
</span><span id=__span-63-15><a id=__codelineno-63-15 name=__codelineno-63-15 href=#__codelineno-63-15></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-63-16><a id=__codelineno-63-16 name=__codelineno-63-16 href=#__codelineno-63-16></a><span class=p>}</span>
</span></code></pre></div> <p><strong>解析</strong>：<code>FileAttributes</code> 是带有位域的结构体的别名，用于简化属性定义。</p> <hr> <p><strong>8. 定义通用数据类型</strong> 为便于跨平台开发，将特定平台的基础类型定义为通用类型。</p> <div class="language-c highlight"><pre><span></span><code><span id=__span-64-1><a id=__codelineno-64-1 name=__codelineno-64-1 href=#__codelineno-64-1></a><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;stdio.h&gt;</span>
</span><span id=__span-64-2><a id=__codelineno-64-2 name=__codelineno-64-2 href=#__codelineno-64-2></a>
</span><span id=__span-64-3><a id=__codelineno-64-3 name=__codelineno-64-3 href=#__codelineno-64-3></a><span class=c1>// 定义跨平台的整型别名</span>
</span><span id=__span-64-4><a id=__codelineno-64-4 name=__codelineno-64-4 href=#__codelineno-64-4></a><span class=k>typedef</span><span class=w> </span><span class=kt>unsigned</span><span class=w> </span><span class=kt>long</span><span class=w> </span><span class=kt>long</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>U64</span><span class=p>;</span>
</span><span id=__span-64-5><a id=__codelineno-64-5 name=__codelineno-64-5 href=#__codelineno-64-5></a>
</span><span id=__span-64-6><a id=__codelineno-64-6 name=__codelineno-64-6 href=#__codelineno-64-6></a><span class=kt>int</span><span class=w> </span><span class=nf>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-64-7><a id=__codelineno-64-7 name=__codelineno-64-7 href=#__codelineno-64-7></a><span class=w>    </span><span class=n>U64</span><span class=w> </span><span class=n>largeNumber</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1234567890123456789ULL</span><span class=p>;</span>
</span><span id=__span-64-8><a id=__codelineno-64-8 name=__codelineno-64-8 href=#__codelineno-64-8></a><span class=w>    </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;Large number: %llu</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=n>largeNumber</span><span class=p>);</span>
</span><span id=__span-64-9><a id=__codelineno-64-9 name=__codelineno-64-9 href=#__codelineno-64-9></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-64-10><a id=__codelineno-64-10 name=__codelineno-64-10 href=#__codelineno-64-10></a><span class=p>}</span>
</span></code></pre></div> <p><strong>解析</strong>：<code>U64</code> 是 <code>unsigned long long int</code> 的别名，用于表示 64 位无符号整数。</p> <hr> <details class=info> <summary>总结</summary> <p><code>typedef</code> 的用法非常灵活，常见场景包括： 1. 简化复杂类型的声明。 2. 提高代码可读性和语义性。 3. 增强代码的可维护性和可移植性。</p> <p>在不同的场景中，根据需求使用 <code>typedef</code> 可以使代码更加清晰简洁。</p> </details> <h3 id=_18>杂项<a class=headerlink href=#_18 title="Permanent link">&para;</a></h3> <details class=info> <summary>ASCII</summary> <table> <thead> <tr> <th>字符</th> <th>中文名称</th> <th>十进制</th> <th>十六进制</th> <th>八进制</th> <th>二进制</th> </tr> </thead> <tbody> <tr> <td>NUL</td> <td>空字符</td> <td>0</td> <td>0x00</td> <td>000</td> <td>00000000</td> </tr> <tr> <td>SOH</td> <td>标题开始</td> <td>1</td> <td>0x01</td> <td>001</td> <td>00000001</td> </tr> <tr> <td>STX</td> <td>正文开始</td> <td>2</td> <td>0x02</td> <td>002</td> <td>00000010</td> </tr> <tr> <td>ETX</td> <td>正文结束</td> <td>3</td> <td>0x03</td> <td>003</td> <td>00000011</td> </tr> <tr> <td>EOT</td> <td>传输结束</td> <td>4</td> <td>0x04</td> <td>004</td> <td>00000100</td> </tr> <tr> <td>ENQ</td> <td>请求</td> <td>5</td> <td>0x05</td> <td>005</td> <td>00000101</td> </tr> <tr> <td>ACK</td> <td>确认</td> <td>6</td> <td>0x06</td> <td>006</td> <td>00000110</td> </tr> <tr> <td>BEL</td> <td>响铃</td> <td>7</td> <td>0x07</td> <td>007</td> <td>00000111</td> </tr> <tr> <td>BS</td> <td>退格</td> <td>8</td> <td>0x08</td> <td>010</td> <td>00001000</td> </tr> <tr> <td>TAB</td> <td>水平制表符</td> <td>9</td> <td>0x09</td> <td>011</td> <td>00001001</td> </tr> <tr> <td>LF</td> <td>换行</td> <td>10</td> <td>0x0A</td> <td>012</td> <td>00001010</td> </tr> <tr> <td>VT</td> <td>垂直制表符</td> <td>11</td> <td>0x0B</td> <td>013</td> <td>00001011</td> </tr> <tr> <td>FF</td> <td>换页符</td> <td>12</td> <td>0x0C</td> <td>014</td> <td>00001100</td> </tr> <tr> <td>CR</td> <td>回车</td> <td>13</td> <td>0x0D</td> <td>015</td> <td>00001101</td> </tr> <tr> <td>SO</td> <td>禁止切换</td> <td>14</td> <td>0x0E</td> <td>016</td> <td>00001110</td> </tr> <tr> <td>SI</td> <td>允许切换</td> <td>15</td> <td>0x0F</td> <td>017</td> <td>00001111</td> </tr> <tr> <td>SP</td> <td>空格</td> <td>32</td> <td>0x20</td> <td>040</td> <td>00100000</td> </tr> <tr> <td>!</td> <td>感叹号</td> <td>33</td> <td>0x21</td> <td>041</td> <td>00100001</td> </tr> <tr> <td>"</td> <td>双引号</td> <td>34</td> <td>0x22</td> <td>042</td> <td>00100010</td> </tr> <tr> <td>#</td> <td>井号</td> <td>35</td> <td>0x23</td> <td>043</td> <td>00100011</td> </tr> <tr> <td>$</td> <td>美元符</td> <td>36</td> <td>0x24</td> <td>044</td> <td>00100100</td> </tr> <tr> <td>%</td> <td>百分号</td> <td>37</td> <td>0x25</td> <td>045</td> <td>00100101</td> </tr> <tr> <td>&amp;</td> <td>和号/商标符</td> <td>38</td> <td>0x26</td> <td>046</td> <td>00100110</td> </tr> <tr> <td>'</td> <td>单引号</td> <td>39</td> <td>0x27</td> <td>047</td> <td>00100111</td> </tr> <tr> <td>(</td> <td>左括号</td> <td>40</td> <td>0x28</td> <td>050</td> <td>00101000</td> </tr> <tr> <td>)</td> <td>右括号</td> <td>41</td> <td>0x29</td> <td>051</td> <td>00101001</td> </tr> <tr> <td>*</td> <td>星号</td> <td>42</td> <td>0x2A</td> <td>052</td> <td>00101010</td> </tr> <tr> <td>+</td> <td>加号</td> <td>43</td> <td>0x2B</td> <td>053</td> <td>00101011</td> </tr> <tr> <td>,</td> <td>逗号</td> <td>44</td> <td>0x2C</td> <td>054</td> <td>00101100</td> </tr> <tr> <td>-</td> <td>减号</td> <td>45</td> <td>0x2D</td> <td>055</td> <td>00101101</td> </tr> <tr> <td>.</td> <td>句号</td> <td>46</td> <td>0x2E</td> <td>056</td> <td>00101110</td> </tr> <tr> <td>/</td> <td>斜杠</td> <td>47</td> <td>0x2F</td> <td>057</td> <td>00101111</td> </tr> <tr> <td>0</td> <td>数字0</td> <td>48</td> <td>0x30</td> <td>060</td> <td>00110000</td> </tr> <tr> <td>1</td> <td>数字1</td> <td>49</td> <td>0x31</td> <td>061</td> <td>00110001</td> </tr> <tr> <td>2</td> <td>数字2</td> <td>50</td> <td>0x32</td> <td>062</td> <td>00110010</td> </tr> <tr> <td>3</td> <td>数字3</td> <td>51</td> <td>0x33</td> <td>063</td> <td>00110011</td> </tr> <tr> <td>4</td> <td>数字4</td> <td>52</td> <td>0x34</td> <td>064</td> <td>00110100</td> </tr> <tr> <td>5</td> <td>数字5</td> <td>53</td> <td>0x35</td> <td>065</td> <td>00110101</td> </tr> <tr> <td>6</td> <td>数字6</td> <td>54</td> <td>0x36</td> <td>066</td> <td>00110110</td> </tr> <tr> <td>7</td> <td>数字7</td> <td>55</td> <td>0x37</td> <td>067</td> <td>00110111</td> </tr> <tr> <td>8</td> <td>数字8</td> <td>56</td> <td>0x38</td> <td>070</td> <td>00111000</td> </tr> <tr> <td>9</td> <td>数字9</td> <td>57</td> <td>0x39</td> <td>071</td> <td>00111001</td> </tr> <tr> <td>:</td> <td>冒号</td> <td>58</td> <td>0x3A</td> <td>072</td> <td>00111010</td> </tr> <tr> <td>;</td> <td>分号</td> <td>59</td> <td>0x3B</td> <td>073</td> <td>00111011</td> </tr> <tr> <td>&lt;</td> <td>小于号</td> <td>60</td> <td>0x3C</td> <td>074</td> <td>00111100</td> </tr> <tr> <td>=</td> <td>等号</td> <td>61</td> <td>0x3D</td> <td>075</td> <td>00111101</td> </tr> <tr> <td>&gt;</td> <td>大于号</td> <td>62</td> <td>0x3E</td> <td>076</td> <td>00111110</td> </tr> <tr> <td>?</td> <td>问号</td> <td>63</td> <td>0x3F</td> <td>077</td> <td>00111111</td> </tr> <tr> <td>@</td> <td>电子邮件符</td> <td>64</td> <td>0x40</td> <td>100</td> <td>01000000</td> </tr> <tr> <td>A</td> <td>字母A</td> <td>65</td> <td>0x41</td> <td>101</td> <td>01000001</td> </tr> <tr> <td>B</td> <td>字母B</td> <td>66</td> <td>0x42</td> <td>102</td> <td>01000010</td> </tr> <tr> <td>C</td> <td>字母C</td> <td>67</td> <td>0x43</td> <td>103</td> <td>01000011</td> </tr> <tr> <td>D</td> <td>字母D</td> <td>68</td> <td>0x44</td> <td>104</td> <td>01000100</td> </tr> <tr> <td>E</td> <td>字母E</td> <td>69</td> <td>0x45</td> <td>105</td> <td>01000101</td> </tr> <tr> <td>F</td> <td>字母F</td> <td>70</td> <td>0x46</td> <td>106</td> <td>01000110</td> </tr> <tr> <td>G</td> <td>字母G</td> <td>71</td> <td>0x47</td> <td>107</td> <td>01000111</td> </tr> <tr> <td>H</td> <td>字母H</td> <td>72</td> <td>0x48</td> <td>110</td> <td>01001000</td> </tr> <tr> <td>I</td> <td>字母I</td> <td>73</td> <td>0x49</td> <td>111</td> <td>01001001</td> </tr> <tr> <td>J</td> <td>字母J</td> <td>74</td> <td>0x4A</td> <td>112</td> <td>01001010</td> </tr> <tr> <td>K</td> <td>字母K</td> <td>75</td> <td>0x4B</td> <td>113</td> <td>01001011</td> </tr> <tr> <td>L</td> <td>字母L</td> <td>76</td> <td>0x4C</td> <td>114</td> <td>01001100</td> </tr> <tr> <td>M</td> <td>字母M</td> <td>77</td> <td>0x4D</td> <td>115</td> <td>01001101</td> </tr> <tr> <td>N</td> <td>字母N</td> <td>78</td> <td>0x4E</td> <td>116</td> <td>01001110</td> </tr> <tr> <td>O</td> <td>字母O</td> <td>79</td> <td>0x4F</td> <td>117</td> <td>01001111</td> </tr> <tr> <td>P</td> <td>字母P</td> <td>80</td> <td>0x50</td> <td>120</td> <td>01010000</td> </tr> <tr> <td>Q</td> <td>字母Q</td> <td>81</td> <td>0x51</td> <td>121</td> <td>01010001</td> </tr> <tr> <td>R</td> <td>字母R</td> <td>82</td> <td>0x52</td> <td>122</td> <td>01010010</td> </tr> <tr> <td>S</td> <td>字母S</td> <td>83</td> <td>0x53</td> <td>123</td> <td>01010011</td> </tr> <tr> <td>T</td> <td>字母T</td> <td>84</td> <td>0x54</td> <td>124</td> <td>01010100</td> </tr> <tr> <td>U</td> <td>字母U</td> <td>85</td> <td>0x55</td> <td>125</td> <td>01010101</td> </tr> <tr> <td>V</td> <td>字母V</td> <td>86</td> <td>0x56</td> <td>126</td> <td>01010110</td> </tr> <tr> <td>W</td> <td>字母W</td> <td>87</td> <td>0x57</td> <td>127</td> <td>01010111</td> </tr> <tr> <td>X</td> <td>字母X</td> <td>88</td> <td>0x58</td> <td>130</td> <td>01011000</td> </tr> <tr> <td>Y</td> <td>字母Y</td> <td>89</td> <td>0x59</td> <td>131</td> <td>01011001</td> </tr> <tr> <td>Z</td> <td>字母Z</td> <td>90</td> <td>0x5A</td> <td>132</td> <td>01011010</td> </tr> <tr> <td>[</td> <td>左方括号</td> <td>91</td> <td>0x5B</td> <td>133</td> <td>01011011</td> </tr> <tr> <td>\</td> <td>反斜杠</td> <td>92</td> <td>0x5C</td> <td>134</td> <td>01011100</td> </tr> <tr> <td>]</td> <td>右方括号</td> <td>93</td> <td>0x5D</td> <td>135</td> <td>01011101</td> </tr> <tr> <td>^</td> <td>插入符号</td> <td>94</td> <td>0x5E</td> <td>136</td> <td>01011110</td> </tr> <tr> <td>_</td> <td>下划线</td> <td>95</td> <td>0x5F</td> <td>137</td> <td>01011111</td> </tr> <tr> <td>`</td> <td>反引号</td> <td>96</td> <td>0x60</td> <td>140</td> <td>01100000</td> </tr> <tr> <td>a</td> <td>字母a</td> <td>97</td> <td>0x61</td> <td>141</td> <td>01100001</td> </tr> <tr> <td>b</td> <td>字母b</td> <td>98</td> <td>0x62</td> <td>142</td> <td>01100010</td> </tr> <tr> <td>c</td> <td>字母c</td> <td>99</td> <td>0x63</td> <td>143</td> <td>01100011</td> </tr> <tr> <td>d</td> <td>字母d</td> <td>100</td> <td>0x64</td> <td>144</td> <td>01100100</td> </tr> <tr> <td>e</td> <td>字母e</td> <td>101</td> <td>0x65</td> <td>145</td> <td>01100101</td> </tr> <tr> <td>f</td> <td>字母f</td> <td>102</td> <td>0x66</td> <td>146</td> <td>01100110</td> </tr> <tr> <td>g</td> <td>字母g</td> <td>103</td> <td>0x67</td> <td>147</td> <td>01100111</td> </tr> <tr> <td>h</td> <td>字母h</td> <td>104</td> <td>0x68</td> <td>150</td> <td>01101000</td> </tr> <tr> <td>i</td> <td>字母i</td> <td>105</td> <td>0x69</td> <td>151</td> <td>01101001</td> </tr> <tr> <td>j</td> <td>字母j</td> <td>106</td> <td>0x6A</td> <td>152</td> <td>01101010</td> </tr> <tr> <td>k</td> <td>字母k</td> <td>107</td> <td>0x6B</td> <td>153</td> <td>01101011</td> </tr> <tr> <td>l</td> <td>字母l</td> <td>108</td> <td>0x6C</td> <td>154</td> <td>01101100</td> </tr> <tr> <td>m</td> <td>字母m</td> <td>109</td> <td>0x6D</td> <td>155</td> <td>01101101</td> </tr> <tr> <td>n</td> <td>字母n</td> <td>110</td> <td>0x6E</td> <td>156</td> <td>01101110</td> </tr> <tr> <td>o</td> <td>字母o</td> <td>111</td> <td>0x6F</td> <td>157</td> <td>01101111</td> </tr> <tr> <td>p</td> <td>字母p</td> <td>112</td> <td>0x70</td> <td>160</td> <td>01110000</td> </tr> <tr> <td>q</td> <td>字母q</td> <td>113</td> <td>0x71</td> <td>161</td> <td>01110001</td> </tr> <tr> <td>r</td> <td>字母r</td> <td>114</td> <td>0x72</td> <td>162</td> <td>01110010</td> </tr> <tr> <td>s</td> <td>字母s</td> <td>115</td> <td>0x73</td> <td>163</td> <td>01110011</td> </tr> <tr> <td>t</td> <td>字母t</td> <td>116</td> <td>0x74</td> <td>164</td> <td>01110100</td> </tr> <tr> <td>u</td> <td>字母u</td> <td>117</td> <td>0x75</td> <td>165</td> <td>01110101</td> </tr> <tr> <td>v</td> <td>字母v</td> <td>118</td> <td>0x76</td> <td>166</td> <td>01110110</td> </tr> <tr> <td>w</td> <td>字母w</td> <td>119</td> <td>0x77</td> <td>167</td> <td>01110111</td> </tr> <tr> <td>x</td> <td>字母x</td> <td>120</td> <td>0x78</td> <td>170</td> <td>01111000</td> </tr> <tr> <td>y</td> <td>字母y</td> <td>121</td> <td>0x79</td> <td>171</td> <td>01111001</td> </tr> <tr> <td>z</td> <td>字母z</td> <td>122</td> <td>0x7A</td> <td>172</td> <td>01111010</td> </tr> <tr> <td>{</td> <td>左花括号</td> <td>123</td> <td>0x7B</td> <td>173</td> <td>01111011</td> </tr> <tr> <td>|</td> <td>竖线</td> <td>124</td> <td>0x7C</td> <td>174</td> <td>01111100</td> </tr> <tr> <td>}</td> <td>右花括号</td> <td>125</td> <td>0x7D</td> <td>175</td> <td>01111101</td> </tr> <tr> <td>~</td> <td>波浪号</td> <td>126</td> <td>0x7E</td> <td>176</td> <td>01111110</td> </tr> <tr> <td>DEL</td> <td>删除</td> <td>127</td> <td>0x7F</td> <td>177</td> <td>01111111</td> </tr> </tbody> </table> <p>单个数字0(0)（ASCII的0位）就是'\0'；带引号的字符0('0') 是ASCII的48位</p> </details> <h2 id=_19>运算符和表达式<a class=headerlink href=#_19 title="Permanent link">&para;</a></h2> <div class="admonition success"> <p class=admonition-title>牢记几句话</p> <p>表达式的值</p> </div> <p><strong>表达式定义：</strong></p> <p>运算符 + 运算对象</p> <p>运算对象：常量、变量和函数等表达式</p> <p><strong>分类</strong></p> <p>算术表达式、赋值表达式、关系表达式、逻辑表达式、条件表达式和逗号表达式 </p> <h3 id=_20>优先级<a class=headerlink href=#_20 title="Permanent link">&para;</a></h3> <p>最好都加上括号</p> <p><a class=glightbox href=../res/images/image_1_1.png data-type=image data-width=auto data-height=auto data-desc-position=bottom><img alt="alt text" src=../res/images/image_1_1.png></a> <a class=glightbox href=../res/images/image-1_1.png data-type=image data-width=auto data-height=auto data-desc-position=bottom><img alt="alt text" src=../res/images/image-1_1.png></a> <a class=glightbox href=../res/images/image-2_1.png data-type=image data-width=auto data-height=auto data-desc-position=bottom><img alt="alt text" src=../res/images/image-2_1.png></a></p> <ul> <li> <p>逻辑表达式：C赋值：真1 假0</p> </li> <li> <p>循环判断：非零真</p> </li> <li> <p>++ --</p> <ul> <li>数据的值一样，表达式的值不一样<ul> <li>a++：表达式：a+1之前的值，把表达式的值赋给其他</li> <li>++a：表达式：a+1之后的值，把表达式的值赋给其他</li> </ul> </li> </ul> </li> <li> <p>只能对变量不能对表达式用</p> </li> <li> <p>左右结合：先从哪边算</p> </li> <li> <p>x = y = 3 : 不能在变量定义处用，可以后面用，结合顺序</p> </li> <li> <p>复合赋值：i+=1：更高效</p> </li> <li> <p>逻辑运算短路：</p> <ul> <li>||：前面真后面不算</li> <li>&amp;&amp;：前面假后面不算</li> </ul> </li> <li> <p>逗号运算符：值是最后一个子表达式的值</p> </li> </ul> <h3 id=_21>位运算<a class=headerlink href=#_21 title="Permanent link">&para;</a></h3> <p>结果是表达式的值</p> <div class="admonition warning"> <p class=admonition-title>重点</p> <p>计算机中，数字的储存、运算都是以 补码 形式</p> <p><code>Ctrl F 数字编码</code></p> </div> <h4 id=_22>位逻辑运算<a class=headerlink href=#_22 title="Permanent link">&para;</a></h4> <p><strong>~按位取反</strong></p> <p><strong><code>&amp;</code> 按位与</strong></p> <p><strong>特点：</strong> 全1才1</p> <p><strong>应用：</strong></p> <ol> <li> <p>让某一位或者某些位为0</p> <p>示例：<code>x &amp; 0xFE</code>：将最后一位变成0</p> </li> <li> <p>取一个数中的一段</p> <p>示例：<code>x &amp; 0xFF</code>：取出最后两个字节中的内容</p> </li> </ol> <p><strong><code>|</code> 按位或</strong></p> <p><strong>特点：</strong> 有1则1</p> <p><strong>应用：</strong></p> <ol> <li> <p>将某些位变为1：或上那一位为1的数</p> <p>示例：<code>x | 0x01</code>最右边一位为1</p> </li> <li> <p>将两个数拼起来</p> <p>示例：<code>0x00FF | 0xFF00</code></p> </li> </ol> <p>逻辑运算（<code>&amp;&amp;</code>、<code>||</code>）相当于将所有非0值都变成1，然后做按位对应运算</p> <p><strong><code>^</code> 按位异或</strong></p> <p><strong>特点</strong> ：</p> <ul> <li>两个位相同得0，不同得1</li> <li><code>x ^ y ^ y 变回到 x</code></li> </ul> <h4 id=_23>移位运算<a class=headerlink href=#_23 title="Permanent link">&para;</a></h4> <p>箭头朝向即为移动方向</p> <p>移动的位数为正</p> <p><code>i &lt;&lt; j</code> 对x的所有位左移j个位置，右边填入0</p> <ul> <li> <p><code>x &lt;&lt;= n</code> 大多数情况下等价于 <code>x *= $2^n$</code></p> <ul> <li> <p>当左移的位数超过位宽（<code>sizeof(int) * 8</code>）或有符号数符号位变化时，将导致未定义行为</p> </li> <li> <p>位移导致舍弃前面的位的情况也不是</p> </li> </ul> </li> </ul> <p><code>i &gt;&gt; j</code> 对x的所有位右移j个位置</p> <ul> <li>对于unsigned类型，左边填0</li> <li>对于signed类型，符号位保持不变，原来的高位移到地位</li> <li><code>x &gt;&gt;= n</code> 大多数情况下等价于 <code>x /= $2^n$</code></li> </ul> <p>直接遗弃超出范围的位</p> <h4 id=_24>复合位赋值运算<a class=headerlink href=#_24 title="Permanent link">&para;</a></h4> <ul> <li><code>&amp;=</code>, <code>|=</code>, <code>^=</code>, <code>&gt;&gt;=</code>, <code>&lt;&lt;=</code></li> </ul> <p><code>a &amp;= b</code> 等价于 <code>a = a &amp; b</code>； <code>a &gt;&gt;= 3</code> 等价于 <code>a = a &gt;&gt; 3</code></p> <h4 id=_25>应用<a class=headerlink href=#_25 title="Permanent link">&para;</a></h4> <ol> <li> <p>伪转换二进制 <div class="language-c highlight"><pre><span></span><code><span id=__span-65-1><a id=__codelineno-65-1 name=__codelineno-65-1 href=#__codelineno-65-1></a><span class=n>include</span><span class=o>&lt;</span><span class=n>stdio</span><span class=p>.</span><span class=n>h</span><span class=o>&gt;</span>
</span><span id=__span-65-2><a id=__codelineno-65-2 name=__codelineno-65-2 href=#__codelineno-65-2></a><span class=kt>int</span><span class=w> </span><span class=n>main</span><span class=p>()</span>
</span><span id=__span-65-3><a id=__codelineno-65-3 name=__codelineno-65-3 href=#__codelineno-65-3></a><span class=p>{</span>
</span><span id=__span-65-4><a id=__codelineno-65-4 name=__codelineno-65-4 href=#__codelineno-65-4></a><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>num</span><span class=p>;</span>
</span><span id=__span-65-5><a id=__codelineno-65-5 name=__codelineno-65-5 href=#__codelineno-65-5></a><span class=w>    </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;please enter your number: &quot;</span><span class=p>);</span>
</span><span id=__span-65-6><a id=__codelineno-65-6 name=__codelineno-65-6 href=#__codelineno-65-6></a><span class=w>    </span><span class=n>scanf</span><span class=p>(</span><span class=s>&quot;%x&quot;</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=n>num</span><span class=p>);</span>
</span><span id=__span-65-7><a id=__codelineno-65-7 name=__codelineno-65-7 href=#__codelineno-65-7></a><span class=w>    </span><span class=kt>unsigned</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>mask</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1u</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=mi>31</span><span class=p>;</span>
</span><span id=__span-65-8><a id=__codelineno-65-8 name=__codelineno-65-8 href=#__codelineno-65-8></a><span class=w>    </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;the binary of your number is: &quot;</span><span class=p>);</span>
</span><span id=__span-65-9><a id=__codelineno-65-9 name=__codelineno-65-9 href=#__codelineno-65-9></a><span class=w>    </span><span class=k>for</span><span class=p>(;</span><span class=w> </span><span class=n>mask</span><span class=p>;</span><span class=w> </span><span class=n>mask</span><span class=w> </span><span class=o>&gt;&gt;=</span><span class=w> </span><span class=mi>1</span><span class=p>){</span>
</span><span id=__span-65-10><a id=__codelineno-65-10 name=__codelineno-65-10 href=#__codelineno-65-10></a><span class=w>        </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%d&quot;</span><span class=p>,</span><span class=w> </span><span class=n>num</span><span class=w> </span><span class=o>&amp;</span><span class=w> </span><span class=n>mask</span><span class=w> </span><span class=o>?</span><span class=w> </span><span class=mi>1</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=mi>0</span><span class=p>);</span>
</span><span id=__span-65-11><a id=__codelineno-65-11 name=__codelineno-65-11 href=#__codelineno-65-11></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-65-12><a id=__codelineno-65-12 name=__codelineno-65-12 href=#__codelineno-65-12></a><span class=w>    </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>);</span>
</span><span id=__span-65-13><a id=__codelineno-65-13 name=__codelineno-65-13 href=#__codelineno-65-13></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-65-14><a id=__codelineno-65-14 name=__codelineno-65-14 href=#__codelineno-65-14></a><span class=p>}</span>
</span></code></pre></div></p> </li> <li> <p>单片机</p> </li> </ol> <h4 id=_26>位段<a class=headerlink href=#_26 title="Permanent link">&para;</a></h4> <p><strong>语法：</strong></p> <div class="language-c highlight"><pre><span></span><code><span id=__span-66-1><a id=__codelineno-66-1 name=__codelineno-66-1 href=#__codelineno-66-1></a><span class=k>struct</span><span class=w> </span><span class=nc>位段名</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-66-2><a id=__codelineno-66-2 name=__codelineno-66-2 href=#__codelineno-66-2></a><span class=w>    </span><span class=n>数据类型</span><span class=w> </span><span class=n>成员名</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=n>位宽</span><span class=p>;</span>
</span><span id=__span-66-3><a id=__codelineno-66-3 name=__codelineno-66-3 href=#__codelineno-66-3></a><span class=w>    </span><span class=n>数据类型</span><span class=w> </span><span class=n>成员名</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=n>位宽</span><span class=p>;</span>
</span><span id=__span-66-4><a id=__codelineno-66-4 name=__codelineno-66-4 href=#__codelineno-66-4></a><span class=w>    </span><span class=cm>/*重复上述*/</span>
</span><span id=__span-66-5><a id=__codelineno-66-5 name=__codelineno-66-5 href=#__codelineno-66-5></a><span class=p>};</span>
</span></code></pre></div> <ul> <li>可以直接用位段的成员名访问</li> </ul> <p><strong>注意事项：</strong></p> <ul> <li> <p>存储大小与对齐：</p> <p>位段的存储大小通常以 int 或 unsigned int 为单位，且会受编译器的内存对齐策略影响。</p> <p>多个位段成员<strong>可能共享同一个存储单元</strong>（如果其总位宽小于存储单元大小），但如果超出单元大小，会分配下一个单元。</p> <ul> <li> <p>即，所需的位超过一个int时会采用多个int</p> </li> <li> <p>因此，<strong>访问位段成员的地址的操作是有语法错误的</strong></p> </li> </ul> </li> <li> <p>数据类型的限制：</p> <p>位段成员通常只能是 int 或 unsigned int，具体限制依赖于编译器。</p> </li> <li> <p>移植性问题：</p> <p>不同编译器和平台对位段的实现（如存储顺序、对齐方式）可能不同，可移植性较差。</p> </li> <li> <p>位宽限制：</p> <p>位宽不能超过存储单位的大小。例如，如果 int 是 32 位，位宽不能大于 32。</p> </li> </ul> <p><strong>示例：</strong></p> <div class="language-c highlight"><pre><span></span><code><span id=__span-67-1><a id=__codelineno-67-1 name=__codelineno-67-1 href=#__codelineno-67-1></a><span class=k>struct</span><span class=w> </span><span class=nc>U0</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-67-2><a id=__codelineno-67-2 name=__codelineno-67-2 href=#__codelineno-67-2></a><span class=w>    </span><span class=kt>unsigned</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>leading</span><span class=o>:</span><span class=w> </span><span class=mi>3</span><span class=p>;</span>
</span><span id=__span-67-3><a id=__codelineno-67-3 name=__codelineno-67-3 href=#__codelineno-67-3></a><span class=w>    </span><span class=kt>unsigned</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>FLAG1</span><span class=o>:</span><span class=w> </span><span class=mi>1</span><span class=p>;</span>
</span><span id=__span-67-4><a id=__codelineno-67-4 name=__codelineno-67-4 href=#__codelineno-67-4></a><span class=w>    </span><span class=kt>unsigned</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>FLAG2</span><span class=o>:</span><span class=w> </span><span class=mi>1</span><span class=p>;</span>
</span><span id=__span-67-5><a id=__codelineno-67-5 name=__codelineno-67-5 href=#__codelineno-67-5></a><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>trailing</span><span class=o>:</span><span class=w> </span><span class=mi>27</span><span class=p>;</span>
</span><span id=__span-67-6><a id=__codelineno-67-6 name=__codelineno-67-6 href=#__codelineno-67-6></a><span class=p>};</span>
</span><span id=__span-67-7><a id=__codelineno-67-7 name=__codelineno-67-7 href=#__codelineno-67-7></a>
</span><span id=__span-67-8><a id=__codelineno-67-8 name=__codelineno-67-8 href=#__codelineno-67-8></a><span class=kt>void</span><span class=w> </span><span class=nf>toBinary</span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>num</span><span class=p>)</span>
</span><span id=__span-67-9><a id=__codelineno-67-9 name=__codelineno-67-9 href=#__codelineno-67-9></a><span class=p>{</span>
</span><span id=__span-67-10><a id=__codelineno-67-10 name=__codelineno-67-10 href=#__codelineno-67-10></a><span class=w>    </span><span class=kt>unsigned</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>mask</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1u</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=mi>31</span><span class=p>;</span>
</span><span id=__span-67-11><a id=__codelineno-67-11 name=__codelineno-67-11 href=#__codelineno-67-11></a><span class=w>    </span><span class=k>for</span><span class=p>(;</span><span class=w> </span><span class=n>mask</span><span class=p>;</span><span class=w> </span><span class=n>mask</span><span class=w> </span><span class=o>&gt;&gt;=</span><span class=w> </span><span class=mi>1</span><span class=p>){</span>
</span><span id=__span-67-12><a id=__codelineno-67-12 name=__codelineno-67-12 href=#__codelineno-67-12></a><span class=w>        </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%d&quot;</span><span class=p>,</span><span class=w> </span><span class=n>num</span><span class=w> </span><span class=o>&amp;</span><span class=w> </span><span class=n>mask</span><span class=w> </span><span class=o>?</span><span class=w> </span><span class=mi>1</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=mi>0</span><span class=p>);</span>
</span><span id=__span-67-13><a id=__codelineno-67-13 name=__codelineno-67-13 href=#__codelineno-67-13></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-67-14><a id=__codelineno-67-14 name=__codelineno-67-14 href=#__codelineno-67-14></a><span class=p>}</span>
</span><span id=__span-67-15><a id=__codelineno-67-15 name=__codelineno-67-15 href=#__codelineno-67-15></a>
</span><span id=__span-67-16><a id=__codelineno-67-16 name=__codelineno-67-16 href=#__codelineno-67-16></a><span class=kt>int</span><span class=w> </span><span class=nf>main</span><span class=p>()</span>
</span><span id=__span-67-17><a id=__codelineno-67-17 name=__codelineno-67-17 href=#__codelineno-67-17></a><span class=p>{</span>
</span><span id=__span-67-18><a id=__codelineno-67-18 name=__codelineno-67-18 href=#__codelineno-67-18></a><span class=w>    </span><span class=k>struct</span><span class=w> </span><span class=nc>U0</span><span class=w> </span><span class=n>num1</span><span class=p>,</span><span class=w> </span><span class=n>num2</span><span class=p>;</span>
</span><span id=__span-67-19><a id=__codelineno-67-19 name=__codelineno-67-19 href=#__codelineno-67-19></a><span class=w>    </span><span class=n>num2</span><span class=p>.</span><span class=n>leading</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>2</span><span class=p>;</span>
</span><span id=__span-67-20><a id=__codelineno-67-20 name=__codelineno-67-20 href=#__codelineno-67-20></a><span class=w>    </span><span class=n>num2</span><span class=p>.</span><span class=n>FLAG1</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span><span class=p>;</span>
</span><span id=__span-67-21><a id=__codelineno-67-21 name=__codelineno-67-21 href=#__codelineno-67-21></a><span class=w>    </span><span class=n>num2</span><span class=p>.</span><span class=n>FLAG2</span><span class=w>  </span><span class=o>=</span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-67-22><a id=__codelineno-67-22 name=__codelineno-67-22 href=#__codelineno-67-22></a><span class=w>    </span><span class=n>num2</span><span class=p>.</span><span class=n>trailing</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-67-23><a id=__codelineno-67-23 name=__codelineno-67-23 href=#__codelineno-67-23></a><span class=w>    </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;please enter your number_1: &quot;</span><span class=p>);</span>
</span><span id=__span-67-24><a id=__codelineno-67-24 name=__codelineno-67-24 href=#__codelineno-67-24></a><span class=w>    </span><span class=n>scanf</span><span class=p>(</span><span class=s>&quot;%x&quot;</span><span class=p>,</span><span class=w> </span><span class=o>&amp;*</span><span class=p>(</span><span class=kt>int</span><span class=o>*</span><span class=p>)</span><span class=o>&amp;</span><span class=n>num1</span><span class=p>);</span>
</span><span id=__span-67-25><a id=__codelineno-67-25 name=__codelineno-67-25 href=#__codelineno-67-25></a><span class=w>    </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;the binary of your number_1 is: &quot;</span><span class=p>);</span>
</span><span id=__span-67-26><a id=__codelineno-67-26 name=__codelineno-67-26 href=#__codelineno-67-26></a><span class=w>    </span><span class=n>toBinary</span><span class=p>(</span><span class=o>*</span><span class=p>(</span><span class=kt>int</span><span class=o>*</span><span class=p>)</span><span class=o>&amp;</span><span class=n>num1</span><span class=p>);</span>
</span><span id=__span-67-27><a id=__codelineno-67-27 name=__codelineno-67-27 href=#__codelineno-67-27></a><span class=w>    </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>);</span>
</span><span id=__span-67-28><a id=__codelineno-67-28 name=__codelineno-67-28 href=#__codelineno-67-28></a><span class=w>    </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;the binary of your number_1 is: &quot;</span><span class=p>);</span>
</span><span id=__span-67-29><a id=__codelineno-67-29 name=__codelineno-67-29 href=#__codelineno-67-29></a><span class=w>    </span><span class=n>toBinary</span><span class=p>(</span><span class=o>*</span><span class=p>(</span><span class=kt>int</span><span class=o>*</span><span class=p>)</span><span class=o>&amp;</span><span class=n>num2</span><span class=p>);</span>
</span><span id=__span-67-30><a id=__codelineno-67-30 name=__codelineno-67-30 href=#__codelineno-67-30></a><span class=w>    </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>);</span>
</span><span id=__span-67-31><a id=__codelineno-67-31 name=__codelineno-67-31 href=#__codelineno-67-31></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-67-32><a id=__codelineno-67-32 name=__codelineno-67-32 href=#__codelineno-67-32></a><span class=p>}</span>
</span></code></pre></div> <p><strong>应用场景：</strong> 底层，对硬件的操作</p> <ul> <li> <p>嵌入式开发：</p> <p>在嵌入式系统中，用位段模拟硬件寄存器的各个位字段。 - 网络协议：</p> <p>用位段解析网络协议的标志字段（如 TCP/IP 报头）。 - 标志集合：</p> <p>用位段压缩存储多个布尔标志，以节省内存。</p> </li> </ul> <h2 id=_27>循环和分支<a class=headerlink href=#_27 title="Permanent link">&para;</a></h2> <p>循环：</p> <ul> <li>for </li> <li>while </li> <li>do while</li> </ul> <h3 id=_28>语法<a class=headerlink href=#_28 title="Permanent link">&para;</a></h3> <p><strong><code>do while</code> 的语法</strong> <div class="language-c highlight"><pre><span></span><code><span id=__span-68-1><a id=__codelineno-68-1 name=__codelineno-68-1 href=#__codelineno-68-1></a><span class=kt>int</span><span class=w> </span><span class=nf>main</span><span class=p>()</span>
</span><span id=__span-68-2><a id=__codelineno-68-2 name=__codelineno-68-2 href=#__codelineno-68-2></a><span class=p>{</span>
</span><span id=__span-68-3><a id=__codelineno-68-3 name=__codelineno-68-3 href=#__codelineno-68-3></a><span class=w>    </span><span class=k>do</span>
</span><span id=__span-68-4><a id=__codelineno-68-4 name=__codelineno-68-4 href=#__codelineno-68-4></a><span class=w>    </span><span class=p>{</span>
</span><span id=__span-68-5><a id=__codelineno-68-5 name=__codelineno-68-5 href=#__codelineno-68-5></a><span class=w>        </span><span class=cm>/* code */</span>
</span><span id=__span-68-6><a id=__codelineno-68-6 name=__codelineno-68-6 href=#__codelineno-68-6></a><span class=w>    </span><span class=p>}</span><span class=w> </span><span class=k>while</span><span class=w> </span><span class=p>(</span><span class=cm>/* condition */</span><span class=p>);</span>
</span><span id=__span-68-7><a id=__codelineno-68-7 name=__codelineno-68-7 href=#__codelineno-68-7></a><span class=p>}</span>
</span></code></pre></div> 很好用，意义是不管任何条件先做一次，适用于条件判断处有特殊情况时。例如输入的数字是0，条件判断是 <code>&gt; 0</code> </p> <p>当 <code>while</code> 做出错时，试试 <code>do while</code></p> <p><strong>灵活：</strong></p> <ul> <li> <p>for内部：<code>(起始条件; 条件判断; 结束条件)</code></p> <ul> <li>内部三处均可按需省略，保留两个分号即可</li> <li>不一定只能有一个变量，几个条件不一定必须是只含 <code>i</code> 的逻辑表达式</li> </ul> </li> <li> <p>何时开始何时结束</p> <div class="language-c highlight"><pre><span></span><code><span id=__span-69-1><a id=__codelineno-69-1 name=__codelineno-69-1 href=#__codelineno-69-1></a><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;stdio.h&gt;</span>
</span><span id=__span-69-2><a id=__codelineno-69-2 name=__codelineno-69-2 href=#__codelineno-69-2></a><span class=cp>#include</span><span class=cpf>&lt;stdlib.h&gt;</span>
</span><span id=__span-69-3><a id=__codelineno-69-3 name=__codelineno-69-3 href=#__codelineno-69-3></a><span class=cp>#include</span><span class=cpf>&lt;string.h&gt;</span>
</span><span id=__span-69-4><a id=__codelineno-69-4 name=__codelineno-69-4 href=#__codelineno-69-4></a><span class=kt>int</span><span class=w> </span><span class=nf>main</span><span class=p>(</span><span class=kt>void</span><span class=p>)</span>
</span><span id=__span-69-5><a id=__codelineno-69-5 name=__codelineno-69-5 href=#__codelineno-69-5></a><span class=p>{</span>
</span><span id=__span-69-6><a id=__codelineno-69-6 name=__codelineno-69-6 href=#__codelineno-69-6></a><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>i</span><span class=p>,</span><span class=w> </span><span class=n>n</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-69-7><a id=__codelineno-69-7 name=__codelineno-69-7 href=#__codelineno-69-7></a><span class=w>    </span><span class=kt>char</span><span class=w> </span><span class=o>*</span><span class=n>color</span><span class=p>[</span><span class=mi>20</span><span class=p>],</span><span class=w> </span><span class=n>str</span><span class=p>[</span><span class=mi>15</span><span class=p>];</span>
</span><span id=__span-69-8><a id=__codelineno-69-8 name=__codelineno-69-8 href=#__codelineno-69-8></a><span class=w>    </span><span class=n>scanf</span><span class=p>(</span><span class=s>&quot;%s&quot;</span><span class=p>,</span><span class=w> </span><span class=n>str</span><span class=p>);</span>
</span><span id=__span-69-9><a id=__codelineno-69-9 name=__codelineno-69-9 href=#__codelineno-69-9></a><span class=w>    </span><span class=k>while</span><span class=p>(</span><span class=n>str</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=sc>&#39;#&#39;</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-69-10><a id=__codelineno-69-10 name=__codelineno-69-10 href=#__codelineno-69-10></a><span class=w>        </span><span class=n>color</span><span class=p>[</span><span class=n>n</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>(</span><span class=kt>char</span><span class=w> </span><span class=o>*</span><span class=p>)</span><span class=n>malloc</span><span class=p>(</span><span class=k>sizeof</span><span class=p>(</span><span class=kt>char</span><span class=p>)</span><span class=o>*</span><span class=p>(</span><span class=n>strlen</span><span class=p>(</span><span class=n>str</span><span class=p>)</span><span class=o>+</span><span class=mi>1</span><span class=p>));</span><span class=w> </span>
</span><span id=__span-69-11><a id=__codelineno-69-11 name=__codelineno-69-11 href=#__codelineno-69-11></a><span class=w>        </span><span class=n>strcpy</span><span class=p>(</span><span class=n>color</span><span class=p>[</span><span class=n>n</span><span class=p>],</span><span class=w> </span><span class=n>str</span><span class=p>);</span><span class=w>     </span>
</span><span id=__span-69-12><a id=__codelineno-69-12 name=__codelineno-69-12 href=#__codelineno-69-12></a><span class=w>        </span><span class=n>n</span><span class=o>++</span><span class=p>;</span>
</span><span id=__span-69-13><a id=__codelineno-69-13 name=__codelineno-69-13 href=#__codelineno-69-13></a><span class=w>        </span><span class=n>scanf</span><span class=p>(</span><span class=s>&quot;%s&quot;</span><span class=p>,</span><span class=w> </span><span class=n>str</span><span class=p>);</span>
</span><span id=__span-69-14><a id=__codelineno-69-14 name=__codelineno-69-14 href=#__codelineno-69-14></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-69-15><a id=__codelineno-69-15 name=__codelineno-69-15 href=#__codelineno-69-15></a>
</span><span id=__span-69-16><a id=__codelineno-69-16 name=__codelineno-69-16 href=#__codelineno-69-16></a><span class=w>    </span><span class=k>for</span><span class=p>(</span><span class=n>i</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>n</span><span class=mi>-1</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>&gt;=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=o>--</span><span class=p>)</span>
</span><span id=__span-69-17><a id=__codelineno-69-17 name=__codelineno-69-17 href=#__codelineno-69-17></a><span class=w>        </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%s  &quot;</span><span class=p>,</span><span class=w> </span><span class=n>color</span><span class=p>[</span><span class=n>i</span><span class=p>]);</span>
</span><span id=__span-69-18><a id=__codelineno-69-18 name=__codelineno-69-18 href=#__codelineno-69-18></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-69-19><a id=__codelineno-69-19 name=__codelineno-69-19 href=#__codelineno-69-19></a><span class=p>}</span>
</span></code></pre></div> </li> </ul> <h3 id=_29>示例<a class=headerlink href=#_29 title="Permanent link">&para;</a></h3> <p>写无限循环遇到某条件跳出： <div class="language-c highlight"><pre><span></span><code><span id=__span-70-1><a id=__codelineno-70-1 name=__codelineno-70-1 href=#__codelineno-70-1></a><span class=k>for</span><span class=p>(</span><span class=n>i</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span><span class=w> </span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=o>++</span><span class=p>){</span>
</span><span id=__span-70-2><a id=__codelineno-70-2 name=__codelineno-70-2 href=#__codelineno-70-2></a><span class=w>    </span><span class=k>if</span><span class=p>(</span><span class=cm>/*条件*/</span><span class=p>)</span><span class=w> </span><span class=k>break</span><span class=p>;</span>
</span><span id=__span-70-3><a id=__codelineno-70-3 name=__codelineno-70-3 href=#__codelineno-70-3></a><span class=w>    </span><span class=k>else</span><span class=w> </span><span class=cm>/*代码块例如cnt++*/</span><span class=p>;</span>
</span><span id=__span-70-4><a id=__codelineno-70-4 name=__codelineno-70-4 href=#__codelineno-70-4></a><span class=p>}</span>
</span></code></pre></div> <div class="language-c highlight"><pre><span></span><code><span id=__span-71-1><a id=__codelineno-71-1 name=__codelineno-71-1 href=#__codelineno-71-1></a><span class=k>while</span><span class=p>(</span><span class=mi>1</span><span class=p>){</span>
</span><span id=__span-71-2><a id=__codelineno-71-2 name=__codelineno-71-2 href=#__codelineno-71-2></a><span class=w>    </span><span class=cm>/*代码块例如cnt++*/</span><span class=p>;</span>
</span><span id=__span-71-3><a id=__codelineno-71-3 name=__codelineno-71-3 href=#__codelineno-71-3></a><span class=w>    </span><span class=k>if</span><span class=p>(</span><span class=cm>/*条件*/</span><span class=p>)</span><span class=w> </span><span class=k>break</span><span class=p>;</span>
</span><span id=__span-71-4><a id=__codelineno-71-4 name=__codelineno-71-4 href=#__codelineno-71-4></a><span class=p>}</span>
</span></code></pre></div></p> <p>分支</p> <p><code>if</code></p> <p><code>switch</code></p> <div class="language-c highlight"><pre><span></span><code><span id=__span-72-1><a id=__codelineno-72-1 name=__codelineno-72-1 href=#__codelineno-72-1></a><span class=k>switch</span><span class=w> </span><span class=p>(</span><span class=n>expression</span><span class=p>)</span>
</span><span id=__span-72-2><a id=__codelineno-72-2 name=__codelineno-72-2 href=#__codelineno-72-2></a><span class=p>{</span>
</span><span id=__span-72-3><a id=__codelineno-72-3 name=__codelineno-72-3 href=#__codelineno-72-3></a><span class=k>case</span><span class=w> </span><span class=cm>/* constant-expression */</span><span class=p>:</span><span class=w>  </span><span class=c1>//一定得是常量</span>
</span><span id=__span-72-4><a id=__codelineno-72-4 name=__codelineno-72-4 href=#__codelineno-72-4></a><span class=w>    </span><span class=cm>/* code */</span>
</span><span id=__span-72-5><a id=__codelineno-72-5 name=__codelineno-72-5 href=#__codelineno-72-5></a><span class=w>    </span><span class=k>break</span><span class=p>;</span>
</span><span id=__span-72-6><a id=__codelineno-72-6 name=__codelineno-72-6 href=#__codelineno-72-6></a>
</span><span id=__span-72-7><a id=__codelineno-72-7 name=__codelineno-72-7 href=#__codelineno-72-7></a><span class=k>default</span><span class=o>:</span>
</span><span id=__span-72-8><a id=__codelineno-72-8 name=__codelineno-72-8 href=#__codelineno-72-8></a><span class=w>    </span><span class=k>break</span><span class=p>;</span>
</span><span id=__span-72-9><a id=__codelineno-72-9 name=__codelineno-72-9 href=#__codelineno-72-9></a><span class=p>}</span>
</span></code></pre></div> <p><strong>示例：</strong></p> <p>模拟一个<strong>内存管理操作系统的命令行界面</strong>，提供查看内存状态、分配内存、释放内存和退出操作。</p> <div class="language-c highlight"><pre><span></span><code><span id=__span-73-1><a id=__codelineno-73-1 name=__codelineno-73-1 href=#__codelineno-73-1></a><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;stdio.h&gt;</span>
</span><span id=__span-73-2><a id=__codelineno-73-2 name=__codelineno-73-2 href=#__codelineno-73-2></a><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;stdlib.h&gt;</span>
</span><span id=__span-73-3><a id=__codelineno-73-3 name=__codelineno-73-3 href=#__codelineno-73-3></a><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;string.h&gt;</span>
</span><span id=__span-73-4><a id=__codelineno-73-4 name=__codelineno-73-4 href=#__codelineno-73-4></a>
</span><span id=__span-73-5><a id=__codelineno-73-5 name=__codelineno-73-5 href=#__codelineno-73-5></a><span class=cp>#define MAX_BLOCKS 10  </span><span class=c1>// 最大内存块数</span>
</span><span id=__span-73-6><a id=__codelineno-73-6 name=__codelineno-73-6 href=#__codelineno-73-6></a>
</span><span id=__span-73-7><a id=__codelineno-73-7 name=__codelineno-73-7 href=#__codelineno-73-7></a><span class=k>typedef</span><span class=w> </span><span class=k>struct</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-73-8><a id=__codelineno-73-8 name=__codelineno-73-8 href=#__codelineno-73-8></a><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>id</span><span class=p>;</span><span class=w>       </span><span class=c1>// 内存块 ID</span>
</span><span id=__span-73-9><a id=__codelineno-73-9 name=__codelineno-73-9 href=#__codelineno-73-9></a><span class=w>    </span><span class=kt>size_t</span><span class=w> </span><span class=n>size</span><span class=p>;</span><span class=w>  </span><span class=c1>// 内存块大小</span>
</span><span id=__span-73-10><a id=__codelineno-73-10 name=__codelineno-73-10 href=#__codelineno-73-10></a><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>in_use</span><span class=p>;</span><span class=w>   </span><span class=c1>// 是否正在使用（1 表示使用中，0 表示未使用）</span>
</span><span id=__span-73-11><a id=__codelineno-73-11 name=__codelineno-73-11 href=#__codelineno-73-11></a><span class=p>}</span><span class=w> </span><span class=n>MemoryBlock</span><span class=p>;</span>
</span><span id=__span-73-12><a id=__codelineno-73-12 name=__codelineno-73-12 href=#__codelineno-73-12></a>
</span><span id=__span-73-13><a id=__codelineno-73-13 name=__codelineno-73-13 href=#__codelineno-73-13></a><span class=n>MemoryBlock</span><span class=w> </span><span class=n>memory</span><span class=p>[</span><span class=n>MAX_BLOCKS</span><span class=p>];</span><span class=w>  </span><span class=c1>// 模拟内存块数组</span>
</span><span id=__span-73-14><a id=__codelineno-73-14 name=__codelineno-73-14 href=#__codelineno-73-14></a>
</span><span id=__span-73-15><a id=__codelineno-73-15 name=__codelineno-73-15 href=#__codelineno-73-15></a><span class=kt>void</span><span class=w> </span><span class=nf>initialize_memory</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-73-16><a id=__codelineno-73-16 name=__codelineno-73-16 href=#__codelineno-73-16></a><span class=w>    </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>MAX_BLOCKS</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=o>++</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-73-17><a id=__codelineno-73-17 name=__codelineno-73-17 href=#__codelineno-73-17></a><span class=w>        </span><span class=n>memory</span><span class=p>[</span><span class=n>i</span><span class=p>].</span><span class=n>id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>i</span><span class=p>;</span>
</span><span id=__span-73-18><a id=__codelineno-73-18 name=__codelineno-73-18 href=#__codelineno-73-18></a><span class=w>        </span><span class=n>memory</span><span class=p>[</span><span class=n>i</span><span class=p>].</span><span class=n>size</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-73-19><a id=__codelineno-73-19 name=__codelineno-73-19 href=#__codelineno-73-19></a><span class=w>        </span><span class=n>memory</span><span class=p>[</span><span class=n>i</span><span class=p>].</span><span class=n>in_use</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-73-20><a id=__codelineno-73-20 name=__codelineno-73-20 href=#__codelineno-73-20></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-73-21><a id=__codelineno-73-21 name=__codelineno-73-21 href=#__codelineno-73-21></a><span class=p>}</span>
</span><span id=__span-73-22><a id=__codelineno-73-22 name=__codelineno-73-22 href=#__codelineno-73-22></a>
</span><span id=__span-73-23><a id=__codelineno-73-23 name=__codelineno-73-23 href=#__codelineno-73-23></a><span class=kt>void</span><span class=w> </span><span class=nf>view_memory</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-73-24><a id=__codelineno-73-24 name=__codelineno-73-24 href=#__codelineno-73-24></a><span class=w>    </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;</span><span class=se>\n</span><span class=s>=== 内存状态 ===</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>);</span>
</span><span id=__span-73-25><a id=__codelineno-73-25 name=__codelineno-73-25 href=#__codelineno-73-25></a><span class=w>    </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>MAX_BLOCKS</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=o>++</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-73-26><a id=__codelineno-73-26 name=__codelineno-73-26 href=#__codelineno-73-26></a><span class=w>        </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;块 ID: %d, 大小: %zu 字节, 状态: %s</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span>
</span><span id=__span-73-27><a id=__codelineno-73-27 name=__codelineno-73-27 href=#__codelineno-73-27></a><span class=w>               </span><span class=n>memory</span><span class=p>[</span><span class=n>i</span><span class=p>].</span><span class=n>id</span><span class=p>,</span>
</span><span id=__span-73-28><a id=__codelineno-73-28 name=__codelineno-73-28 href=#__codelineno-73-28></a><span class=w>               </span><span class=n>memory</span><span class=p>[</span><span class=n>i</span><span class=p>].</span><span class=n>size</span><span class=p>,</span>
</span><span id=__span-73-29><a id=__codelineno-73-29 name=__codelineno-73-29 href=#__codelineno-73-29></a><span class=w>               </span><span class=n>memory</span><span class=p>[</span><span class=n>i</span><span class=p>].</span><span class=n>in_use</span><span class=w> </span><span class=o>?</span><span class=w> </span><span class=s>&quot;已分配&quot;</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=s>&quot;未分配&quot;</span><span class=p>);</span>
</span><span id=__span-73-30><a id=__codelineno-73-30 name=__codelineno-73-30 href=#__codelineno-73-30></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-73-31><a id=__codelineno-73-31 name=__codelineno-73-31 href=#__codelineno-73-31></a><span class=p>}</span>
</span><span id=__span-73-32><a id=__codelineno-73-32 name=__codelineno-73-32 href=#__codelineno-73-32></a>
</span><span id=__span-73-33><a id=__codelineno-73-33 name=__codelineno-73-33 href=#__codelineno-73-33></a><span class=kt>void</span><span class=w> </span><span class=nf>allocate_memory</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-73-34><a id=__codelineno-73-34 name=__codelineno-73-34 href=#__codelineno-73-34></a><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>id</span><span class=p>;</span>
</span><span id=__span-73-35><a id=__codelineno-73-35 name=__codelineno-73-35 href=#__codelineno-73-35></a><span class=w>    </span><span class=kt>size_t</span><span class=w> </span><span class=n>size</span><span class=p>;</span>
</span><span id=__span-73-36><a id=__codelineno-73-36 name=__codelineno-73-36 href=#__codelineno-73-36></a>
</span><span id=__span-73-37><a id=__codelineno-73-37 name=__codelineno-73-37 href=#__codelineno-73-37></a><span class=w>    </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;请输入要分配的块 ID (0-%d): &quot;</span><span class=p>,</span><span class=w> </span><span class=n>MAX_BLOCKS</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=mi>1</span><span class=p>);</span>
</span><span id=__span-73-38><a id=__codelineno-73-38 name=__codelineno-73-38 href=#__codelineno-73-38></a><span class=w>    </span><span class=n>scanf</span><span class=p>(</span><span class=s>&quot;%d&quot;</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=n>id</span><span class=p>);</span>
</span><span id=__span-73-39><a id=__codelineno-73-39 name=__codelineno-73-39 href=#__codelineno-73-39></a>
</span><span id=__span-73-40><a id=__codelineno-73-40 name=__codelineno-73-40 href=#__codelineno-73-40></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>id</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=mi>0</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>id</span><span class=w> </span><span class=o>&gt;=</span><span class=w> </span><span class=n>MAX_BLOCKS</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-73-41><a id=__codelineno-73-41 name=__codelineno-73-41 href=#__codelineno-73-41></a><span class=w>        </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;无效的块 ID！</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>);</span>
</span><span id=__span-73-42><a id=__codelineno-73-42 name=__codelineno-73-42 href=#__codelineno-73-42></a><span class=w>        </span><span class=k>return</span><span class=p>;</span>
</span><span id=__span-73-43><a id=__codelineno-73-43 name=__codelineno-73-43 href=#__codelineno-73-43></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-73-44><a id=__codelineno-73-44 name=__codelineno-73-44 href=#__codelineno-73-44></a>
</span><span id=__span-73-45><a id=__codelineno-73-45 name=__codelineno-73-45 href=#__codelineno-73-45></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>memory</span><span class=p>[</span><span class=n>id</span><span class=p>].</span><span class=n>in_use</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-73-46><a id=__codelineno-73-46 name=__codelineno-73-46 href=#__codelineno-73-46></a><span class=w>        </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;块 ID %d 已被占用！</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=n>id</span><span class=p>);</span>
</span><span id=__span-73-47><a id=__codelineno-73-47 name=__codelineno-73-47 href=#__codelineno-73-47></a><span class=w>        </span><span class=k>return</span><span class=p>;</span>
</span><span id=__span-73-48><a id=__codelineno-73-48 name=__codelineno-73-48 href=#__codelineno-73-48></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-73-49><a id=__codelineno-73-49 name=__codelineno-73-49 href=#__codelineno-73-49></a>
</span><span id=__span-73-50><a id=__codelineno-73-50 name=__codelineno-73-50 href=#__codelineno-73-50></a><span class=w>    </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;请输入要分配的大小 (字节): &quot;</span><span class=p>);</span>
</span><span id=__span-73-51><a id=__codelineno-73-51 name=__codelineno-73-51 href=#__codelineno-73-51></a><span class=w>    </span><span class=n>scanf</span><span class=p>(</span><span class=s>&quot;%zu&quot;</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=n>size</span><span class=p>);</span>
</span><span id=__span-73-52><a id=__codelineno-73-52 name=__codelineno-73-52 href=#__codelineno-73-52></a>
</span><span id=__span-73-53><a id=__codelineno-73-53 name=__codelineno-73-53 href=#__codelineno-73-53></a><span class=w>    </span><span class=n>memory</span><span class=p>[</span><span class=n>id</span><span class=p>].</span><span class=n>size</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>size</span><span class=p>;</span>
</span><span id=__span-73-54><a id=__codelineno-73-54 name=__codelineno-73-54 href=#__codelineno-73-54></a><span class=w>    </span><span class=n>memory</span><span class=p>[</span><span class=n>id</span><span class=p>].</span><span class=n>in_use</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span><span class=p>;</span>
</span><span id=__span-73-55><a id=__codelineno-73-55 name=__codelineno-73-55 href=#__codelineno-73-55></a><span class=w>    </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;内存块 ID %d 分配成功，大小为 %zu 字节！</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=n>id</span><span class=p>,</span><span class=w> </span><span class=n>size</span><span class=p>);</span>
</span><span id=__span-73-56><a id=__codelineno-73-56 name=__codelineno-73-56 href=#__codelineno-73-56></a><span class=p>}</span>
</span><span id=__span-73-57><a id=__codelineno-73-57 name=__codelineno-73-57 href=#__codelineno-73-57></a>
</span><span id=__span-73-58><a id=__codelineno-73-58 name=__codelineno-73-58 href=#__codelineno-73-58></a><span class=kt>void</span><span class=w> </span><span class=nf>free_memory</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-73-59><a id=__codelineno-73-59 name=__codelineno-73-59 href=#__codelineno-73-59></a><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>id</span><span class=p>;</span>
</span><span id=__span-73-60><a id=__codelineno-73-60 name=__codelineno-73-60 href=#__codelineno-73-60></a>
</span><span id=__span-73-61><a id=__codelineno-73-61 name=__codelineno-73-61 href=#__codelineno-73-61></a><span class=w>    </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;请输入要释放的块 ID (0-%d): &quot;</span><span class=p>,</span><span class=w> </span><span class=n>MAX_BLOCKS</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=mi>1</span><span class=p>);</span>
</span><span id=__span-73-62><a id=__codelineno-73-62 name=__codelineno-73-62 href=#__codelineno-73-62></a><span class=w>    </span><span class=n>scanf</span><span class=p>(</span><span class=s>&quot;%d&quot;</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=n>id</span><span class=p>);</span>
</span><span id=__span-73-63><a id=__codelineno-73-63 name=__codelineno-73-63 href=#__codelineno-73-63></a>
</span><span id=__span-73-64><a id=__codelineno-73-64 name=__codelineno-73-64 href=#__codelineno-73-64></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>id</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=mi>0</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>id</span><span class=w> </span><span class=o>&gt;=</span><span class=w> </span><span class=n>MAX_BLOCKS</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-73-65><a id=__codelineno-73-65 name=__codelineno-73-65 href=#__codelineno-73-65></a><span class=w>        </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;无效的块 ID！</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>);</span>
</span><span id=__span-73-66><a id=__codelineno-73-66 name=__codelineno-73-66 href=#__codelineno-73-66></a><span class=w>        </span><span class=k>return</span><span class=p>;</span>
</span><span id=__span-73-67><a id=__codelineno-73-67 name=__codelineno-73-67 href=#__codelineno-73-67></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-73-68><a id=__codelineno-73-68 name=__codelineno-73-68 href=#__codelineno-73-68></a>
</span><span id=__span-73-69><a id=__codelineno-73-69 name=__codelineno-73-69 href=#__codelineno-73-69></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=o>!</span><span class=n>memory</span><span class=p>[</span><span class=n>id</span><span class=p>].</span><span class=n>in_use</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-73-70><a id=__codelineno-73-70 name=__codelineno-73-70 href=#__codelineno-73-70></a><span class=w>        </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;块 ID %d 未被分配，无需释放！</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=n>id</span><span class=p>);</span>
</span><span id=__span-73-71><a id=__codelineno-73-71 name=__codelineno-73-71 href=#__codelineno-73-71></a><span class=w>        </span><span class=k>return</span><span class=p>;</span>
</span><span id=__span-73-72><a id=__codelineno-73-72 name=__codelineno-73-72 href=#__codelineno-73-72></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-73-73><a id=__codelineno-73-73 name=__codelineno-73-73 href=#__codelineno-73-73></a>
</span><span id=__span-73-74><a id=__codelineno-73-74 name=__codelineno-73-74 href=#__codelineno-73-74></a><span class=w>    </span><span class=n>memory</span><span class=p>[</span><span class=n>id</span><span class=p>].</span><span class=n>size</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-73-75><a id=__codelineno-73-75 name=__codelineno-73-75 href=#__codelineno-73-75></a><span class=w>    </span><span class=n>memory</span><span class=p>[</span><span class=n>id</span><span class=p>].</span><span class=n>in_use</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-73-76><a id=__codelineno-73-76 name=__codelineno-73-76 href=#__codelineno-73-76></a><span class=w>    </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;内存块 ID %d 已成功释放！</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=n>id</span><span class=p>);</span>
</span><span id=__span-73-77><a id=__codelineno-73-77 name=__codelineno-73-77 href=#__codelineno-73-77></a><span class=p>}</span>
</span><span id=__span-73-78><a id=__codelineno-73-78 name=__codelineno-73-78 href=#__codelineno-73-78></a>
</span><span id=__span-73-79><a id=__codelineno-73-79 name=__codelineno-73-79 href=#__codelineno-73-79></a><span class=kt>int</span><span class=w> </span><span class=nf>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-73-80><a id=__codelineno-73-80 name=__codelineno-73-80 href=#__codelineno-73-80></a><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>choice</span><span class=p>;</span>
</span><span id=__span-73-81><a id=__codelineno-73-81 name=__codelineno-73-81 href=#__codelineno-73-81></a>
</span><span id=__span-73-82><a id=__codelineno-73-82 name=__codelineno-73-82 href=#__codelineno-73-82></a><span class=w>    </span><span class=n>initialize_memory</span><span class=p>();</span><span class=w>  </span><span class=c1>// 初始化内存状态</span>
</span><span id=__span-73-83><a id=__codelineno-73-83 name=__codelineno-73-83 href=#__codelineno-73-83></a>
</span><span id=__span-73-84><a id=__codelineno-73-84 name=__codelineno-73-84 href=#__codelineno-73-84></a><span class=w>    </span><span class=k>while</span><span class=w> </span><span class=p>(</span><span class=mi>1</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-73-85><a id=__codelineno-73-85 name=__codelineno-73-85 href=#__codelineno-73-85></a><span class=w>        </span><span class=c1>// 打印菜单</span>
</span><span id=__span-73-86><a id=__codelineno-73-86 name=__codelineno-73-86 href=#__codelineno-73-86></a><span class=w>        </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;</span><span class=se>\n</span><span class=s>=== 内存管理系统 ===</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>);</span>
</span><span id=__span-73-87><a id=__codelineno-73-87 name=__codelineno-73-87 href=#__codelineno-73-87></a><span class=w>        </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;1. 查看内存状态</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>);</span>
</span><span id=__span-73-88><a id=__codelineno-73-88 name=__codelineno-73-88 href=#__codelineno-73-88></a><span class=w>        </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;2. 分配内存</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>);</span>
</span><span id=__span-73-89><a id=__codelineno-73-89 name=__codelineno-73-89 href=#__codelineno-73-89></a><span class=w>        </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;3. 释放内存</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>);</span>
</span><span id=__span-73-90><a id=__codelineno-73-90 name=__codelineno-73-90 href=#__codelineno-73-90></a><span class=w>        </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;4. 退出</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>);</span>
</span><span id=__span-73-91><a id=__codelineno-73-91 name=__codelineno-73-91 href=#__codelineno-73-91></a><span class=w>        </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;请输入你的选择 (1-4): &quot;</span><span class=p>);</span>
</span><span id=__span-73-92><a id=__codelineno-73-92 name=__codelineno-73-92 href=#__codelineno-73-92></a><span class=w>        </span><span class=n>scanf</span><span class=p>(</span><span class=s>&quot;%d&quot;</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=n>choice</span><span class=p>);</span>
</span><span id=__span-73-93><a id=__codelineno-73-93 name=__codelineno-73-93 href=#__codelineno-73-93></a>
</span><span id=__span-73-94><a id=__codelineno-73-94 name=__codelineno-73-94 href=#__codelineno-73-94></a><span class=w>        </span><span class=k>switch</span><span class=w> </span><span class=p>(</span><span class=n>choice</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-73-95><a id=__codelineno-73-95 name=__codelineno-73-95 href=#__codelineno-73-95></a><span class=w>            </span><span class=k>case</span><span class=w> </span><span class=mi>1</span><span class=p>:</span>
</span><span id=__span-73-96><a id=__codelineno-73-96 name=__codelineno-73-96 href=#__codelineno-73-96></a><span class=w>                </span><span class=n>view_memory</span><span class=p>();</span>
</span><span id=__span-73-97><a id=__codelineno-73-97 name=__codelineno-73-97 href=#__codelineno-73-97></a><span class=w>                </span><span class=k>break</span><span class=p>;</span>
</span><span id=__span-73-98><a id=__codelineno-73-98 name=__codelineno-73-98 href=#__codelineno-73-98></a><span class=w>            </span><span class=k>case</span><span class=w> </span><span class=mi>2</span><span class=p>:</span>
</span><span id=__span-73-99><a id=__codelineno-73-99 name=__codelineno-73-99 href=#__codelineno-73-99></a><span class=w>                </span><span class=n>allocate_memory</span><span class=p>();</span>
</span><span id=__span-73-100><a id=__codelineno-73-100 name=__codelineno-73-100 href=#__codelineno-73-100></a><span class=w>                </span><span class=k>break</span><span class=p>;</span>
</span><span id=__span-73-101><a id=__codelineno-73-101 name=__codelineno-73-101 href=#__codelineno-73-101></a><span class=w>            </span><span class=k>case</span><span class=w> </span><span class=mi>3</span><span class=p>:</span>
</span><span id=__span-73-102><a id=__codelineno-73-102 name=__codelineno-73-102 href=#__codelineno-73-102></a><span class=w>                </span><span class=n>free_memory</span><span class=p>();</span>
</span><span id=__span-73-103><a id=__codelineno-73-103 name=__codelineno-73-103 href=#__codelineno-73-103></a><span class=w>                </span><span class=k>break</span><span class=p>;</span>
</span><span id=__span-73-104><a id=__codelineno-73-104 name=__codelineno-73-104 href=#__codelineno-73-104></a><span class=w>            </span><span class=k>case</span><span class=w> </span><span class=mi>4</span><span class=p>:</span>
</span><span id=__span-73-105><a id=__codelineno-73-105 name=__codelineno-73-105 href=#__codelineno-73-105></a><span class=w>                </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;退出内存管理系统。</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>);</span>
</span><span id=__span-73-106><a id=__codelineno-73-106 name=__codelineno-73-106 href=#__codelineno-73-106></a><span class=w>                </span><span class=k>return</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-73-107><a id=__codelineno-73-107 name=__codelineno-73-107 href=#__codelineno-73-107></a><span class=w>            </span><span class=k>default</span><span class=o>:</span>
</span><span id=__span-73-108><a id=__codelineno-73-108 name=__codelineno-73-108 href=#__codelineno-73-108></a><span class=w>                </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;无效的选择，请输入 1 到 4 之间的数字。</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>);</span>
</span><span id=__span-73-109><a id=__codelineno-73-109 name=__codelineno-73-109 href=#__codelineno-73-109></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-73-110><a id=__codelineno-73-110 name=__codelineno-73-110 href=#__codelineno-73-110></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-73-111><a id=__codelineno-73-111 name=__codelineno-73-111 href=#__codelineno-73-111></a>
</span><span id=__span-73-112><a id=__codelineno-73-112 name=__codelineno-73-112 href=#__codelineno-73-112></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-73-113><a id=__codelineno-73-113 name=__codelineno-73-113 href=#__codelineno-73-113></a><span class=p>}</span>
</span></code></pre></div> <hr> <p><strong>运行示例</strong></p> <p>初始化时查看内存状态：</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-74-1><a id=__codelineno-74-1 name=__codelineno-74-1 href=#__codelineno-74-1></a>=== 内存状态 ===
</span><span id=__span-74-2><a id=__codelineno-74-2 name=__codelineno-74-2 href=#__codelineno-74-2></a>块 ID: 0, 大小: 0 字节, 状态: 未分配
</span><span id=__span-74-3><a id=__codelineno-74-3 name=__codelineno-74-3 href=#__codelineno-74-3></a>块 ID: 1, 大小: 0 字节, 状态: 未分配
</span><span id=__span-74-4><a id=__codelineno-74-4 name=__codelineno-74-4 href=#__codelineno-74-4></a>块 ID: 2, 大小: 0 字节, 状态: 未分配
</span><span id=__span-74-5><a id=__codelineno-74-5 name=__codelineno-74-5 href=#__codelineno-74-5></a>...
</span></code></pre></div> <p>分配内存块：</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-75-1><a id=__codelineno-75-1 name=__codelineno-75-1 href=#__codelineno-75-1></a>请输入要分配的块 ID (0-9): 2
</span><span id=__span-75-2><a id=__codelineno-75-2 name=__codelineno-75-2 href=#__codelineno-75-2></a>请输入要分配的大小 (字节): 1024
</span><span id=__span-75-3><a id=__codelineno-75-3 name=__codelineno-75-3 href=#__codelineno-75-3></a>内存块 ID 2 分配成功，大小为 1024 字节！
</span></code></pre></div> <p>查看内存状态：</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-76-1><a id=__codelineno-76-1 name=__codelineno-76-1 href=#__codelineno-76-1></a>=== 内存状态 ===
</span><span id=__span-76-2><a id=__codelineno-76-2 name=__codelineno-76-2 href=#__codelineno-76-2></a>块 ID: 0, 大小: 0 字节, 状态: 未分配
</span><span id=__span-76-3><a id=__codelineno-76-3 name=__codelineno-76-3 href=#__codelineno-76-3></a>块 ID: 1, 大小: 0 字节, 状态: 未分配
</span><span id=__span-76-4><a id=__codelineno-76-4 name=__codelineno-76-4 href=#__codelineno-76-4></a>块 ID: 2, 大小: 1024 字节, 状态: 已分配
</span><span id=__span-76-5><a id=__codelineno-76-5 name=__codelineno-76-5 href=#__codelineno-76-5></a>...
</span></code></pre></div> <p>释放内存块：</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-77-1><a id=__codelineno-77-1 name=__codelineno-77-1 href=#__codelineno-77-1></a>请输入要释放的块 ID (0-9): 2
</span><span id=__span-77-2><a id=__codelineno-77-2 name=__codelineno-77-2 href=#__codelineno-77-2></a>内存块 ID 2 已成功释放！
</span></code></pre></div> <p>查看内存状态：</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-78-1><a id=__codelineno-78-1 name=__codelineno-78-1 href=#__codelineno-78-1></a>=== 内存状态 ===
</span><span id=__span-78-2><a id=__codelineno-78-2 name=__codelineno-78-2 href=#__codelineno-78-2></a>块 ID: 0, 大小: 0 字节, 状态: 未分配
</span><span id=__span-78-3><a id=__codelineno-78-3 name=__codelineno-78-3 href=#__codelineno-78-3></a>块 ID: 1, 大小: 0 字节, 状态: 未分配
</span><span id=__span-78-4><a id=__codelineno-78-4 name=__codelineno-78-4 href=#__codelineno-78-4></a>块 ID: 2, 大小: 0 字节, 状态: 未分配
</span><span id=__span-78-5><a id=__codelineno-78-5 name=__codelineno-78-5 href=#__codelineno-78-5></a>...
</span></code></pre></div> <p>退出程序：</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-79-1><a id=__codelineno-79-1 name=__codelineno-79-1 href=#__codelineno-79-1></a>退出内存管理系统。
</span></code></pre></div> <hr> <p><strong>代码解析</strong></p> <ol> <li> <p><strong><code>MemoryBlock</code> 结构体</strong>： - 模拟内存块的信息，包括块 ID、大小和状态。</p> </li> <li> <p><strong><code>initialize_memory</code> 函数</strong>： - 初始化所有内存块为未分配状态。</p> </li> <li> <p><strong><code>view_memory</code> 函数</strong>： - 显示当前内存的分配状态。</p> </li> <li> <p><strong><code>allocate_memory</code> 和 <code>free_memory</code> 函数</strong>： - 分配或释放内存块，并更新状态。</p> </li> <li> <p><strong><code>switch</code> 语句</strong>： - 实现不同操作之间的选择。</p> </li> </ol> <hr> <h2 id=_30>函数<a class=headerlink href=#_30 title="Permanent link">&para;</a></h2> <h3 id=_31>定义、声明与调用<a class=headerlink href=#_31 title="Permanent link">&para;</a></h3> <h4 id=_32>声明<a class=headerlink href=#_32 title="Permanent link">&para;</a></h4> <p>编译器一行一行编译，故调用之前应该让编译器知道函数的返回类型、参数、名称</p> <p><strong>建议</strong>：用声明：先读main函数干什么</p> <p><strong>位置</strong></p> <ul> <li>C89：写在main里面也可</li> <li>C99：写在main前面</li> </ul> <p><strong>规则：</strong> 定义声明一致</p> <p>实际上，声明中可以只写变量类型，变量名称也可以和函数定义头部不一样。因为编译器检查只检查定义和声明变量类型是否一样</p> <h4 id=_33>参数和值<a class=headerlink href=#_33 title="Permanent link">&para;</a></h4> <p><strong>核心：</strong></p> <p>要在函数内部对主函数的变量进行操作，则必须得把主函数中的那个变量or其地址传入函数。</p> <p><strong>形参实参</strong></p> <ul> <li>参数 &amp; 值：实参 —— 参数；形参 —— 值（参数的值）：就是传值</li> </ul> <p><strong>数组作为函数的参数</strong> <div class="language-text highlight"><pre><span></span><code><span id=__span-80-1><a id=__codelineno-80-1 name=__codelineno-80-1 href=#__codelineno-80-1></a>Ctrl F 指针与函数
</span></code></pre></div></p> <h4 id=_34>变量空间：<a class=headerlink href=#_34 title="Permanent link">&para;</a></h4> <p>每个函数都有他自己的变量空间； 离开一个函数f到另一个函数g里面，则会跳出f的变量空间，来到g的变量空间； 在一个函数g里面对变量操作，不会影响f里面的变量，因为不在一个变量空间；</p> <h4 id=_35>局部变量<a class=headerlink href=#_35 title="Permanent link">&para;</a></h4> <p><strong>前置</strong></p> <ul> <li>生存期：变量多会出现，多会消亡</li> <li>作用域：在代码的什么范围内可以访问这个变量（这个变量起作用）</li> </ul> <p><strong>定义</strong></p> <p><a class=glightbox href=../res/images/image.png data-type=image data-width=auto data-height=auto data-desc-position=bottom><img alt="alt text" src=../res/images/image.png></a></p> <p>局部变量(==本地变量、自动变量)</p> <p>概念：</p> <p>每次函数运行，都产生一个独立的变量空间，这个空间中的变量是函数这次运行独有的</p> <p>分类：定义在函数内部的 &amp; 参数</p> <p>规则：</p> <p>定义在块内，即一个大括号{ }，进入块，变量存在；离开块，变量消失 - 函数的块内 - 语句的块内 - 甚至以单拉一个大括号定义变量</p> <p>内部的变量外部不可以访问，外部的变量内部可以访问</p> <p>同名变量： - 内外同名：内部掩盖外部的 - 内部同名：编译错误redefination</p> <p>本地变量不会默认初始化，但是参数进入函数时已经被初始化（参数的传递）</p> <h4 id=_36>调用函数<a class=headerlink href=#_36 title="Permanent link">&para;</a></h4> <p>传递的值（实参）：常量、变量、<em>表达式（的值）</em></p> <p><strong>类型不匹配：</strong> C会发生自动类型转换：即将传入的参数类型转换为定义中说的那个类型。Java、C++会严格检查类型的匹配。</p> <p><strong>传值：</strong> 永远是传值给函数，即参数传递的单向性：实参的值传给形参，形参的值改变了，也不会影响实参。还是变量空间的问题，swap的例子。</p> <h4 id=_37>返回值<a class=headerlink href=#_37 title="Permanent link">&para;</a></h4> <p><strong>return作用：</strong></p> <ol> <li>结束执行函数</li> <li>返回一个值，将这个值给到调用它的地方：<em>调用它的地方那里写的函数调用就是代表该函数的返回值</em>。</li> </ol> <p><strong>规则：</strong></p> <ol> <li><code>return;</code>, </li> <li><code>return 表达式;</code> 将表达式的值传出去</li> <li>函数里面可以多个return，也可以不在函数最后。</li> <li><em>单一出口理念</em>：最好函数只有一个出口即只有一个return。</li> </ol> <h4 id=_38>杂项<a class=headerlink href=#_38 title="Permanent link">&para;</a></h4> <ul> <li> <p>没有参数</p> <p><code>f(void)</code> : 不传参数，声明时写上void，别不写</p> </li> <li> <p>逗号运算符</p> <p><code>f(a, b)</code> : 逗号是标点符号不是运算符，这是传了俩参数</p> <p><code>f((a, b))</code> : <code>(a, b)</code>是一个表达式，值是b，则这句代表传的是这个表达式的值：b - 函数中不能定义函数，可以声明 - 函数声明可以放在自己的定义里面 - main函数</p> <p>return 0；返回0：正确；返回非0：异常</p> <p>bash : <code>echo $?</code>: 可查看main运行结束的返回值（return -1 则 stdout：255）</p> </li> </ul> <h3 id=_39>标准库<a class=headerlink href=#_39 title="Permanent link">&para;</a></h3> <h4 id=stdioh>stdio.h<a class=headerlink href=#stdioh title="Permanent link">&para;</a></h4> <p><strong>1. <code>printf</code></strong><br> <strong>功能</strong>：格式化输出到标准输出（屏幕）。<br> <strong>函数原型</strong>：<code>int printf(const char *format, ...);</code><br> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-81-1><a id=__codelineno-81-1 name=__codelineno-81-1 href=#__codelineno-81-1></a><span class=n>printf</span><span class=p>(</span><span class=s>&quot;Hello, %s! You are %d years old.</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;Alice&quot;</span><span class=p>,</span><span class=w> </span><span class=mi>25</span><span class=p>);</span>
</span></code></pre></div></p> <hr> <p><strong>2. <code>scanf</code></strong><br> <strong>功能</strong>：从标准输入读取格式化数据。<br> <strong>函数原型</strong>：<code>int scanf(const char *format, ...);</code><br> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-82-1><a id=__codelineno-82-1 name=__codelineno-82-1 href=#__codelineno-82-1></a><span class=kt>int</span><span class=w> </span><span class=n>age</span><span class=p>;</span>
</span><span id=__span-82-2><a id=__codelineno-82-2 name=__codelineno-82-2 href=#__codelineno-82-2></a><span class=n>scanf</span><span class=p>(</span><span class=s>&quot;%d&quot;</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=n>age</span><span class=p>);</span>
</span></code></pre></div></p> <div class="admonition info"> <p class=admonition-title>scanf的工作原理</p> <p><code>scanf</code> 的工作原理与输入缓冲区的影响</p> <ol> <li><strong>标准输入缓冲区的作用</strong> - 当用户输入内容并按下 <strong>Enter</strong> 键时，输入的所有字符（包括换行符 <code>\n</code>）会被存储在标准输入缓冲区中。 - <code>scanf</code> 从缓冲区中读取数据，根据指定的格式（如 <code>%s</code>、<code>%c</code> 等）提取需要的部分，剩余的内容仍保留在缓冲区中。</li> </ol> <hr> <ol start=2> <li><strong><code>scanf</code> 格式说明符的行为</strong></li> </ol> <ul> <li><strong><code>%s</code>（读取字符串）</strong></li> <li><code>scanf("%s", buffer)</code> 会跳过缓冲区中所有的空白字符（包括空格、换行符、制表符）<strong>作为起始位置</strong>。</li> <li>然后从第一个非空白字符开始读取，直到遇到下一个空白字符（或缓冲区结尾），并将读取的字符存储到 <code>buffer</code> 中。</li> <li> <p><strong>剩下的内容</strong>（包括分隔字符串的空白字符，如换行符）留在缓冲区中。</p> </li> <li> <p><strong><code>%c</code>（读取单个字符）</strong></p> </li> <li><code>scanf("%c", &amp;ch)</code> 不会跳过空白字符，而是直接读取缓冲区的下一个字符，包括换行符或空格。</li> <li>如果缓冲区中还有未处理的换行符，<code>%c</code> 就会直接读取它。</li> </ul> <hr> <details class=info> <summary>程序的输入流程分析</summary> <p>假设我们运行以下代码并输入数据： <div class="language-c highlight"><pre><span></span><code><span id=__span-83-1><a id=__codelineno-83-1 name=__codelineno-83-1 href=#__codelineno-83-1></a><span class=kt>char</span><span class=w> </span><span class=n>matrix</span><span class=p>[</span><span class=mi>5</span><span class=p>][</span><span class=mi>100</span><span class=p>];</span>
</span><span id=__span-83-2><a id=__codelineno-83-2 name=__codelineno-83-2 href=#__codelineno-83-2></a><span class=kt>char</span><span class=w> </span><span class=n>ch</span><span class=p>;</span>
</span><span id=__span-83-3><a id=__codelineno-83-3 name=__codelineno-83-3 href=#__codelineno-83-3></a>
</span><span id=__span-83-4><a id=__codelineno-83-4 name=__codelineno-83-4 href=#__codelineno-83-4></a><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=mi>5</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=o>++</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-83-5><a id=__codelineno-83-5 name=__codelineno-83-5 href=#__codelineno-83-5></a><span class=w>    </span><span class=n>scanf</span><span class=p>(</span><span class=s>&quot;%s&quot;</span><span class=p>,</span><span class=w> </span><span class=n>matrix</span><span class=p>[</span><span class=n>i</span><span class=p>]);</span>
</span><span id=__span-83-6><a id=__codelineno-83-6 name=__codelineno-83-6 href=#__codelineno-83-6></a><span class=p>}</span>
</span><span id=__span-83-7><a id=__codelineno-83-7 name=__codelineno-83-7 href=#__codelineno-83-7></a><span class=n>scanf</span><span class=p>(</span><span class=s>&quot;%c&quot;</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=n>ch</span><span class=p>);</span>
</span></code></pre></div></p> <p><strong>输入内容：</strong> <div class="language-text highlight"><pre><span></span><code><span id=__span-84-1><a id=__codelineno-84-1 name=__codelineno-84-1 href=#__codelineno-84-1></a>Apple
</span><span id=__span-84-2><a id=__codelineno-84-2 name=__codelineno-84-2 href=#__codelineno-84-2></a>Banana
</span><span id=__span-84-3><a id=__codelineno-84-3 name=__codelineno-84-3 href=#__codelineno-84-3></a>Avocado
</span><span id=__span-84-4><a id=__codelineno-84-4 name=__codelineno-84-4 href=#__codelineno-84-4></a>Blueberry
</span><span id=__span-84-5><a id=__codelineno-84-5 name=__codelineno-84-5 href=#__codelineno-84-5></a>Cherry
</span><span id=__span-84-6><a id=__codelineno-84-6 name=__codelineno-84-6 href=#__codelineno-84-6></a>A
</span></code></pre></div></p> <p><strong>详细流程：</strong></p> <ol> <li> <p><strong>第一轮循环读取字符串</strong> - 用户输入 "Apple" + 按下 <strong>Enter</strong>。 - 输入缓冲区内容为：<code>Apple\n</code> - <code>scanf("%s", matrix[0]);</code>：</p> <ul> <li>跳过缓冲区中的空白字符（无）。</li> <li>读取 <code>Apple</code> 到 <code>matrix[0]</code>。</li> <li>停止在第一个空白字符（<code>\n</code>），缓冲区变为：<code>\n</code>。</li> </ul> </li> <li> <p><strong>第二轮循环读取字符串</strong> - 用户输入 "Banana" + 按下 <strong>Enter</strong>。 - 输入缓冲区内容为：<code>\nBanana\n</code>（上轮剩下的 <code>\n</code> + 新输入的 <code>Banana\n</code>）。 - <code>scanf("%s", matrix[1]);</code>：</p> <ul> <li>跳过缓冲区中的空白字符（<code>\n</code>）。</li> <li>读取 <code>Banana</code> 到 <code>matrix[1]</code>。</li> <li>停止在第一个空白字符（<code>\n</code>），缓冲区变为：<code>\n</code>。</li> </ul> </li> <li> <p><strong>重复过程</strong> - 对每一轮字符串输入，<code>scanf("%s", ...)</code> 都会读取用户输入的内容，同时将末尾的换行符 <code>\n</code> 留在缓冲区。</p> </li> <li> <p><strong>读取字符 <code>ch</code></strong> - 第五次循环结束后，缓冲区中剩下一个换行符 <code>\n</code>（用户按下 Enter）。 - <code>scanf("%c", &amp;ch);</code> 不跳过空白字符，直接读取到这个换行符 <code>\n</code>。 - <code>ch</code> 存储的不是用户期望的字符，而是换行符。</p> </li> </ol> </details> <hr> <ol start=5> <li> <p><strong>解决方法</strong></p> </li> <li> <p><strong>清理缓冲区</strong> 在读取字符前手动清除输入缓冲区： <div class="language-c highlight"><pre><span></span><code><span id=__span-85-1><a id=__codelineno-85-1 name=__codelineno-85-1 href=#__codelineno-85-1></a><span class=k>while</span><span class=w> </span><span class=p>(</span><span class=n>getchar</span><span class=p>()</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=sc>&#39;\n&#39;</span><span class=p>);</span><span class=w> </span><span class=c1>// 逐个读取直到清除所有残留字符：**用于清空缓存区**</span>
</span></code></pre></div></p> </li> <li> <p><strong>修改读取方式</strong> 改用 <code>getchar</code> 或更高级的输入方法： <div class="language-c highlight"><pre><span></span><code><span id=__span-86-1><a id=__codelineno-86-1 name=__codelineno-86-1 href=#__codelineno-86-1></a><span class=n>ch</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>getchar</span><span class=p>();</span><span class=w> </span><span class=c1>// 更直接地读取单个字符</span>
</span></code></pre></div></p> </li> <li> <p><strong>结合 <code>fgets</code> 使用</strong> 改用 <code>fgets</code> 一次性读取一整行数据，减少缓冲区问题： <div class="language-c highlight"><pre><span></span><code><span id=__span-87-1><a id=__codelineno-87-1 name=__codelineno-87-1 href=#__codelineno-87-1></a><span class=n>fgets</span><span class=p>(</span><span class=n>matrix</span><span class=p>[</span><span class=n>i</span><span class=p>],</span><span class=w> </span><span class=k>sizeof</span><span class=p>(</span><span class=n>matrix</span><span class=p>[</span><span class=n>i</span><span class=p>]),</span><span class=w> </span><span class=n>stdin</span><span class=p>);</span>
</span></code></pre></div></p> </li> </ol> <hr> </div> <p><strong>3. <code>fprintf</code></strong><br> <strong>功能</strong>：格式化输出到指定文件流。<br> <strong>函数原型</strong>：<code>int fprintf(FILE *stream, const char *format, ...);</code><br> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-88-1><a id=__codelineno-88-1 name=__codelineno-88-1 href=#__codelineno-88-1></a><span class=kt>FILE</span><span class=w> </span><span class=o>*</span><span class=n>fp</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>fopen</span><span class=p>(</span><span class=s>&quot;output.txt&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;w&quot;</span><span class=p>);</span>
</span><span id=__span-88-2><a id=__codelineno-88-2 name=__codelineno-88-2 href=#__codelineno-88-2></a><span class=n>fprintf</span><span class=p>(</span><span class=n>fp</span><span class=p>,</span><span class=w> </span><span class=s>&quot;Score: %d</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=mi>100</span><span class=p>);</span>
</span><span id=__span-88-3><a id=__codelineno-88-3 name=__codelineno-88-3 href=#__codelineno-88-3></a><span class=n>fclose</span><span class=p>(</span><span class=n>fp</span><span class=p>);</span>
</span></code></pre></div></p> <hr> <p><strong>4. <code>fscanf</code></strong><br> <strong>功能</strong>：从指定文件流读取格式化数据。<br> <strong>函数原型</strong>：<code>int fscanf(FILE *stream, const char *format, ...);</code><br> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-89-1><a id=__codelineno-89-1 name=__codelineno-89-1 href=#__codelineno-89-1></a><span class=kt>FILE</span><span class=w> </span><span class=o>*</span><span class=n>fp</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>fopen</span><span class=p>(</span><span class=s>&quot;data.txt&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;r&quot;</span><span class=p>);</span>
</span><span id=__span-89-2><a id=__codelineno-89-2 name=__codelineno-89-2 href=#__codelineno-89-2></a><span class=kt>int</span><span class=w> </span><span class=n>score</span><span class=p>;</span>
</span><span id=__span-89-3><a id=__codelineno-89-3 name=__codelineno-89-3 href=#__codelineno-89-3></a><span class=n>fscanf</span><span class=p>(</span><span class=n>fp</span><span class=p>,</span><span class=w> </span><span class=s>&quot;%d&quot;</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=n>score</span><span class=p>);</span>
</span><span id=__span-89-4><a id=__codelineno-89-4 name=__codelineno-89-4 href=#__codelineno-89-4></a><span class=n>fclose</span><span class=p>(</span><span class=n>fp</span><span class=p>);</span>
</span></code></pre></div></p> <hr> <p><strong>5. <code>fopen</code></strong><br> <strong>功能</strong>：打开文件。<br> <strong>函数原型</strong>：<code>FILE *fopen(const char *filename, const char *mode);</code><br> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-90-1><a id=__codelineno-90-1 name=__codelineno-90-1 href=#__codelineno-90-1></a><span class=kt>FILE</span><span class=w> </span><span class=o>*</span><span class=n>fp</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>fopen</span><span class=p>(</span><span class=s>&quot;file.txt&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;r&quot;</span><span class=p>);</span>
</span></code></pre></div></p> <hr> <p><strong>6. <code>fclose</code></strong><br> <strong>功能</strong>：关闭文件流。<br> <strong>函数原型</strong>：<code>int fclose(FILE *stream);</code><br> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-91-1><a id=__codelineno-91-1 name=__codelineno-91-1 href=#__codelineno-91-1></a><span class=n>fclose</span><span class=p>(</span><span class=n>fp</span><span class=p>);</span>
</span></code></pre></div></p> <hr> <p><strong>7. <code>fgetc</code></strong><br> <strong>功能</strong>：从文件流中读取单个字符。<br> <strong>函数原型</strong>：<code>int fgetc(FILE *stream);</code><br> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-92-1><a id=__codelineno-92-1 name=__codelineno-92-1 href=#__codelineno-92-1></a><span class=kt>char</span><span class=w> </span><span class=n>ch</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>fgetc</span><span class=p>(</span><span class=n>fp</span><span class=p>);</span>
</span></code></pre></div></p> <hr> <p><strong>8. <code>fputc</code></strong><br> <strong>功能</strong>：将单个字符写入文件流。<br> <strong>函数原型</strong>：<code>int fputc(int c, FILE *stream);</code><br> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-93-1><a id=__codelineno-93-1 name=__codelineno-93-1 href=#__codelineno-93-1></a><span class=n>fputc</span><span class=p>(</span><span class=sc>&#39;A&#39;</span><span class=p>,</span><span class=w> </span><span class=n>fp</span><span class=p>);</span>
</span></code></pre></div></p> <hr> <p><strong>9. <code>fgets</code></strong><br> <strong>功能</strong>：从文件流读取一行。<br> <strong>函数原型</strong>：<code>char *fgets(char *str, int n, FILE *stream);</code><br> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-94-1><a id=__codelineno-94-1 name=__codelineno-94-1 href=#__codelineno-94-1></a><span class=kt>char</span><span class=w> </span><span class=n>buffer</span><span class=p>[</span><span class=mi>100</span><span class=p>];</span>
</span><span id=__span-94-2><a id=__codelineno-94-2 name=__codelineno-94-2 href=#__codelineno-94-2></a><span class=n>fgets</span><span class=p>(</span><span class=n>buffer</span><span class=p>,</span><span class=w> </span><span class=mi>100</span><span class=p>,</span><span class=w> </span><span class=n>fp</span><span class=p>);</span>
</span></code></pre></div></p> <hr> <p><strong>10. <code>fputs</code></strong><br> <strong>功能</strong>：将字符串写入文件流。<br> <strong>函数原型</strong>：<code>int fputs(const char *str, FILE *stream);</code><br> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-95-1><a id=__codelineno-95-1 name=__codelineno-95-1 href=#__codelineno-95-1></a><span class=n>fputs</span><span class=p>(</span><span class=s>&quot;Hello, World!</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=n>fp</span><span class=p>);</span>
</span></code></pre></div></p> <hr> <p><strong>11. <code>getchar</code></strong><br> <strong>功能</strong>：从标准输入读取单个字符。<br> <strong>函数原型</strong>：<code>int getchar(void);</code><br> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-96-1><a id=__codelineno-96-1 name=__codelineno-96-1 href=#__codelineno-96-1></a><span class=kt>char</span><span class=w> </span><span class=n>ch</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>getchar</span><span class=p>();</span>
</span></code></pre></div></p> <hr> <p><strong>12. <code>putchar</code></strong><br> <strong>功能</strong>：输出单个字符到标准输出。<br> <strong>函数原型</strong>：<code>int putchar(int c);</code><br> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-97-1><a id=__codelineno-97-1 name=__codelineno-97-1 href=#__codelineno-97-1></a><span class=n>putchar</span><span class=p>(</span><span class=sc>&#39;A&#39;</span><span class=p>);</span>
</span></code></pre></div></p> <hr> <p><strong>13. <code>gets</code></strong> <em>(已不推荐使用，存在安全隐患)</em><br> <strong>功能</strong>：从标准输入读取字符串。<br> <strong>函数原型</strong>：<code>char *gets(char *str);</code><br> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-98-1><a id=__codelineno-98-1 name=__codelineno-98-1 href=#__codelineno-98-1></a><span class=kt>char</span><span class=w> </span><span class=n>buffer</span><span class=p>[</span><span class=mi>100</span><span class=p>];</span>
</span><span id=__span-98-2><a id=__codelineno-98-2 name=__codelineno-98-2 href=#__codelineno-98-2></a><span class=n>gets</span><span class=p>(</span><span class=n>buffer</span><span class=p>);</span>
</span></code></pre></div></p> <hr> <p><strong>14. <code>puts</code></strong><br> <strong>功能</strong>：输出字符串到标准输出。<br> <strong>函数原型</strong>：<code>int puts(const char *str);</code><br> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-99-1><a id=__codelineno-99-1 name=__codelineno-99-1 href=#__codelineno-99-1></a><span class=n>puts</span><span class=p>(</span><span class=s>&quot;Hello, World!&quot;</span><span class=p>);</span>
</span></code></pre></div></p> <hr> <p><strong>15. <code>feof</code></strong><br> <strong>功能</strong>：检查文件流是否到达末尾。<br> <strong>函数原型</strong>：<code>int feof(FILE *stream);</code><br> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-100-1><a id=__codelineno-100-1 name=__codelineno-100-1 href=#__codelineno-100-1></a><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>feof</span><span class=p>(</span><span class=n>fp</span><span class=p>))</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-100-2><a id=__codelineno-100-2 name=__codelineno-100-2 href=#__codelineno-100-2></a><span class=w>    </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;End of file reached.</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>);</span>
</span><span id=__span-100-3><a id=__codelineno-100-3 name=__codelineno-100-3 href=#__codelineno-100-3></a><span class=p>}</span>
</span></code></pre></div></p> <hr> <p><strong>16. <code>ferror</code></strong><br> <strong>功能</strong>：检查文件流是否有错误。<br> <strong>函数原型</strong>：<code>int ferror(FILE *stream);</code><br> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-101-1><a id=__codelineno-101-1 name=__codelineno-101-1 href=#__codelineno-101-1></a><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>ferror</span><span class=p>(</span><span class=n>fp</span><span class=p>))</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-101-2><a id=__codelineno-101-2 name=__codelineno-101-2 href=#__codelineno-101-2></a><span class=w>    </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;File error occurred.</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>);</span>
</span><span id=__span-101-3><a id=__codelineno-101-3 name=__codelineno-101-3 href=#__codelineno-101-3></a><span class=p>}</span>
</span></code></pre></div></p> <hr> <p><strong>17. <code>rewind</code></strong><br> <strong>功能</strong>：将文件流位置指针重置到文件开头。<br> <strong>函数原型</strong>：<code>void rewind(FILE *stream);</code><br> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-102-1><a id=__codelineno-102-1 name=__codelineno-102-1 href=#__codelineno-102-1></a><span class=n>rewind</span><span class=p>(</span><span class=n>fp</span><span class=p>);</span>
</span></code></pre></div></p> <hr> <p><strong>18. <code>ftell</code></strong><br> <strong>功能</strong>：获取文件流当前位置。<br> <strong>函数原型</strong>：<code>long ftell(FILE *stream);</code><br> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-103-1><a id=__codelineno-103-1 name=__codelineno-103-1 href=#__codelineno-103-1></a><span class=kt>long</span><span class=w> </span><span class=n>pos</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>ftell</span><span class=p>(</span><span class=n>fp</span><span class=p>);</span>
</span></code></pre></div></p> <hr> <p><strong>19. <code>fseek</code></strong><br> <strong>功能</strong>：设置文件流位置指针。<br> <strong>函数原型</strong>：<code>int fseek(FILE *stream, long offset, int whence);</code><br> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-104-1><a id=__codelineno-104-1 name=__codelineno-104-1 href=#__codelineno-104-1></a><span class=n>fseek</span><span class=p>(</span><span class=n>fp</span><span class=p>,</span><span class=w> </span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=n>SEEK_END</span><span class=p>);</span>
</span></code></pre></div></p> <hr> <p><strong>20. <code>clearerr</code></strong><br> <strong>功能</strong>：清除文件流的错误标志和 EOF 标志。<br> <strong>函数原型</strong>：<code>void clearerr(FILE *stream);</code><br> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-105-1><a id=__codelineno-105-1 name=__codelineno-105-1 href=#__codelineno-105-1></a><span class=n>clearerr</span><span class=p>(</span><span class=n>fp</span><span class=p>);</span>
</span></code></pre></div></p> <h4 id=stringh>string.h<a class=headerlink href=#stringh title="Permanent link">&para;</a></h4> <p><strong>1. <code>strlen</code></strong><br> <strong>功能</strong>：返回字符串的长度（不包括终止符 <code>\0</code>）。<br> <strong>函数原型</strong>：<code>size_t strlen(const char *str);</code><br> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-106-1><a id=__codelineno-106-1 name=__codelineno-106-1 href=#__codelineno-106-1></a><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%zu</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=n>strlen</span><span class=p>(</span><span class=s>&quot;Hello&quot;</span><span class=p>));</span><span class=w> </span><span class=c1>// 输出 5</span>
</span></code></pre></div></p> <hr> <p><strong>2. <code>strcpy</code></strong><br> <strong>功能</strong>：将字符串复制到另一个字符串。<br> <strong>函数原型</strong>：<code>char *strcpy(char *dest, const char *src);</code><br> <strong>底层</strong>：第一个参数代表目标的起始地址，第二个参数代表源头的起始地址。 <br> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-107-1><a id=__codelineno-107-1 name=__codelineno-107-1 href=#__codelineno-107-1></a><span class=kt>char</span><span class=w> </span><span class=n>dest</span><span class=p>[</span><span class=mi>20</span><span class=p>];</span>
</span><span id=__span-107-2><a id=__codelineno-107-2 name=__codelineno-107-2 href=#__codelineno-107-2></a><span class=n>strcpy</span><span class=p>(</span><span class=n>dest</span><span class=p>,</span><span class=w> </span><span class=s>&quot;Hello&quot;</span><span class=p>);</span>
</span><span id=__span-107-3><a id=__codelineno-107-3 name=__codelineno-107-3 href=#__codelineno-107-3></a><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%s</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=n>dest</span><span class=p>);</span><span class=w> </span><span class=c1>// 输出 &quot;Hello&quot;</span>
</span></code></pre></div></p> <hr> <p><strong>3. <code>strncpy</code></strong><br> <strong>功能</strong>：复制指定长度的字符串到另一个字符串。<br> <strong>函数原型</strong>：<code>char *strncpy(char *dest, const char *src, size_t n);</code><br> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-108-1><a id=__codelineno-108-1 name=__codelineno-108-1 href=#__codelineno-108-1></a><span class=kt>char</span><span class=w> </span><span class=n>dest</span><span class=p>[</span><span class=mi>10</span><span class=p>];</span>
</span><span id=__span-108-2><a id=__codelineno-108-2 name=__codelineno-108-2 href=#__codelineno-108-2></a><span class=n>strncpy</span><span class=p>(</span><span class=n>dest</span><span class=p>,</span><span class=w> </span><span class=s>&quot;HelloWorld&quot;</span><span class=p>,</span><span class=w> </span><span class=mi>5</span><span class=p>);</span>
</span><span id=__span-108-3><a id=__codelineno-108-3 name=__codelineno-108-3 href=#__codelineno-108-3></a><span class=n>dest</span><span class=p>[</span><span class=mi>5</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=sc>&#39;\0&#39;</span><span class=p>;</span>
</span><span id=__span-108-4><a id=__codelineno-108-4 name=__codelineno-108-4 href=#__codelineno-108-4></a><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%s</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=n>dest</span><span class=p>);</span><span class=w> </span><span class=c1>// 输出 &quot;Hello&quot;</span>
</span></code></pre></div></p> <hr> <p><strong>4. <code>strcat</code></strong><br> <strong>功能</strong>：将字符串追加到另一个字符串的末尾。<br> <strong>函数原型</strong>：<code>char *strcat(char *dest, const char *src);</code><br> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-109-1><a id=__codelineno-109-1 name=__codelineno-109-1 href=#__codelineno-109-1></a><span class=kt>char</span><span class=w> </span><span class=n>str</span><span class=p>[</span><span class=mi>20</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&quot;Hello&quot;</span><span class=p>;</span>
</span><span id=__span-109-2><a id=__codelineno-109-2 name=__codelineno-109-2 href=#__codelineno-109-2></a><span class=n>strcat</span><span class=p>(</span><span class=n>str</span><span class=p>,</span><span class=w> </span><span class=s>&quot; World&quot;</span><span class=p>);</span>
</span><span id=__span-109-3><a id=__codelineno-109-3 name=__codelineno-109-3 href=#__codelineno-109-3></a><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%s</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=n>str</span><span class=p>);</span><span class=w> </span><span class=c1>// 输出 &quot;Hello World&quot;</span>
</span></code></pre></div></p> <hr> <p><strong>5. <code>strncat</code></strong><br> <strong>功能</strong>：将指定长度的字符串追加到另一个字符串的末尾。<br> <strong>函数原型</strong>：<code>char *strncat(char *dest, const char *src, size_t n);</code><br> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-110-1><a id=__codelineno-110-1 name=__codelineno-110-1 href=#__codelineno-110-1></a><span class=kt>char</span><span class=w> </span><span class=n>str</span><span class=p>[</span><span class=mi>20</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&quot;Hello&quot;</span><span class=p>;</span>
</span><span id=__span-110-2><a id=__codelineno-110-2 name=__codelineno-110-2 href=#__codelineno-110-2></a><span class=n>strncat</span><span class=p>(</span><span class=n>str</span><span class=p>,</span><span class=w> </span><span class=s>&quot;World&quot;</span><span class=p>,</span><span class=w> </span><span class=mi>3</span><span class=p>);</span>
</span><span id=__span-110-3><a id=__codelineno-110-3 name=__codelineno-110-3 href=#__codelineno-110-3></a><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%s</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=n>str</span><span class=p>);</span><span class=w> </span><span class=c1>// 输出 &quot;HelloWor&quot;</span>
</span></code></pre></div></p> <hr> <p><strong>6. <code>strcmp</code></strong><br> <strong>功能</strong>：比较两个字符串（区分大小写）。<br> <strong>函数原型</strong>：<code>int strcmp(const char *str1, const char *str2);</code><br> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-111-1><a id=__codelineno-111-1 name=__codelineno-111-1 href=#__codelineno-111-1></a><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>strcmp</span><span class=p>(</span><span class=s>&quot;abc&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;abc&quot;</span><span class=p>)</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=mi>0</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-111-2><a id=__codelineno-111-2 name=__codelineno-111-2 href=#__codelineno-111-2></a><span class=w>    </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;Equal</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>);</span>
</span><span id=__span-111-3><a id=__codelineno-111-3 name=__codelineno-111-3 href=#__codelineno-111-3></a><span class=p>}</span>
</span></code></pre></div></p> <hr> <p><strong>7. <code>strncmp</code></strong><br> <strong>功能</strong>：比较指定长度的两个字符串。<br> <strong>函数原型</strong>：<code>int strncmp(const char *str1, const char *str2, size_t n);</code><br> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-112-1><a id=__codelineno-112-1 name=__codelineno-112-1 href=#__codelineno-112-1></a><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>strncmp</span><span class=p>(</span><span class=s>&quot;abcdef&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;abcxyz&quot;</span><span class=p>,</span><span class=w> </span><span class=mi>3</span><span class=p>)</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=mi>0</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-112-2><a id=__codelineno-112-2 name=__codelineno-112-2 href=#__codelineno-112-2></a><span class=w>    </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;Equal</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>);</span>
</span><span id=__span-112-3><a id=__codelineno-112-3 name=__codelineno-112-3 href=#__codelineno-112-3></a><span class=p>}</span>
</span></code></pre></div></p> <hr> <p><strong>8. <code>strchr</code></strong><br> <strong>功能</strong>：查找字符串中首次出现的指定字符。<br> <strong>函数原型</strong>：<code>char *strchr(const char *str, int c);</code><br> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-113-1><a id=__codelineno-113-1 name=__codelineno-113-1 href=#__codelineno-113-1></a><span class=kt>char</span><span class=w> </span><span class=o>*</span><span class=n>pos</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>strchr</span><span class=p>(</span><span class=s>&quot;Hello&quot;</span><span class=p>,</span><span class=w> </span><span class=sc>&#39;e&#39;</span><span class=p>);</span>
</span><span id=__span-113-2><a id=__codelineno-113-2 name=__codelineno-113-2 href=#__codelineno-113-2></a><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>pos</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-113-3><a id=__codelineno-113-3 name=__codelineno-113-3 href=#__codelineno-113-3></a><span class=w>    </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;Found at index %ld</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=n>pos</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=s>&quot;Hello&quot;</span><span class=p>);</span>
</span><span id=__span-113-4><a id=__codelineno-113-4 name=__codelineno-113-4 href=#__codelineno-113-4></a><span class=p>}</span>
</span><span id=__span-113-5><a id=__codelineno-113-5 name=__codelineno-113-5 href=#__codelineno-113-5></a><span class=cm>/*</span>
</span><span id=__span-113-6><a id=__codelineno-113-6 name=__codelineno-113-6 href=#__codelineno-113-6></a><span class=cm>查找字符第一次出现的位置。如果找到了，函数会返回指向该字符的指针；如果找不到，则返回 NULL。</span>
</span><span id=__span-113-7><a id=__codelineno-113-7 name=__codelineno-113-7 href=#__codelineno-113-7></a><span class=cm>&quot;Hello&quot; 是字符串的起始地址。</span>
</span><span id=__span-113-8><a id=__codelineno-113-8 name=__codelineno-113-8 href=#__codelineno-113-8></a><span class=cm>pos 是目标字符 &#39;e&#39; 的地址。</span>
</span><span id=__span-113-9><a id=__codelineno-113-9 name=__codelineno-113-9 href=#__codelineno-113-9></a><span class=cm>将两个指针相减，结果就是目标字符相对于字符串起始位置的索引。</span>
</span><span id=__span-113-10><a id=__codelineno-113-10 name=__codelineno-113-10 href=#__codelineno-113-10></a><span class=cm>*/</span>
</span></code></pre></div></p> <hr> <p><strong>9. <code>strrchr</code></strong><br> <strong>功能</strong>：查找字符串中最后一次出现的指定字符。<br> <strong>函数原型</strong>：<code>char *strrchr(const char *str, int c);</code><br> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-114-1><a id=__codelineno-114-1 name=__codelineno-114-1 href=#__codelineno-114-1></a><span class=kt>char</span><span class=w> </span><span class=o>*</span><span class=n>pos</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>strrchr</span><span class=p>(</span><span class=s>&quot;Hello&quot;</span><span class=p>,</span><span class=w> </span><span class=sc>&#39;l&#39;</span><span class=p>);</span>
</span><span id=__span-114-2><a id=__codelineno-114-2 name=__codelineno-114-2 href=#__codelineno-114-2></a><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>pos</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-114-3><a id=__codelineno-114-3 name=__codelineno-114-3 href=#__codelineno-114-3></a><span class=w>    </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;Found at index %ld</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=n>pos</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=s>&quot;Hello&quot;</span><span class=p>);</span>
</span><span id=__span-114-4><a id=__codelineno-114-4 name=__codelineno-114-4 href=#__codelineno-114-4></a><span class=p>}</span>
</span></code></pre></div></p> <hr> <p><strong>10. <code>strstr</code></strong><br> <strong>功能</strong>：查找字符串中首次出现的子串。<br> <strong>函数原型</strong>：<code>char *strstr(const char *haystack, const char *needle);</code><br> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-115-1><a id=__codelineno-115-1 name=__codelineno-115-1 href=#__codelineno-115-1></a><span class=kt>char</span><span class=w> </span><span class=o>*</span><span class=n>pos</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>strstr</span><span class=p>(</span><span class=s>&quot;Hello World&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;World&quot;</span><span class=p>);</span>
</span><span id=__span-115-2><a id=__codelineno-115-2 name=__codelineno-115-2 href=#__codelineno-115-2></a><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>pos</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-115-3><a id=__codelineno-115-3 name=__codelineno-115-3 href=#__codelineno-115-3></a><span class=w>    </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;Substring found: %s</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=n>pos</span><span class=p>);</span>
</span><span id=__span-115-4><a id=__codelineno-115-4 name=__codelineno-115-4 href=#__codelineno-115-4></a><span class=p>}</span>
</span></code></pre></div></p> <hr> <p><strong>11. <code>strtok</code></strong><br> <strong>功能</strong>：分割字符串（以指定分隔符为界）。<br> <strong>函数原型</strong>：<code>char *strtok(char *str, const char *delim);</code><br> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-116-1><a id=__codelineno-116-1 name=__codelineno-116-1 href=#__codelineno-116-1></a><span class=kt>char</span><span class=w> </span><span class=n>str</span><span class=p>[]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&quot;Hello,World&quot;</span><span class=p>;</span>
</span><span id=__span-116-2><a id=__codelineno-116-2 name=__codelineno-116-2 href=#__codelineno-116-2></a><span class=kt>char</span><span class=w> </span><span class=o>*</span><span class=n>token</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>strtok</span><span class=p>(</span><span class=n>str</span><span class=p>,</span><span class=w> </span><span class=s>&quot;,&quot;</span><span class=p>);</span>
</span><span id=__span-116-3><a id=__codelineno-116-3 name=__codelineno-116-3 href=#__codelineno-116-3></a><span class=k>while</span><span class=w> </span><span class=p>(</span><span class=n>token</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-116-4><a id=__codelineno-116-4 name=__codelineno-116-4 href=#__codelineno-116-4></a><span class=w>    </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%s</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=n>token</span><span class=p>);</span>
</span><span id=__span-116-5><a id=__codelineno-116-5 name=__codelineno-116-5 href=#__codelineno-116-5></a><span class=w>    </span><span class=n>token</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>strtok</span><span class=p>(</span><span class=nb>NULL</span><span class=p>,</span><span class=w> </span><span class=s>&quot;,&quot;</span><span class=p>);</span>
</span><span id=__span-116-6><a id=__codelineno-116-6 name=__codelineno-116-6 href=#__codelineno-116-6></a><span class=p>}</span>
</span><span id=__span-116-7><a id=__codelineno-116-7 name=__codelineno-116-7 href=#__codelineno-116-7></a><span class=cm>/*</span>
</span><span id=__span-116-8><a id=__codelineno-116-8 name=__codelineno-116-8 href=#__codelineno-116-8></a><span class=cm>char *strtok(char *__restrict__ __s, const char *__restrict__ __delim)</span>
</span><span id=__span-116-9><a id=__codelineno-116-9 name=__codelineno-116-9 href=#__codelineno-116-9></a>
</span><span id=__span-116-10><a id=__codelineno-116-10 name=__codelineno-116-10 href=#__codelineno-116-10></a><span class=cm>Divide S into tokens separated by characters in DELIM.</span>
</span><span id=__span-116-11><a id=__codelineno-116-11 name=__codelineno-116-11 href=#__codelineno-116-11></a><span class=cm>*/</span>
</span><span id=__span-116-12><a id=__codelineno-116-12 name=__codelineno-116-12 href=#__codelineno-116-12></a>
</span><span id=__span-116-13><a id=__codelineno-116-13 name=__codelineno-116-13 href=#__codelineno-116-13></a><span class=cm>/*</span>
</span><span id=__span-116-14><a id=__codelineno-116-14 name=__codelineno-116-14 href=#__codelineno-116-14></a>
</span><span id=__span-116-15><a id=__codelineno-116-15 name=__codelineno-116-15 href=#__codelineno-116-15></a><span class=cm> 1. **`char str[] = &quot;Hello,World&quot;;`**</span>
</span><span id=__span-116-16><a id=__codelineno-116-16 name=__codelineno-116-16 href=#__codelineno-116-16></a><span class=cm>   - 定义了一个字符串数组 `str`，其中包含内容 `&quot;Hello,World&quot;`。</span>
</span><span id=__span-116-17><a id=__codelineno-116-17 name=__codelineno-116-17 href=#__codelineno-116-17></a><span class=cm>   - 字符串 `str` 可被修改（不同于字符串常量）。</span>
</span><span id=__span-116-18><a id=__codelineno-116-18 name=__codelineno-116-18 href=#__codelineno-116-18></a>
</span><span id=__span-116-19><a id=__codelineno-116-19 name=__codelineno-116-19 href=#__codelineno-116-19></a><span class=cm> 2. **`char *token = strtok(str, &quot;,&quot;);`**</span>
</span><span id=__span-116-20><a id=__codelineno-116-20 name=__codelineno-116-20 href=#__codelineno-116-20></a><span class=cm>   - `strtok` 函数用于将字符串 `str` 按分隔符 `&quot;,&quot;`（逗号）进行分割。</span>
</span><span id=__span-116-21><a id=__codelineno-116-21 name=__codelineno-116-21 href=#__codelineno-116-21></a><span class=cm>   - 第一次调用时，`strtok` 将会：</span>
</span><span id=__span-116-22><a id=__codelineno-116-22 name=__codelineno-116-22 href=#__codelineno-116-22></a><span class=cm>     1. 查找第一个分隔符 `&#39;,&#39;`。</span>
</span><span id=__span-116-23><a id=__codelineno-116-23 name=__codelineno-116-23 href=#__codelineno-116-23></a><span class=cm>     2. 将分隔符替换为 `&#39;\0&#39;`（字符串结束符）。</span>
</span><span id=__span-116-24><a id=__codelineno-116-24 name=__codelineno-116-24 href=#__codelineno-116-24></a><span class=cm>     3. 返回指向第一个子字符串（即 `Hello`）的指针。</span>
</span><span id=__span-116-25><a id=__codelineno-116-25 name=__codelineno-116-25 href=#__codelineno-116-25></a>
</span><span id=__span-116-26><a id=__codelineno-116-26 name=__codelineno-116-26 href=#__codelineno-116-26></a><span class=cm> 3. **`while (token) {`**</span>
</span><span id=__span-116-27><a id=__codelineno-116-27 name=__codelineno-116-27 href=#__codelineno-116-27></a><span class=cm>   - 只要 `token` 不为 `NULL`，就继续循环。</span>
</span><span id=__span-116-28><a id=__codelineno-116-28 name=__codelineno-116-28 href=#__codelineno-116-28></a><span class=cm>   - `strtok` 会返回每个子字符串的指针，直到字符串末尾时返回 `NULL`。</span>
</span><span id=__span-116-29><a id=__codelineno-116-29 name=__codelineno-116-29 href=#__codelineno-116-29></a>
</span><span id=__span-116-30><a id=__codelineno-116-30 name=__codelineno-116-30 href=#__codelineno-116-30></a><span class=cm> 4. **`printf(&quot;%s\n&quot;, token);`**</span>
</span><span id=__span-116-31><a id=__codelineno-116-31 name=__codelineno-116-31 href=#__codelineno-116-31></a><span class=cm>   - 打印当前的子字符串（token）。</span>
</span><span id=__span-116-32><a id=__codelineno-116-32 name=__codelineno-116-32 href=#__codelineno-116-32></a>
</span><span id=__span-116-33><a id=__codelineno-116-33 name=__codelineno-116-33 href=#__codelineno-116-33></a><span class=cm> 5. **`token = strtok(NULL, &quot;,&quot;);`**</span>
</span><span id=__span-116-34><a id=__codelineno-116-34 name=__codelineno-116-34 href=#__codelineno-116-34></a><span class=cm>   - 继续查找下一个子字符串：</span>
</span><span id=__span-116-35><a id=__codelineno-116-35 name=__codelineno-116-35 href=#__codelineno-116-35></a><span class=cm>     - 第二次及之后的调用中，传入的第一个参数必须为 `NULL`，表示继续处理上一次的字符串。</span>
</span><span id=__span-116-36><a id=__codelineno-116-36 name=__codelineno-116-36 href=#__codelineno-116-36></a><span class=cm>     - 查找到下一个分隔符，返回对应的子字符串指针。</span>
</span><span id=__span-116-37><a id=__codelineno-116-37 name=__codelineno-116-37 href=#__codelineno-116-37></a><span class=cm>*/</span>
</span></code></pre></div></p> <hr> <p><strong>12. <code>memset</code></strong><br> <strong>功能</strong>：将内存的某一部分设置为指定值。<br> <strong>函数原型</strong>：<code>void *memset(void *s, int c, size_t n);</code><br> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-117-1><a id=__codelineno-117-1 name=__codelineno-117-1 href=#__codelineno-117-1></a><span class=kt>char</span><span class=w> </span><span class=n>buffer</span><span class=p>[</span><span class=mi>10</span><span class=p>];</span>
</span><span id=__span-117-2><a id=__codelineno-117-2 name=__codelineno-117-2 href=#__codelineno-117-2></a><span class=n>memset</span><span class=p>(</span><span class=n>buffer</span><span class=p>,</span><span class=w> </span><span class=sc>&#39;A&#39;</span><span class=p>,</span><span class=w> </span><span class=mi>10</span><span class=p>);</span>
</span><span id=__span-117-3><a id=__codelineno-117-3 name=__codelineno-117-3 href=#__codelineno-117-3></a><span class=n>buffer</span><span class=p>[</span><span class=mi>9</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=sc>&#39;\0&#39;</span><span class=p>;</span>
</span><span id=__span-117-4><a id=__codelineno-117-4 name=__codelineno-117-4 href=#__codelineno-117-4></a><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%s</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=n>buffer</span><span class=p>);</span><span class=w> </span><span class=c1>// 输出 &quot;AAAAAAAAA&quot;</span>
</span></code></pre></div></p> <hr> <p><strong>13. <code>memcpy</code></strong><br> <strong>功能</strong>：复制内存区域。<br> <strong>函数原型</strong>：<code>void *memcpy(void *dest, const void *src, size_t n);</code><br> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-118-1><a id=__codelineno-118-1 name=__codelineno-118-1 href=#__codelineno-118-1></a><span class=kt>char</span><span class=w> </span><span class=n>src</span><span class=p>[]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&quot;Hello&quot;</span><span class=p>;</span>
</span><span id=__span-118-2><a id=__codelineno-118-2 name=__codelineno-118-2 href=#__codelineno-118-2></a><span class=kt>char</span><span class=w> </span><span class=n>dest</span><span class=p>[</span><span class=mi>10</span><span class=p>];</span>
</span><span id=__span-118-3><a id=__codelineno-118-3 name=__codelineno-118-3 href=#__codelineno-118-3></a><span class=n>memcpy</span><span class=p>(</span><span class=n>dest</span><span class=p>,</span><span class=w> </span><span class=n>src</span><span class=p>,</span><span class=w> </span><span class=mi>6</span><span class=p>);</span>
</span><span id=__span-118-4><a id=__codelineno-118-4 name=__codelineno-118-4 href=#__codelineno-118-4></a><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%s</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=n>dest</span><span class=p>);</span><span class=w> </span><span class=c1>// 输出 &quot;Hello&quot;</span>
</span></code></pre></div></p> <hr> <p><strong>14. <code>memmove</code></strong><br> <strong>功能</strong>：在内存区域重叠时安全地复制内存。<br> <strong>函数原型</strong>：<code>void *memmove(void *dest, const void *src, size_t n);</code><br> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-119-1><a id=__codelineno-119-1 name=__codelineno-119-1 href=#__codelineno-119-1></a><span class=kt>char</span><span class=w> </span><span class=n>str</span><span class=p>[]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&quot;HelloWorld&quot;</span><span class=p>;</span>
</span><span id=__span-119-2><a id=__codelineno-119-2 name=__codelineno-119-2 href=#__codelineno-119-2></a><span class=n>memmove</span><span class=p>(</span><span class=n>str</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>5</span><span class=p>,</span><span class=w> </span><span class=n>str</span><span class=p>,</span><span class=w> </span><span class=mi>5</span><span class=p>);</span>
</span><span id=__span-119-3><a id=__codelineno-119-3 name=__codelineno-119-3 href=#__codelineno-119-3></a><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%s</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=n>str</span><span class=p>);</span><span class=w> </span><span class=c1>// 输出 &quot;HelloHello&quot;</span>
</span></code></pre></div></p> <hr> <p><strong>15. <code>memcmp</code></strong><br> <strong>功能</strong>：比较两个内存区域。<br> <strong>函数原型</strong>：<code>int memcmp(const void *s1, const void *s2, size_t n);</code><br> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-120-1><a id=__codelineno-120-1 name=__codelineno-120-1 href=#__codelineno-120-1></a><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>memcmp</span><span class=p>(</span><span class=s>&quot;abc&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;abc&quot;</span><span class=p>,</span><span class=w> </span><span class=mi>3</span><span class=p>)</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=mi>0</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-120-2><a id=__codelineno-120-2 name=__codelineno-120-2 href=#__codelineno-120-2></a><span class=w>    </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;Memory is equal</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>);</span>
</span><span id=__span-120-3><a id=__codelineno-120-3 name=__codelineno-120-3 href=#__codelineno-120-3></a><span class=p>}</span>
</span></code></pre></div></p> <hr> <p><strong>16. <code>strdup</code></strong> <em>(POSIX标准，部分实现中提供)</em><br> <strong>功能</strong>：复制字符串并返回新分配的副本。<br> <strong>函数原型</strong>：<code>char *strdup(const char *str);</code><br> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-121-1><a id=__codelineno-121-1 name=__codelineno-121-1 href=#__codelineno-121-1></a><span class=kt>char</span><span class=w> </span><span class=o>*</span><span class=n>copy</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>strdup</span><span class=p>(</span><span class=s>&quot;Hello&quot;</span><span class=p>);</span>
</span><span id=__span-121-2><a id=__codelineno-121-2 name=__codelineno-121-2 href=#__codelineno-121-2></a><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%s</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=n>copy</span><span class=p>);</span>
</span><span id=__span-121-3><a id=__codelineno-121-3 name=__codelineno-121-3 href=#__codelineno-121-3></a><span class=n>free</span><span class=p>(</span><span class=n>copy</span><span class=p>);</span>
</span></code></pre></div></p> <hr> <p><strong>17. <code>strcspn</code></strong><br> <strong>功能</strong>：返回在字符串中找到的第一个不属于指定字符集的字符位置。<br> <strong>函数原型</strong>：<code>size_t strcspn(const char *str1, const char *str2);</code><br> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-122-1><a id=__codelineno-122-1 name=__codelineno-122-1 href=#__codelineno-122-1></a><span class=kt>size_t</span><span class=w> </span><span class=n>pos</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>strcspn</span><span class=p>(</span><span class=s>&quot;Hello, World&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot; ,&quot;</span><span class=p>);</span>
</span><span id=__span-122-2><a id=__codelineno-122-2 name=__codelineno-122-2 href=#__codelineno-122-2></a><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%zu</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=n>pos</span><span class=p>);</span><span class=w> </span><span class=c1>// 输出 5</span>
</span></code></pre></div></p> <hr> <p><strong>18. <code>strspn</code></strong><br> <strong>功能</strong>：返回字符串中连续包含指定字符集的字符数。<br> <strong>函数原型</strong>：<code>size_t strspn(const char *str1, const char *str2);</code><br> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-123-1><a id=__codelineno-123-1 name=__codelineno-123-1 href=#__codelineno-123-1></a><span class=kt>size_t</span><span class=w> </span><span class=n>len</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>strspn</span><span class=p>(</span><span class=s>&quot;abcdef&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;abc&quot;</span><span class=p>);</span>
</span><span id=__span-123-2><a id=__codelineno-123-2 name=__codelineno-123-2 href=#__codelineno-123-2></a><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%zu</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=n>len</span><span class=p>);</span><span class=w> </span><span class=c1>// 输出 3</span>
</span></code></pre></div></p> <hr> <p><strong>19. <code>strpbrk</code></strong><br> <strong>功能</strong>：查找字符串中第一个包含在指定字符集中的字符。<br> <strong>函数原型</strong>：<code>char *strpbrk(const char *str1, const char *str2);</code><br> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-124-1><a id=__codelineno-124-1 name=__codelineno-124-1 href=#__codelineno-124-1></a><span class=kt>char</span><span class=w> </span><span class=o>*</span><span class=n>pos</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>strpbrk</span><span class=p>(</span><span class=s>&quot;Hello, World&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;,!&quot;</span><span class=p>);</span>
</span><span id=__span-124-2><a id=__codelineno-124-2 name=__codelineno-124-2 href=#__codelineno-124-2></a><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>pos</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-124-3><a id=__codelineno-124-3 name=__codelineno-124-3 href=#__codelineno-124-3></a><span class=w>    </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;Found: %c</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=o>*</span><span class=n>pos</span><span class=p>);</span><span class=w> </span><span class=c1>// 输出 &#39;,&#39;</span>
</span><span id=__span-124-4><a id=__codelineno-124-4 name=__codelineno-124-4 href=#__codelineno-124-4></a><span class=p>}</span>
</span></code></pre></div></p> <hr> <p><strong>20. <code>strrev</code></strong> <em>(非标准函数，部分实现中提供)</em><br> <strong>功能</strong>：反转字符串。<br> <strong>函数原型</strong>：<code>char *strrev(char *str);</code><br> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-125-1><a id=__codelineno-125-1 name=__codelineno-125-1 href=#__codelineno-125-1></a><span class=kt>char</span><span class=w> </span><span class=n>str</span><span class=p>[]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&quot;Hello&quot;</span><span class=p>;</span>
</span><span id=__span-125-2><a id=__codelineno-125-2 name=__codelineno-125-2 href=#__codelineno-125-2></a><span class=n>strrev</span><span class=p>(</span><span class=n>str</span><span class=p>);</span>
</span><span id=__span-125-3><a id=__codelineno-125-3 name=__codelineno-125-3 href=#__codelineno-125-3></a><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%s</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=n>str</span><span class=p>);</span><span class=w> </span><span class=c1>// 输出 &quot;olleH&quot;</span>
</span></code></pre></div></p> <h4 id=ctypeh>ctype.h<a class=headerlink href=#ctypeh title="Permanent link">&para;</a></h4> <p><strong>1. <code>isalnum</code></strong><br> <strong>功能</strong>：检查字符是否为字母或数字。<br> <strong>函数原型</strong>：<code>int isalnum(int c);</code><br> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-126-1><a id=__codelineno-126-1 name=__codelineno-126-1 href=#__codelineno-126-1></a><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>isalnum</span><span class=p>(</span><span class=sc>&#39;A&#39;</span><span class=p>))</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-126-2><a id=__codelineno-126-2 name=__codelineno-126-2 href=#__codelineno-126-2></a><span class=w>    </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;Alphanumeric</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>);</span>
</span><span id=__span-126-3><a id=__codelineno-126-3 name=__codelineno-126-3 href=#__codelineno-126-3></a><span class=p>}</span>
</span></code></pre></div></p> <hr> <p><strong>2. <code>isalpha</code></strong><br> <strong>功能</strong>：检查字符是否为字母。<br> <strong>函数原型</strong>：<code>int isalpha(int c);</code><br> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-127-1><a id=__codelineno-127-1 name=__codelineno-127-1 href=#__codelineno-127-1></a><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>isalpha</span><span class=p>(</span><span class=sc>&#39;b&#39;</span><span class=p>))</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-127-2><a id=__codelineno-127-2 name=__codelineno-127-2 href=#__codelineno-127-2></a><span class=w>    </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;Alphabet</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>);</span>
</span><span id=__span-127-3><a id=__codelineno-127-3 name=__codelineno-127-3 href=#__codelineno-127-3></a><span class=p>}</span>
</span></code></pre></div></p> <hr> <p><strong>3. <code>isdigit</code></strong><br> <strong>功能</strong>：检查字符是否为数字（0-9）。<br> <strong>函数原型</strong>：<code>int isdigit(int c);</code><br> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-128-1><a id=__codelineno-128-1 name=__codelineno-128-1 href=#__codelineno-128-1></a><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>isdigit</span><span class=p>(</span><span class=sc>&#39;5&#39;</span><span class=p>))</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-128-2><a id=__codelineno-128-2 name=__codelineno-128-2 href=#__codelineno-128-2></a><span class=w>    </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;Digit</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>);</span>
</span><span id=__span-128-3><a id=__codelineno-128-3 name=__codelineno-128-3 href=#__codelineno-128-3></a><span class=p>}</span>
</span></code></pre></div></p> <hr> <p><strong>4. <code>islower</code></strong><br> <strong>功能</strong>：检查字符是否为小写字母。<br> <strong>函数原型</strong>：<code>int islower(int c);</code><br> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-129-1><a id=__codelineno-129-1 name=__codelineno-129-1 href=#__codelineno-129-1></a><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>islower</span><span class=p>(</span><span class=sc>&#39;a&#39;</span><span class=p>))</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-129-2><a id=__codelineno-129-2 name=__codelineno-129-2 href=#__codelineno-129-2></a><span class=w>    </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;Lowercase</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>);</span>
</span><span id=__span-129-3><a id=__codelineno-129-3 name=__codelineno-129-3 href=#__codelineno-129-3></a><span class=p>}</span>
</span></code></pre></div></p> <hr> <p><strong>5. <code>isupper</code></strong><br> <strong>功能</strong>：检查字符是否为大写字母。<br> <strong>函数原型</strong>：<code>int isupper(int c);</code><br> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-130-1><a id=__codelineno-130-1 name=__codelineno-130-1 href=#__codelineno-130-1></a><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>isupper</span><span class=p>(</span><span class=sc>&#39;Z&#39;</span><span class=p>))</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-130-2><a id=__codelineno-130-2 name=__codelineno-130-2 href=#__codelineno-130-2></a><span class=w>    </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;Uppercase</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>);</span>
</span><span id=__span-130-3><a id=__codelineno-130-3 name=__codelineno-130-3 href=#__codelineno-130-3></a><span class=p>}</span>
</span></code></pre></div></p> <hr> <p><strong>6. <code>isspace</code></strong><br> <strong>功能</strong>：检查字符是否为空白字符（如空格、换行、制表符）。<br> <strong>函数原型</strong>：<code>int isspace(int c);</code><br> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-131-1><a id=__codelineno-131-1 name=__codelineno-131-1 href=#__codelineno-131-1></a><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>isspace</span><span class=p>(</span><span class=sc>&#39; &#39;</span><span class=p>))</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-131-2><a id=__codelineno-131-2 name=__codelineno-131-2 href=#__codelineno-131-2></a><span class=w>    </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;Whitespace</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>);</span>
</span><span id=__span-131-3><a id=__codelineno-131-3 name=__codelineno-131-3 href=#__codelineno-131-3></a><span class=p>}</span>
</span></code></pre></div></p> <hr> <p><strong>7. <code>iscntrl</code></strong><br> <strong>功能</strong>：检查字符是否为控制字符（如回车、删除等）。<br> <strong>函数原型</strong>：<code>int iscntrl(int c);</code><br> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-132-1><a id=__codelineno-132-1 name=__codelineno-132-1 href=#__codelineno-132-1></a><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>iscntrl</span><span class=p>(</span><span class=sc>&#39;\n&#39;</span><span class=p>))</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-132-2><a id=__codelineno-132-2 name=__codelineno-132-2 href=#__codelineno-132-2></a><span class=w>    </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;Control character</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>);</span>
</span><span id=__span-132-3><a id=__codelineno-132-3 name=__codelineno-132-3 href=#__codelineno-132-3></a><span class=p>}</span>
</span></code></pre></div></p> <hr> <p><strong>8. <code>isprint</code></strong><br> <strong>功能</strong>：检查字符是否为可打印字符（包括空格）。<br> <strong>函数原型</strong>：<code>int isprint(int c);</code><br> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-133-1><a id=__codelineno-133-1 name=__codelineno-133-1 href=#__codelineno-133-1></a><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>isprint</span><span class=p>(</span><span class=sc>&#39;A&#39;</span><span class=p>))</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-133-2><a id=__codelineno-133-2 name=__codelineno-133-2 href=#__codelineno-133-2></a><span class=w>    </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;Printable</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>);</span>
</span><span id=__span-133-3><a id=__codelineno-133-3 name=__codelineno-133-3 href=#__codelineno-133-3></a><span class=p>}</span>
</span></code></pre></div></p> <hr> <p><strong>9. <code>isgraph</code></strong><br> <strong>功能</strong>：检查字符是否为可打印字符（不包括空格）。<br> <strong>函数原型</strong>：<code>int isgraph(int c);</code><br> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-134-1><a id=__codelineno-134-1 name=__codelineno-134-1 href=#__codelineno-134-1></a><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>isgraph</span><span class=p>(</span><span class=sc>&#39;!&#39;</span><span class=p>))</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-134-2><a id=__codelineno-134-2 name=__codelineno-134-2 href=#__codelineno-134-2></a><span class=w>    </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;Graphical character</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>);</span>
</span><span id=__span-134-3><a id=__codelineno-134-3 name=__codelineno-134-3 href=#__codelineno-134-3></a><span class=p>}</span>
</span></code></pre></div></p> <hr> <p><strong>10. <code>ispunct</code></strong><br> <strong>功能</strong>：检查字符是否为标点符号。<br> <strong>函数原型</strong>：<code>int ispunct(int c);</code><br> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-135-1><a id=__codelineno-135-1 name=__codelineno-135-1 href=#__codelineno-135-1></a><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>ispunct</span><span class=p>(</span><span class=sc>&#39;?&#39;</span><span class=p>))</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-135-2><a id=__codelineno-135-2 name=__codelineno-135-2 href=#__codelineno-135-2></a><span class=w>    </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;Punctuation</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>);</span>
</span><span id=__span-135-3><a id=__codelineno-135-3 name=__codelineno-135-3 href=#__codelineno-135-3></a><span class=p>}</span>
</span></code></pre></div></p> <hr> <p><strong>11. <code>tolower</code></strong><br> <strong>功能</strong>：将字符转换为小写（若可能）。<br> <strong>函数原型</strong>：<code>int tolower(int c);</code><br> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-136-1><a id=__codelineno-136-1 name=__codelineno-136-1 href=#__codelineno-136-1></a><span class=kt>char</span><span class=w> </span><span class=n>ch</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>tolower</span><span class=p>(</span><span class=sc>&#39;A&#39;</span><span class=p>);</span>
</span><span id=__span-136-2><a id=__codelineno-136-2 name=__codelineno-136-2 href=#__codelineno-136-2></a><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%c</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=n>ch</span><span class=p>);</span><span class=w> </span><span class=c1>// 输出 &#39;a&#39;</span>
</span></code></pre></div></p> <hr> <p><strong>12. <code>toupper</code></strong><br> <strong>功能</strong>：将字符转换为大写（若可能）。<br> <strong>函数原型</strong>：<code>int toupper(int c);</code><br> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-137-1><a id=__codelineno-137-1 name=__codelineno-137-1 href=#__codelineno-137-1></a><span class=kt>char</span><span class=w> </span><span class=n>ch</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>toupper</span><span class=p>(</span><span class=sc>&#39;a&#39;</span><span class=p>);</span>
</span><span id=__span-137-2><a id=__codelineno-137-2 name=__codelineno-137-2 href=#__codelineno-137-2></a><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%c</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=n>ch</span><span class=p>);</span><span class=w> </span><span class=c1>// 输出 &#39;A&#39;</span>
</span></code></pre></div></p> <hr> <p><strong>13. <code>isxdigit</code></strong><br> <strong>功能</strong>：检查字符是否为十六进制数字（0-9, A-F, a-f）。<br> <strong>函数原型</strong>：<code>int isxdigit(int c);</code><br> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-138-1><a id=__codelineno-138-1 name=__codelineno-138-1 href=#__codelineno-138-1></a><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>isxdigit</span><span class=p>(</span><span class=sc>&#39;F&#39;</span><span class=p>))</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-138-2><a id=__codelineno-138-2 name=__codelineno-138-2 href=#__codelineno-138-2></a><span class=w>    </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;Hexadecimal digit</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>);</span>
</span><span id=__span-138-3><a id=__codelineno-138-3 name=__codelineno-138-3 href=#__codelineno-138-3></a><span class=p>}</span>
</span></code></pre></div></p> <hr> <p><strong>14. <code>isblank</code></strong> <em>(C99标准新增)</em><br> <strong>功能</strong>：检查字符是否为空格或制表符。<br> <strong>函数原型</strong>：<code>int isblank(int c);</code><br> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-139-1><a id=__codelineno-139-1 name=__codelineno-139-1 href=#__codelineno-139-1></a><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>isblank</span><span class=p>(</span><span class=sc>&#39;\t&#39;</span><span class=p>))</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-139-2><a id=__codelineno-139-2 name=__codelineno-139-2 href=#__codelineno-139-2></a><span class=w>    </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;Blank character</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>);</span>
</span><span id=__span-139-3><a id=__codelineno-139-3 name=__codelineno-139-3 href=#__codelineno-139-3></a><span class=p>}</span>
</span></code></pre></div></p> <hr> <p><strong>15. <code>isascii</code></strong> <em>(非标准函数，部分实现中提供)</em><br> <strong>功能</strong>：检查字符是否为ASCII字符（0-127）。<br> <strong>函数原型</strong>：<code>int isascii(int c);</code><br> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-140-1><a id=__codelineno-140-1 name=__codelineno-140-1 href=#__codelineno-140-1></a><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>isascii</span><span class=p>(</span><span class=mi>65</span><span class=p>))</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-140-2><a id=__codelineno-140-2 name=__codelineno-140-2 href=#__codelineno-140-2></a><span class=w>    </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;ASCII character</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>);</span>
</span><span id=__span-140-3><a id=__codelineno-140-3 name=__codelineno-140-3 href=#__codelineno-140-3></a><span class=p>}</span>
</span></code></pre></div></p> <hr> <p><strong>16. <code>toascii</code></strong> <em>(非标准函数，部分实现中提供)</em><br> <strong>功能</strong>：将字符转换为ASCII值。<br> <strong>函数原型</strong>：<code>int toascii(int c);</code><br> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-141-1><a id=__codelineno-141-1 name=__codelineno-141-1 href=#__codelineno-141-1></a><span class=kt>int</span><span class=w> </span><span class=n>ascii</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>toascii</span><span class=p>(</span><span class=sc>&#39;A&#39;</span><span class=p>);</span>
</span><span id=__span-141-2><a id=__codelineno-141-2 name=__codelineno-141-2 href=#__codelineno-141-2></a><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%d</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=n>ascii</span><span class=p>);</span><span class=w> </span><span class=c1>// 输出 65</span>
</span></code></pre></div></p> <h4 id=stdlibh>stdlib.h<a class=headerlink href=#stdlibh title="Permanent link">&para;</a></h4> <p><strong>1. <code>malloc</code></strong><br> <strong>功能</strong>：分配动态内存。<br> <strong>函数原型</strong>：<code>void *malloc(size_t size);</code><br> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-142-1><a id=__codelineno-142-1 name=__codelineno-142-1 href=#__codelineno-142-1></a><span class=kt>int</span><span class=w> </span><span class=o>*</span><span class=n>ptr</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=o>*</span><span class=p>)</span><span class=n>malloc</span><span class=p>(</span><span class=mi>5</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>sizeof</span><span class=p>(</span><span class=kt>int</span><span class=p>));</span>
</span><span id=__span-142-2><a id=__codelineno-142-2 name=__codelineno-142-2 href=#__codelineno-142-2></a><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>ptr</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-142-3><a id=__codelineno-142-3 name=__codelineno-142-3 href=#__codelineno-142-3></a><span class=w>    </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;Memory allocated</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>);</span>
</span><span id=__span-142-4><a id=__codelineno-142-4 name=__codelineno-142-4 href=#__codelineno-142-4></a><span class=w>    </span><span class=n>free</span><span class=p>(</span><span class=n>ptr</span><span class=p>);</span>
</span><span id=__span-142-5><a id=__codelineno-142-5 name=__codelineno-142-5 href=#__codelineno-142-5></a><span class=p>}</span>
</span></code></pre></div></p> <hr> <p><strong>2. <code>calloc</code></strong><br> <strong>功能</strong>：分配并初始化动态内存。<br> <strong>函数原型</strong>：<code>void *calloc(size_t num, size_t size);</code><br> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-143-1><a id=__codelineno-143-1 name=__codelineno-143-1 href=#__codelineno-143-1></a><span class=kt>int</span><span class=w> </span><span class=o>*</span><span class=n>ptr</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=o>*</span><span class=p>)</span><span class=n>calloc</span><span class=p>(</span><span class=mi>5</span><span class=p>,</span><span class=w> </span><span class=k>sizeof</span><span class=p>(</span><span class=kt>int</span><span class=p>));</span>
</span><span id=__span-143-2><a id=__codelineno-143-2 name=__codelineno-143-2 href=#__codelineno-143-2></a><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>ptr</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-143-3><a id=__codelineno-143-3 name=__codelineno-143-3 href=#__codelineno-143-3></a><span class=w>    </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;Memory allocated and initialized to zero</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>);</span>
</span><span id=__span-143-4><a id=__codelineno-143-4 name=__codelineno-143-4 href=#__codelineno-143-4></a><span class=w>    </span><span class=n>free</span><span class=p>(</span><span class=n>ptr</span><span class=p>);</span>
</span><span id=__span-143-5><a id=__codelineno-143-5 name=__codelineno-143-5 href=#__codelineno-143-5></a><span class=p>}</span>
</span></code></pre></div></p> <hr> <p><strong>3. <code>realloc</code></strong><br> <strong>功能</strong>：调整动态内存大小。<br> <strong>函数原型</strong>：<code>void *realloc(void *ptr, size_t size);</code><br> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-144-1><a id=__codelineno-144-1 name=__codelineno-144-1 href=#__codelineno-144-1></a><span class=kt>int</span><span class=w> </span><span class=o>*</span><span class=n>ptr</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=o>*</span><span class=p>)</span><span class=n>malloc</span><span class=p>(</span><span class=mi>5</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>sizeof</span><span class=p>(</span><span class=kt>int</span><span class=p>));</span>
</span><span id=__span-144-2><a id=__codelineno-144-2 name=__codelineno-144-2 href=#__codelineno-144-2></a><span class=n>ptr</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=o>*</span><span class=p>)</span><span class=n>realloc</span><span class=p>(</span><span class=n>ptr</span><span class=p>,</span><span class=w> </span><span class=mi>10</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>sizeof</span><span class=p>(</span><span class=kt>int</span><span class=p>));</span>
</span><span id=__span-144-3><a id=__codelineno-144-3 name=__codelineno-144-3 href=#__codelineno-144-3></a><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>ptr</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-144-4><a id=__codelineno-144-4 name=__codelineno-144-4 href=#__codelineno-144-4></a><span class=w>    </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;Memory resized</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>);</span>
</span><span id=__span-144-5><a id=__codelineno-144-5 name=__codelineno-144-5 href=#__codelineno-144-5></a><span class=w>    </span><span class=n>free</span><span class=p>(</span><span class=n>ptr</span><span class=p>);</span>
</span><span id=__span-144-6><a id=__codelineno-144-6 name=__codelineno-144-6 href=#__codelineno-144-6></a><span class=p>}</span>
</span></code></pre></div></p> <hr> <p><strong>4. <code>free</code></strong><br> <strong>功能</strong>：释放动态内存。<br> <strong>函数原型</strong>：<code>void free(void *ptr);</code><br> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-145-1><a id=__codelineno-145-1 name=__codelineno-145-1 href=#__codelineno-145-1></a><span class=kt>int</span><span class=w> </span><span class=o>*</span><span class=n>ptr</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=o>*</span><span class=p>)</span><span class=n>malloc</span><span class=p>(</span><span class=mi>5</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>sizeof</span><span class=p>(</span><span class=kt>int</span><span class=p>));</span>
</span><span id=__span-145-2><a id=__codelineno-145-2 name=__codelineno-145-2 href=#__codelineno-145-2></a><span class=n>free</span><span class=p>(</span><span class=n>ptr</span><span class=p>);</span>
</span></code></pre></div></p> <hr> <p><strong>5. <code>abs</code></strong><br> <strong>功能</strong>：计算整数的绝对值。<br> <strong>函数原型</strong>：<code>int abs(int n);</code><br> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-146-1><a id=__codelineno-146-1 name=__codelineno-146-1 href=#__codelineno-146-1></a><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%d</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=n>abs</span><span class=p>(</span><span class=mi>-5</span><span class=p>));</span><span class=w> </span><span class=c1>// 输出 5</span>
</span></code></pre></div></p> <hr> <p><strong>6. <code>labs</code></strong><br> <strong>功能</strong>：计算长整数的绝对值。<br> <strong>函数原型</strong>：<code>long int labs(long int n);</code><br> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-147-1><a id=__codelineno-147-1 name=__codelineno-147-1 href=#__codelineno-147-1></a><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%ld</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=n>labs</span><span class=p>(</span><span class=mi>-123456789L</span><span class=p>));</span><span class=w> </span><span class=c1>// 输出 123456789</span>
</span></code></pre></div></p> <hr> <p><strong>7. <code>llabs</code></strong> <em>(C99标准新增)</em><br> <strong>功能</strong>：计算长长整数的绝对值。<br> <strong>函数原型</strong>：<code>long long int llabs(long long int n);</code><br> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-148-1><a id=__codelineno-148-1 name=__codelineno-148-1 href=#__codelineno-148-1></a><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%lld</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=n>llabs</span><span class=p>(</span><span class=mi>-123456789012345LL</span><span class=p>));</span><span class=w> </span><span class=c1>// 输出 123456789012345</span>
</span></code></pre></div></p> <hr> <p><strong>8. <code>atoi</code></strong><br> <strong>功能</strong>：将字符串转换为整数。<br> <strong>函数原型</strong>：<code>int atoi(const char *str);</code><br> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-149-1><a id=__codelineno-149-1 name=__codelineno-149-1 href=#__codelineno-149-1></a><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%d</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=n>atoi</span><span class=p>(</span><span class=s>&quot;123&quot;</span><span class=p>));</span><span class=w> </span><span class=c1>// 输出 123</span>
</span></code></pre></div></p> <hr> <p><strong>9. <code>atof</code></strong><br> <strong>功能</strong>：将字符串转换为浮点数。<br> <strong>函数原型</strong>：<code>double atof(const char *str);</code><br> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-150-1><a id=__codelineno-150-1 name=__codelineno-150-1 href=#__codelineno-150-1></a><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%f</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=n>atof</span><span class=p>(</span><span class=s>&quot;123.45&quot;</span><span class=p>));</span><span class=w> </span><span class=c1>// 输出 123.450000</span>
</span></code></pre></div></p> <hr> <p><strong>10. <code>atol</code></strong><br> <strong>功能</strong>：将字符串转换为长整数。<br> <strong>函数原型</strong>：<code>long int atol(const char *str);</code><br> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-151-1><a id=__codelineno-151-1 name=__codelineno-151-1 href=#__codelineno-151-1></a><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%ld</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=n>atol</span><span class=p>(</span><span class=s>&quot;123456789&quot;</span><span class=p>));</span><span class=w> </span><span class=c1>// 输出 123456789</span>
</span></code></pre></div></p> <hr> <p><strong>11. <code>atoll</code></strong> <em>(C99标准新增)</em><br> <strong>功能</strong>：将字符串转换为长长整数。<br> <strong>函数原型</strong>：<code>long long int atoll(const char *str);</code><br> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-152-1><a id=__codelineno-152-1 name=__codelineno-152-1 href=#__codelineno-152-1></a><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%lld</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=n>atoll</span><span class=p>(</span><span class=s>&quot;1234567890123&quot;</span><span class=p>));</span><span class=w> </span><span class=c1>// 输出 1234567890123</span>
</span></code></pre></div></p> <hr> <p><strong>12. <code>strtol</code></strong><br> <strong>功能</strong>：将字符串转换为长整数，支持指定进制。<br> <strong>函数原型</strong>：<code>long int strtol(const char *str, char **endptr, int base);</code><br> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-153-1><a id=__codelineno-153-1 name=__codelineno-153-1 href=#__codelineno-153-1></a><span class=kt>char</span><span class=w> </span><span class=o>*</span><span class=n>end</span><span class=p>;</span>
</span><span id=__span-153-2><a id=__codelineno-153-2 name=__codelineno-153-2 href=#__codelineno-153-2></a><span class=kt>long</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>value</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>strtol</span><span class=p>(</span><span class=s>&quot;123abc&quot;</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=n>end</span><span class=p>,</span><span class=w> </span><span class=mi>10</span><span class=p>);</span>
</span><span id=__span-153-3><a id=__codelineno-153-3 name=__codelineno-153-3 href=#__codelineno-153-3></a><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%ld</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=n>value</span><span class=p>);</span><span class=w> </span><span class=c1>// 输出 123</span>
</span></code></pre></div></p> <hr> <p><strong>13. <code>strtod</code></strong><br> <strong>功能</strong>：将字符串转换为双精度浮点数。<br> <strong>函数原型</strong>：<code>double strtod(const char *str, char **endptr);</code><br> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-154-1><a id=__codelineno-154-1 name=__codelineno-154-1 href=#__codelineno-154-1></a><span class=kt>char</span><span class=w> </span><span class=o>*</span><span class=n>end</span><span class=p>;</span>
</span><span id=__span-154-2><a id=__codelineno-154-2 name=__codelineno-154-2 href=#__codelineno-154-2></a><span class=kt>double</span><span class=w> </span><span class=n>value</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>strtod</span><span class=p>(</span><span class=s>&quot;123.45abc&quot;</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=n>end</span><span class=p>);</span>
</span><span id=__span-154-3><a id=__codelineno-154-3 name=__codelineno-154-3 href=#__codelineno-154-3></a><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%f</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=n>value</span><span class=p>);</span><span class=w> </span><span class=c1>// 输出 123.450000</span>
</span></code></pre></div></p> <hr> <p><strong>14. <code>rand</code></strong><br> <strong>功能</strong>：生成伪随机数。<br> <strong>函数原型</strong>：<code>int rand(void);</code><br> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-155-1><a id=__codelineno-155-1 name=__codelineno-155-1 href=#__codelineno-155-1></a><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%d</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=n>rand</span><span class=p>()</span><span class=w> </span><span class=o>%</span><span class=w> </span><span class=mi>100</span><span class=p>);</span><span class=w> </span><span class=c1>// 输出 0-99 的随机数</span>
</span></code></pre></div></p> <hr> <p><strong>15. <code>srand</code></strong><br> <strong>功能</strong>：设置随机数种子。<br> <strong>函数原型</strong>：<code>void srand(unsigned int seed);</code><br> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-156-1><a id=__codelineno-156-1 name=__codelineno-156-1 href=#__codelineno-156-1></a><span class=n>srand</span><span class=p>(</span><span class=n>time</span><span class=p>(</span><span class=nb>NULL</span><span class=p>));</span>
</span><span id=__span-156-2><a id=__codelineno-156-2 name=__codelineno-156-2 href=#__codelineno-156-2></a><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%d</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=n>rand</span><span class=p>()</span><span class=w> </span><span class=o>%</span><span class=w> </span><span class=mi>100</span><span class=p>);</span>
</span></code></pre></div></p> <hr> <p><strong>16. <code>system</code></strong><br> <strong>功能</strong>：执行系统命令。<br> <strong>函数原型</strong>：<code>int system(const char *command);</code><br> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-157-1><a id=__codelineno-157-1 name=__codelineno-157-1 href=#__codelineno-157-1></a><span class=n>system</span><span class=p>(</span><span class=s>&quot;ls&quot;</span><span class=p>);</span><span class=w> </span><span class=c1>// 在 Unix 系统上列出文件</span>
</span></code></pre></div></p> <hr> <p><strong>17. <code>bsearch</code></strong><br> <strong>功能</strong>：在排序数组中执行二分查找。<br> <strong>函数原型</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-158-1><a id=__codelineno-158-1 name=__codelineno-158-1 href=#__codelineno-158-1></a><span class=kt>void</span><span class=w> </span><span class=o>*</span><span class=nf>bsearch</span><span class=p>(</span><span class=k>const</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=o>*</span><span class=n>key</span><span class=p>,</span><span class=w> </span><span class=k>const</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=o>*</span><span class=n>base</span><span class=p>,</span><span class=w> </span><span class=kt>size_t</span><span class=w> </span><span class=n>nitems</span><span class=p>,</span><span class=w> </span><span class=kt>size_t</span><span class=w> </span><span class=n>size</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=p>(</span><span class=o>*</span><span class=n>compar</span><span class=p>)(</span><span class=k>const</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=o>*</span><span class=p>,</span><span class=w> </span><span class=k>const</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=o>*</span><span class=p>));</span>
</span></code></pre></div> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-159-1><a id=__codelineno-159-1 name=__codelineno-159-1 href=#__codelineno-159-1></a><span class=kt>int</span><span class=w> </span><span class=n>arr</span><span class=p>[]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>{</span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=mi>2</span><span class=p>,</span><span class=w> </span><span class=mi>3</span><span class=p>,</span><span class=w> </span><span class=mi>4</span><span class=p>,</span><span class=w> </span><span class=mi>5</span><span class=p>};</span>
</span><span id=__span-159-2><a id=__codelineno-159-2 name=__codelineno-159-2 href=#__codelineno-159-2></a><span class=kt>int</span><span class=w> </span><span class=n>key</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>3</span><span class=p>;</span>
</span><span id=__span-159-3><a id=__codelineno-159-3 name=__codelineno-159-3 href=#__codelineno-159-3></a><span class=kt>int</span><span class=w> </span><span class=o>*</span><span class=n>res</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=o>*</span><span class=p>)</span><span class=n>bsearch</span><span class=p>(</span><span class=o>&amp;</span><span class=n>key</span><span class=p>,</span><span class=w> </span><span class=n>arr</span><span class=p>,</span><span class=w> </span><span class=mi>5</span><span class=p>,</span><span class=w> </span><span class=k>sizeof</span><span class=p>(</span><span class=kt>int</span><span class=p>),</span><span class=w> </span><span class=n>compare</span><span class=p>);</span>
</span><span id=__span-159-4><a id=__codelineno-159-4 name=__codelineno-159-4 href=#__codelineno-159-4></a><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>res</span><span class=p>)</span><span class=w> </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;Found: %d</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=o>*</span><span class=n>res</span><span class=p>);</span>
</span></code></pre></div></p> <hr> <p><strong>18. <code>qsort</code></strong><br> <strong>功能</strong>：对数组进行快速排序。<br> <strong>函数原型</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-160-1><a id=__codelineno-160-1 name=__codelineno-160-1 href=#__codelineno-160-1></a><span class=kt>void</span><span class=w> </span><span class=nf>qsort</span><span class=p>(</span><span class=kt>void</span><span class=w> </span><span class=o>*</span><span class=n>base</span><span class=p>,</span><span class=w> </span><span class=kt>size_t</span><span class=w> </span><span class=n>nitems</span><span class=p>,</span><span class=w> </span><span class=kt>size_t</span><span class=w> </span><span class=n>size</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=p>(</span><span class=o>*</span><span class=n>compar</span><span class=p>)(</span><span class=k>const</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=o>*</span><span class=p>,</span><span class=w> </span><span class=k>const</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=o>*</span><span class=p>));</span>
</span></code></pre></div> <strong>compar函数的实现：</strong><br> <div class="language-c highlight"><pre><span></span><code><span id=__span-161-1><a id=__codelineno-161-1 name=__codelineno-161-1 href=#__codelineno-161-1></a><span class=kt>int</span><span class=w> </span><span class=nf>cmp</span><span class=p>(</span><span class=k>const</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=o>*</span><span class=n>a</span><span class=p>,</span><span class=w> </span><span class=k>const</span><span class=w> </span><span class=kt>void</span><span class=o>*</span><span class=w> </span><span class=n>b</span><span class=p>)</span><span class=w>  </span><span class=c1>// 这里在qsort函数原型中就是const void *的指针，所以不能变</span>
</span><span id=__span-161-2><a id=__codelineno-161-2 name=__codelineno-161-2 href=#__codelineno-161-2></a><span class=p>{</span>
</span><span id=__span-161-3><a id=__codelineno-161-3 name=__codelineno-161-3 href=#__codelineno-161-3></a><span class=w>    </span><span class=k>const</span><span class=w> </span><span class=kt>char</span><span class=w> </span><span class=o>*</span><span class=n>ca</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>(</span><span class=k>const</span><span class=w> </span><span class=kt>char</span><span class=o>*</span><span class=p>)</span><span class=n>a</span><span class=p>;</span><span class=w>  </span><span class=c1>// 根据要排序的数组的类型 选择强制类型转换的目标类型</span>
</span><span id=__span-161-4><a id=__codelineno-161-4 name=__codelineno-161-4 href=#__codelineno-161-4></a><span class=w>    </span><span class=k>const</span><span class=w> </span><span class=kt>char</span><span class=w> </span><span class=o>*</span><span class=n>cb</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>(</span><span class=k>const</span><span class=w> </span><span class=kt>char</span><span class=o>*</span><span class=p>)</span><span class=n>b</span><span class=p>;</span><span class=w>  </span><span class=c1>// 强制类型转换</span>
</span><span id=__span-161-5><a id=__codelineno-161-5 name=__codelineno-161-5 href=#__codelineno-161-5></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=o>*</span><span class=n>ca</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=o>*</span><span class=n>cb</span><span class=p>;</span>
</span><span id=__span-161-6><a id=__codelineno-161-6 name=__codelineno-161-6 href=#__codelineno-161-6></a><span class=p>}</span>
</span></code></pre></div> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-162-1><a id=__codelineno-162-1 name=__codelineno-162-1 href=#__codelineno-162-1></a><span class=kt>int</span><span class=w> </span><span class=n>arr</span><span class=p>[]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>{</span><span class=mi>5</span><span class=p>,</span><span class=w> </span><span class=mi>2</span><span class=p>,</span><span class=w> </span><span class=mi>3</span><span class=p>,</span><span class=w> </span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=mi>4</span><span class=p>};</span>
</span><span id=__span-162-2><a id=__codelineno-162-2 name=__codelineno-162-2 href=#__codelineno-162-2></a><span class=n>qsort</span><span class=p>(</span><span class=n>arr</span><span class=p>,</span><span class=w> </span><span class=mi>5</span><span class=p>,</span><span class=w> </span><span class=k>sizeof</span><span class=p>(</span><span class=kt>int</span><span class=p>),</span><span class=w> </span><span class=n>compare</span><span class=p>);</span>
</span><span id=__span-162-3><a id=__codelineno-162-3 name=__codelineno-162-3 href=#__codelineno-162-3></a><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=mi>5</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=o>++</span><span class=p>)</span><span class=w> </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%d &quot;</span><span class=p>,</span><span class=w> </span><span class=n>arr</span><span class=p>[</span><span class=n>i</span><span class=p>]);</span>
</span></code></pre></div></p> <hr> <p><strong>19. <code>exit</code></strong><br> <strong>功能</strong>：终止程序执行。<br> <strong>函数原型</strong>：<code>void exit(int status);</code><br> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-163-1><a id=__codelineno-163-1 name=__codelineno-163-1 href=#__codelineno-163-1></a><span class=n>printf</span><span class=p>(</span><span class=s>&quot;Exiting...</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>);</span>
</span><span id=__span-163-2><a id=__codelineno-163-2 name=__codelineno-163-2 href=#__codelineno-163-2></a><span class=n>exit</span><span class=p>(</span><span class=mi>0</span><span class=p>);</span>
</span></code></pre></div></p> <hr> <p><strong>20. <code>div</code></strong><br> <strong>功能</strong>：执行整数除法并返回商和余数。<br> <strong>函数原型</strong>：<code>div_t div(int numerator, int denominator);</code><br> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-164-1><a id=__codelineno-164-1 name=__codelineno-164-1 href=#__codelineno-164-1></a><span class=kt>div_t</span><span class=w> </span><span class=n>result</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>div</span><span class=p>(</span><span class=mi>10</span><span class=p>,</span><span class=w> </span><span class=mi>3</span><span class=p>);</span>
</span><span id=__span-164-2><a id=__codelineno-164-2 name=__codelineno-164-2 href=#__codelineno-164-2></a><span class=n>printf</span><span class=p>(</span><span class=s>&quot;Quotient: %d, Remainder: %d</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=n>result</span><span class=p>.</span><span class=n>quot</span><span class=p>,</span><span class=w> </span><span class=n>result</span><span class=p>.</span><span class=n>rem</span><span class=p>);</span>
</span></code></pre></div></p> <hr> <p><strong>21. <code>labs</code></strong><br> <strong>功能</strong>：计算长整数的绝对值。<br> <strong>函数原型</strong>：<code>long int labs(long int n);</code><br> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-165-1><a id=__codelineno-165-1 name=__codelineno-165-1 href=#__codelineno-165-1></a><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%ld</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=n>labs</span><span class=p>(</span><span class=mi>-123456</span><span class=p>));</span><span class=w> </span><span class=c1>// 输出 123456</span>
</span></code></pre></div></p> <hr> <p><strong>22. <code>getenv</code></strong><br> <strong>功能</strong>：获取环境变量的值。<br> <strong>函数原型</strong>：<code>char *getenv(const char *name);</code><br> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-166-1><a id=__codelineno-166-1 name=__codelineno-166-1 href=#__codelineno-166-1></a><span class=n>printf</span><span class=p>(</span><span class=s>&quot;PATH: %s</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=n>getenv</span><span class=p>(</span><span class=s>&quot;PATH&quot;</span><span class=p>));</span>
</span></code></pre></div></p> <hr> <p><strong>23. <code>_Exit</code></strong> <em>(C99标准新增)</em><br> <strong>功能</strong>：立即退出程序，不执行清理操作。<br> <strong>函数原型</strong>：<code>void _Exit(int status);</code><br> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-167-1><a id=__codelineno-167-1 name=__codelineno-167-1 href=#__codelineno-167-1></a><span class=n>printf</span><span class=p>(</span><span class=s>&quot;Exiting without cleanup...</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>);</span>
</span><span id=__span-167-2><a id=__codelineno-167-2 name=__codelineno-167-2 href=#__codelineno-167-2></a><span class=n>_Exit</span><span class=p>(</span><span class=mi>0</span><span class=p>);</span>
</span></code></pre></div></p> <h4 id=mathh>math.h<a class=headerlink href=#mathh title="Permanent link">&para;</a></h4> <p><strong>1. <code>sqrt</code></strong><br> <strong>功能</strong>：计算平方根。<br> <strong>函数原型</strong>：<code>double sqrt(double x);</code><br> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-168-1><a id=__codelineno-168-1 name=__codelineno-168-1 href=#__codelineno-168-1></a><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%f</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=n>sqrt</span><span class=p>(</span><span class=mf>16.0</span><span class=p>));</span><span class=w> </span><span class=c1>// 输出 4.000000</span>
</span></code></pre></div></p> <hr> <p><strong>2. <code>pow</code></strong><br> <strong>功能</strong>：计算 x 的 y 次幂。<br> <strong>函数原型</strong>：<code>double pow(double x, double y);</code><br> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-169-1><a id=__codelineno-169-1 name=__codelineno-169-1 href=#__codelineno-169-1></a><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%f</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=n>pow</span><span class=p>(</span><span class=mf>2.0</span><span class=p>,</span><span class=w> </span><span class=mf>3.0</span><span class=p>));</span><span class=w> </span><span class=c1>// 输出 8.000000</span>
</span></code></pre></div></p> <hr> <p><strong>3. <code>fabs</code></strong><br> <strong>功能</strong>：计算绝对值（浮点数）。<br> <strong>函数原型</strong>：<code>double fabs(double x);</code><br> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-170-1><a id=__codelineno-170-1 name=__codelineno-170-1 href=#__codelineno-170-1></a><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%f</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=n>fabs</span><span class=p>(</span><span class=mf>-5.5</span><span class=p>));</span><span class=w> </span><span class=c1>// 输出 5.500000</span>
</span></code></pre></div></p> <hr> <p><strong>4. <code>ceil</code></strong><br> <strong>功能</strong>：向上取整。<br> <strong>函数原型</strong>：<code>double ceil(double x);</code><br> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-171-1><a id=__codelineno-171-1 name=__codelineno-171-1 href=#__codelineno-171-1></a><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%f</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=n>ceil</span><span class=p>(</span><span class=mf>2.3</span><span class=p>));</span><span class=w> </span><span class=c1>// 输出 3.000000</span>
</span></code></pre></div></p> <hr> <p><strong>5. <code>floor</code></strong><br> <strong>功能</strong>：向下取整。<br> <strong>函数原型</strong>：<code>double floor(double x);</code><br> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-172-1><a id=__codelineno-172-1 name=__codelineno-172-1 href=#__codelineno-172-1></a><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%f</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=n>floor</span><span class=p>(</span><span class=mf>2.7</span><span class=p>));</span><span class=w> </span><span class=c1>// 输出 2.000000</span>
</span></code></pre></div></p> <hr> <p><strong>6. <code>round</code></strong><br> <strong>功能</strong>：四舍五入到最近的整数值。<br> <strong>函数原型</strong>：<code>double round(double x);</code><br> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-173-1><a id=__codelineno-173-1 name=__codelineno-173-1 href=#__codelineno-173-1></a><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%f</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=n>round</span><span class=p>(</span><span class=mf>2.5</span><span class=p>));</span><span class=w> </span><span class=c1>// 输出 3.000000</span>
</span></code></pre></div></p> <hr> <p><strong>7. <code>fmod</code></strong><br> <strong>功能</strong>：计算浮点数的余数。<br> <strong>函数原型</strong>：<code>double fmod(double x, double y);</code><br> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-174-1><a id=__codelineno-174-1 name=__codelineno-174-1 href=#__codelineno-174-1></a><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%f</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=n>fmod</span><span class=p>(</span><span class=mf>7.5</span><span class=p>,</span><span class=w> </span><span class=mf>2.0</span><span class=p>));</span><span class=w> </span><span class=c1>// 输出 1.500000</span>
</span></code></pre></div></p> <hr> <p><strong>8. <code>exp</code></strong><br> <strong>功能</strong>：计算 e 的 x 次幂。<br> <strong>函数原型</strong>：<code>double exp(double x);</code><br> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-175-1><a id=__codelineno-175-1 name=__codelineno-175-1 href=#__codelineno-175-1></a><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%f</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=n>exp</span><span class=p>(</span><span class=mf>1.0</span><span class=p>));</span><span class=w> </span><span class=c1>// 输出 2.718282</span>
</span></code></pre></div></p> <hr> <p><strong>9. <code>log</code></strong><br> <strong>功能</strong>：计算自然对数（以 e 为底）。<br> <strong>函数原型</strong>：<code>double log(double x);</code><br> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-176-1><a id=__codelineno-176-1 name=__codelineno-176-1 href=#__codelineno-176-1></a><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%f</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=n>log</span><span class=p>(</span><span class=mf>2.718282</span><span class=p>));</span><span class=w> </span><span class=c1>// 输出 1.000000</span>
</span></code></pre></div></p> <hr> <p><strong>10. <code>log10</code></strong><br> <strong>功能</strong>：计算常用对数（以 10 为底）。<br> <strong>函数原型</strong>：<code>double log10(double x);</code><br> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-177-1><a id=__codelineno-177-1 name=__codelineno-177-1 href=#__codelineno-177-1></a><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%f</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=n>log10</span><span class=p>(</span><span class=mf>100.0</span><span class=p>));</span><span class=w> </span><span class=c1>// 输出 2.000000</span>
</span></code></pre></div></p> <hr> <p><strong>11. <code>sin</code></strong><br> <strong>功能</strong>：计算弧度值的正弦值。<br> <strong>函数原型</strong>：<code>double sin(double x);</code><br> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-178-1><a id=__codelineno-178-1 name=__codelineno-178-1 href=#__codelineno-178-1></a><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%f</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=n>sin</span><span class=p>(</span><span class=mf>3.141592</span><span class=w> </span><span class=o>/</span><span class=w> </span><span class=mi>2</span><span class=p>));</span><span class=w> </span><span class=c1>// 输出 1.000000</span>
</span></code></pre></div></p> <hr> <p><strong>12. <code>cos</code></strong><br> <strong>功能</strong>：计算弧度值的余弦值。<br> <strong>函数原型</strong>：<code>double cos(double x);</code><br> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-179-1><a id=__codelineno-179-1 name=__codelineno-179-1 href=#__codelineno-179-1></a><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%f</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=n>cos</span><span class=p>(</span><span class=mf>3.141592</span><span class=p>));</span><span class=w> </span><span class=c1>// 输出 -1.000000</span>
</span></code></pre></div></p> <hr> <p><strong>13. <code>tan</code></strong><br> <strong>功能</strong>：计算弧度值的正切值。<br> <strong>函数原型</strong>：<code>double tan(double x);</code><br> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-180-1><a id=__codelineno-180-1 name=__codelineno-180-1 href=#__codelineno-180-1></a><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%f</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=n>tan</span><span class=p>(</span><span class=mf>3.141592</span><span class=w> </span><span class=o>/</span><span class=w> </span><span class=mi>4</span><span class=p>));</span><span class=w> </span><span class=c1>// 输出 1.000000</span>
</span></code></pre></div></p> <hr> <p><strong>14. <code>asin</code></strong><br> <strong>功能</strong>：计算反正弦（弧度值）。<br> <strong>函数原型</strong>：<code>double asin(double x);</code><br> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-181-1><a id=__codelineno-181-1 name=__codelineno-181-1 href=#__codelineno-181-1></a><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%f</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=n>asin</span><span class=p>(</span><span class=mf>1.0</span><span class=p>));</span><span class=w> </span><span class=c1>// 输出 1.570796</span>
</span></code></pre></div></p> <hr> <p><strong>15. <code>acos</code></strong><br> <strong>功能</strong>：计算反余弦（弧度值）。<br> <strong>函数原型</strong>：<code>double acos(double x);</code><br> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-182-1><a id=__codelineno-182-1 name=__codelineno-182-1 href=#__codelineno-182-1></a><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%f</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=n>acos</span><span class=p>(</span><span class=mf>0.0</span><span class=p>));</span><span class=w> </span><span class=c1>// 输出 1.570796</span>
</span></code></pre></div></p> <hr> <p><strong>16. <code>atan</code></strong><br> <strong>功能</strong>：计算反正切（弧度值）。<br> <strong>函数原型</strong>：<code>double atan(double x);</code><br> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-183-1><a id=__codelineno-183-1 name=__codelineno-183-1 href=#__codelineno-183-1></a><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%f</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=n>atan</span><span class=p>(</span><span class=mf>1.0</span><span class=p>));</span><span class=w> </span><span class=c1>// 输出 0.785398</span>
</span></code></pre></div></p> <hr> <p><strong>17. <code>atan2</code></strong><br> <strong>功能</strong>：计算 y/x 的反正切值（弧度值，考虑象限）。<br> <strong>函数原型</strong>：<code>double atan2(double y, double x);</code><br> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-184-1><a id=__codelineno-184-1 name=__codelineno-184-1 href=#__codelineno-184-1></a><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%f</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=n>atan2</span><span class=p>(</span><span class=mf>1.0</span><span class=p>,</span><span class=w> </span><span class=mf>1.0</span><span class=p>));</span><span class=w> </span><span class=c1>// 输出 0.785398</span>
</span></code></pre></div></p> <hr> <p><strong>18. <code>hypot</code></strong><br> <strong>功能</strong>：计算欧几里得距离（<code>sqrt(x^2 + y^2)</code>）。<br> <strong>函数原型</strong>：<code>double hypot(double x, double y);</code><br> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-185-1><a id=__codelineno-185-1 name=__codelineno-185-1 href=#__codelineno-185-1></a><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%f</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=n>hypot</span><span class=p>(</span><span class=mf>3.0</span><span class=p>,</span><span class=w> </span><span class=mf>4.0</span><span class=p>));</span><span class=w> </span><span class=c1>// 输出 5.000000</span>
</span></code></pre></div></p> <hr> <p><strong>19. <code>cbrt</code></strong> <em>(C99标准新增)</em><br> <strong>功能</strong>：计算立方根。<br> <strong>函数原型</strong>：<code>double cbrt(double x);</code><br> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-186-1><a id=__codelineno-186-1 name=__codelineno-186-1 href=#__codelineno-186-1></a><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%f</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=n>cbrt</span><span class=p>(</span><span class=mf>27.0</span><span class=p>));</span><span class=w> </span><span class=c1>// 输出 3.000000</span>
</span></code></pre></div></p> <hr> <p><strong>20. <code>round</code></strong><br> <strong>功能</strong>：返回最接近的整数（四舍五入）。<br> <strong>函数原型</strong>：<code>double round(double x);</code><br> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-187-1><a id=__codelineno-187-1 name=__codelineno-187-1 href=#__codelineno-187-1></a><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%f</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=n>round</span><span class=p>(</span><span class=mf>3.5</span><span class=p>));</span><span class=w> </span><span class=c1>// 输出 4.000000</span>
</span></code></pre></div></p> <hr> <p><strong>21. <code>trunc</code></strong><br> <strong>功能</strong>：截断小数部分，保留整数部分。<br> <strong>函数原型</strong>：<code>double trunc(double x);</code><br> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-188-1><a id=__codelineno-188-1 name=__codelineno-188-1 href=#__codelineno-188-1></a><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%f</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=n>trunc</span><span class=p>(</span><span class=mf>3.9</span><span class=p>));</span><span class=w> </span><span class=c1>// 输出 3.000000</span>
</span></code></pre></div></p> <hr> <p><strong>22. <code>modf</code></strong><br> <strong>功能</strong>：将浮点数分解为整数和小数部分。<br> <strong>函数原型</strong>：<code>double modf(double x, double *iptr);</code><br> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-189-1><a id=__codelineno-189-1 name=__codelineno-189-1 href=#__codelineno-189-1></a><span class=kt>double</span><span class=w> </span><span class=n>intpart</span><span class=p>,</span><span class=w> </span><span class=n>fracpart</span><span class=p>;</span>
</span><span id=__span-189-2><a id=__codelineno-189-2 name=__codelineno-189-2 href=#__codelineno-189-2></a><span class=n>fracpart</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>modf</span><span class=p>(</span><span class=mf>3.14</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=n>intpart</span><span class=p>);</span>
</span><span id=__span-189-3><a id=__codelineno-189-3 name=__codelineno-189-3 href=#__codelineno-189-3></a><span class=n>printf</span><span class=p>(</span><span class=s>&quot;Integer: %f, Fraction: %f</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=n>intpart</span><span class=p>,</span><span class=w> </span><span class=n>fracpart</span><span class=p>);</span><span class=w> </span><span class=c1>// 输出 &quot;Integer: 3.000000, Fraction: 0.140000&quot;</span>
</span></code></pre></div></p> <hr> <p><strong>23. <code>fmax</code></strong> <em>(C99标准新增)</em><br> <strong>功能</strong>：返回两个浮点数中的较大值。<br> <strong>函数原型</strong>：<code>double fmax(double x, double y);</code><br> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-190-1><a id=__codelineno-190-1 name=__codelineno-190-1 href=#__codelineno-190-1></a><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%f</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=n>fmax</span><span class=p>(</span><span class=mf>3.0</span><span class=p>,</span><span class=w> </span><span class=mf>4.5</span><span class=p>));</span><span class=w> </span><span class=c1>// 输出 4.500000</span>
</span></code></pre></div></p> <hr> <p><strong>24. <code>fmin</code></strong> <em>(C99标准新增)</em><br> <strong>功能</strong>：返回两个浮点数中的较小值。<br> <strong>函数原型</strong>：<code>double fmin(double x, double y);</code><br> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-191-1><a id=__codelineno-191-1 name=__codelineno-191-1 href=#__codelineno-191-1></a><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%f</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=n>fmin</span><span class=p>(</span><span class=mf>3.0</span><span class=p>,</span><span class=w> </span><span class=mf>4.5</span><span class=p>));</span><span class=w> </span><span class=c1>// 输出 3.000000</span>
</span></code></pre></div></p> <hr> <p><strong>25. <code>copysign</code></strong> <em>(C99标准新增)</em><br> <strong>功能</strong>：将 y 的符号赋值给 x。<br> <strong>函数原型</strong>：<code>double copysign(double x, double y);</code><br> <strong>示例</strong>：<br> <div class="language-c highlight"><pre><span></span><code><span id=__span-192-1><a id=__codelineno-192-1 name=__codelineno-192-1 href=#__codelineno-192-1></a><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%f</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=n>copysign</span><span class=p>(</span><span class=mf>3.0</span><span class=p>,</span><span class=w> </span><span class=mf>-4.0</span><span class=p>));</span><span class=w> </span><span class=c1>// 输出 -3.000000</span>
</span></code></pre></div></p> <h2 id=_40>数组<a class=headerlink href=#_40 title="Permanent link">&para;</a></h2> <h3 id=_41>一维数组<a class=headerlink href=#_41 title="Permanent link">&para;</a></h3> <p><strong>定义和引用</strong></p> <ul> <li>数组长度必须得是一个数字，不能放变量，即使那个变量有值也不行。 即： <div class="language-c highlight"><pre><span></span><code><span id=__span-193-1><a id=__codelineno-193-1 name=__codelineno-193-1 href=#__codelineno-193-1></a><span class=c1>//situation 1: ERROR</span>
</span><span id=__span-193-2><a id=__codelineno-193-2 name=__codelineno-193-2 href=#__codelineno-193-2></a><span class=kt>int</span><span class=w> </span><span class=n>n</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>5</span><span class=p>;</span>
</span><span id=__span-193-3><a id=__codelineno-193-3 name=__codelineno-193-3 href=#__codelineno-193-3></a><span class=kt>int</span><span class=w> </span><span class=n>arr</span><span class=p>[</span><span class=n>n</span><span class=p>];</span>
</span><span id=__span-193-4><a id=__codelineno-193-4 name=__codelineno-193-4 href=#__codelineno-193-4></a>
</span><span id=__span-193-5><a id=__codelineno-193-5 name=__codelineno-193-5 href=#__codelineno-193-5></a><span class=c1>//situation 2: ERROR</span>
</span><span id=__span-193-6><a id=__codelineno-193-6 name=__codelineno-193-6 href=#__codelineno-193-6></a><span class=kt>int</span><span class=w> </span><span class=n>n</span><span class=p>;</span>
</span><span id=__span-193-7><a id=__codelineno-193-7 name=__codelineno-193-7 href=#__codelineno-193-7></a><span class=n>scanf</span><span class=p>(</span><span class=s>&quot;%d&quot;</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=n>n</span><span class=p>);</span>
</span><span id=__span-193-8><a id=__codelineno-193-8 name=__codelineno-193-8 href=#__codelineno-193-8></a><span class=kt>int</span><span class=w> </span><span class=n>arr</span><span class=p>[</span><span class=n>n</span><span class=p>];</span>
</span><span id=__span-193-9><a id=__codelineno-193-9 name=__codelineno-193-9 href=#__codelineno-193-9></a>
</span><span id=__span-193-10><a id=__codelineno-193-10 name=__codelineno-193-10 href=#__codelineno-193-10></a><span class=c1>//situation 3: right</span>
</span><span id=__span-193-11><a id=__codelineno-193-11 name=__codelineno-193-11 href=#__codelineno-193-11></a><span class=kt>int</span><span class=w> </span><span class=n>arr</span><span class=p>[</span><span class=mi>10</span><span class=p>];</span>
</span></code></pre></div></li> <li> <p>引用时只能引用单个值，不能一次引用整个数组。引用其实就是<em>访问和操作</em>那个东西</p> </li> <li> <p>数组下标越界：不可越界访问；越界访问，随意赋值</p> </li> <li> <p>在内存中的存放 与前后数据：见下神奇的try：不一定 内部：index从小到大地址依次增大。从下到上排</p> </li> </ul> <p><strong>初始化</strong></p> <ul> <li>C语言规定只能对静态存储的数组初始化，但是课本允许对动态数组+静态数组初始化 eg： <div class="language-c highlight"><pre><span></span><code><span id=__span-194-1><a id=__codelineno-194-1 name=__codelineno-194-1 href=#__codelineno-194-1></a><span class=k>static</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>arr</span><span class=p>[</span><span class=mi>5</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>{</span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=mi>2</span><span class=p>,</span><span class=w> </span><span class=mi>3</span><span class=p>,</span><span class=w> </span><span class=mi>4</span><span class=p>,</span><span class=w> </span><span class=mi>5</span><span class=p>}</span>
</span></code></pre></div></li> <li> <p>不初始化：</p> <p>静态数组 <code>static arr[5]</code>：不初始化则全是0</p> <p>动态数组 <code>arr[5]</code>：不初始化则随机数 - 部分初始化：</p> <p>初始化前几个，后面没有初始化的元素默认赋值为0</p> </li> <li> <p>全部元素都赋值则可以省略数组长度（不建议）</p> </li> </ul> <details class=info> <summary>神奇的try看着玩玩</summary> <div class="language-c highlight"><pre><span></span><code><span id=__span-195-1><a id=__codelineno-195-1 name=__codelineno-195-1 href=#__codelineno-195-1></a><span class=c1>//按照书上的标准，这个定义方式是错的，但是不带了改代码了......</span>
</span><span id=__span-195-2><a id=__codelineno-195-2 name=__codelineno-195-2 href=#__codelineno-195-2></a><span class=cp>#include</span><span class=cpf>&lt;stdio.h&gt;</span>
</span><span id=__span-195-3><a id=__codelineno-195-3 name=__codelineno-195-3 href=#__codelineno-195-3></a><span class=kt>int</span><span class=w> </span><span class=nf>main</span><span class=p>()</span>
</span><span id=__span-195-4><a id=__codelineno-195-4 name=__codelineno-195-4 href=#__codelineno-195-4></a><span class=p>{</span>
</span><span id=__span-195-5><a id=__codelineno-195-5 name=__codelineno-195-5 href=#__codelineno-195-5></a><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>a</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>4</span><span class=p>;</span>
</span><span id=__span-195-6><a id=__codelineno-195-6 name=__codelineno-195-6 href=#__codelineno-195-6></a><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>arr</span><span class=p>[</span><span class=n>a</span><span class=p>];</span>
</span><span id=__span-195-7><a id=__codelineno-195-7 name=__codelineno-195-7 href=#__codelineno-195-7></a><span class=w>    </span><span class=k>for</span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>a</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=o>++</span><span class=p>){</span>
</span><span id=__span-195-8><a id=__codelineno-195-8 name=__codelineno-195-8 href=#__codelineno-195-8></a><span class=w>        </span><span class=n>arr</span><span class=p>[</span><span class=n>i</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>i</span><span class=p>;</span>
</span><span id=__span-195-9><a id=__codelineno-195-9 name=__codelineno-195-9 href=#__codelineno-195-9></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-195-10><a id=__codelineno-195-10 name=__codelineno-195-10 href=#__codelineno-195-10></a><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>b</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>3</span><span class=p>;</span>
</span><span id=__span-195-11><a id=__codelineno-195-11 name=__codelineno-195-11 href=#__codelineno-195-11></a><span class=w>    </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%p</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=n>a</span><span class=p>);</span><span class=w> </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%p</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=n>b</span><span class=p>);</span><span class=w> </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%p</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=n>arr</span><span class=p>);</span><span class=w>  </span><span class=c1>//打印三个的地址</span>
</span><span id=__span-195-12><a id=__codelineno-195-12 name=__codelineno-195-12 href=#__codelineno-195-12></a><span class=w>    </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%p</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=o>&amp;</span><span class=n>arr</span><span class=p>[</span><span class=mi>0</span><span class=p>]);</span><span class=w> </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%p</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=o>&amp;</span><span class=n>arr</span><span class=p>[</span><span class=mi>3</span><span class=p>]);</span><span class=w> </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%p</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=o>&amp;</span><span class=n>arr</span><span class=p>[</span><span class=mi>4</span><span class=p>]);</span><span class=w> </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%p</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=o>&amp;</span><span class=n>arr</span><span class=p>[</span><span class=mi>7</span><span class=p>]);</span><span class=w> </span><span class=c1>//越界访问，且发现&amp;arr[7] ==&amp;a</span>
</span><span id=__span-195-13><a id=__codelineno-195-13 name=__codelineno-195-13 href=#__codelineno-195-13></a><span class=w>    </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%d</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=o>*&amp;</span><span class=n>arr</span><span class=p>[</span><span class=mi>7</span><span class=p>]);</span>
</span><span id=__span-195-14><a id=__codelineno-195-14 name=__codelineno-195-14 href=#__codelineno-195-14></a><span class=w>    </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%d</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=o>*&amp;</span><span class=n>a</span><span class=p>);</span><span class=w>  </span><span class=c1>//发现上面那个之后试试a和arr[7]是什么，发现arr[7]被赋值为a的值4</span>
</span><span id=__span-195-15><a id=__codelineno-195-15 name=__codelineno-195-15 href=#__codelineno-195-15></a><span class=w>    </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%d</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=n>arr</span><span class=p>[</span><span class=mi>9</span><span class=p>]);</span><span class=w> </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%d</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=n>arr</span><span class=p>[</span><span class=mi>10</span><span class=p>]);</span><span class=w> </span><span class=c1>//越界访问，随意赋值</span>
</span><span id=__span-195-16><a id=__codelineno-195-16 name=__codelineno-195-16 href=#__codelineno-195-16></a><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>try</span><span class=p>[</span><span class=mi>5</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>{</span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=mi>2</span><span class=p>};</span>
</span><span id=__span-195-17><a id=__codelineno-195-17 name=__codelineno-195-17 href=#__codelineno-195-17></a><span class=w>    </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%d</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=n>try</span><span class=p>[</span><span class=mi>3</span><span class=p>]);</span><span class=w> </span><span class=c1>//初始化部分元素，后面的自动赋值0</span>
</span><span id=__span-195-18><a id=__codelineno-195-18 name=__codelineno-195-18 href=#__codelineno-195-18></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-195-19><a id=__codelineno-195-19 name=__codelineno-195-19 href=#__codelineno-195-19></a><span class=p>}</span>
</span><span id=__span-195-20><a id=__codelineno-195-20 name=__codelineno-195-20 href=#__codelineno-195-20></a><span class=cm>/*</span>
</span><span id=__span-195-21><a id=__codelineno-195-21 name=__codelineno-195-21 href=#__codelineno-195-21></a><span class=cm>输出：</span>
</span><span id=__span-195-22><a id=__codelineno-195-22 name=__codelineno-195-22 href=#__codelineno-195-22></a><span class=cm>a&#39;s ptr:0x7ffc2289afe4  b&#39;s ptr:0x7ffc2289afe8  arr&#39;s ptr0x7ffc2289afd0  arr[0]&#39;s ptr:0x7ffc2289afd0  arr[3]&#39;s ptr:0x7ffc2289afdc </span>
</span><span id=__span-195-23><a id=__codelineno-195-23 name=__codelineno-195-23 href=#__codelineno-195-23></a><span class=cm>arr[4]&#39;s ptr:0x7ffc2289afe0  arr[7]&#39;s ptr:0x7ffc2289afec  </span>
</span><span id=__span-195-24><a id=__codelineno-195-24 name=__codelineno-195-24 href=#__codelineno-195-24></a><span class=cm>arr[7]:4  *&amp;a:4</span>
</span><span id=__span-195-25><a id=__codelineno-195-25 name=__codelineno-195-25 href=#__codelineno-195-25></a><span class=cm>arr[9]:0  arr[10]:579448784</span>
</span><span id=__span-195-26><a id=__codelineno-195-26 name=__codelineno-195-26 href=#__codelineno-195-26></a><span class=cm>try[3]:0</span>
</span></code></pre></div> </details> <p><strong>示例</strong></p> <ul> <li> <p>用数组计算斐波那契数列，每行打印5个数字，最后一行不满5个也要换行</p> <p>```c</p> <h1 id=include>include <stdio.h><a class=headerlink href=#include title="Permanent link">&para;</a></h1> </li> </ul> <div style="margin-top: -30px; font-size: 0.75em; opacity: 0.7;"> <p><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10h-2a8 8 0 0 1-8 8 8 8 0 0 1-8-8 8 8 0 0 1 8-8zm6.78 1a.7.7 0 0 0-.48.2l-1.22 1.21 2.5 2.5L20.8 5.7c.26-.26.26-.7 0-.95L19.25 3.2c-.13-.13-.3-.2-.47-.2m-2.41 2.12L9 12.5V15h2.5l7.37-7.38z"/></svg></span> 约 24316 个字 <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 640 512"><!-- Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6m80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3l89.3 89.4-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3"/></svg></span> 2258 行代码 <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M21 17H7V3h14m0-2H7a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2M3 5H1v16a2 2 0 0 0 2 2h16v-2H3m12.96-10.71-2.75 3.54-1.96-2.36L8.5 15h11z"/></svg></span> 18 张图片 <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 20c4.42 0 8-3.58 8-8s-3.58-8-8-8-8 3.58-8 8 3.58 8 8 8m0-18c5.5 0 10 4.5 10 10s-4.5 10-10 10C6.47 22 2 17.5 2 12S6.5 2 12 2m.5 11H11V7h1.5v4.26l3.7-2.13.75 1.3z"/></svg></span> 预计阅读时间 109 分钟</p> </div> <div class="language-text highlight"><pre><span></span><code># define MAXN 46                    /* 定义符号常量MAXN */
int main(void)
{
    int i, n;
    int fib[MAXN] = {1, 1};         /* 初始化前两个 */
    printf (&quot;Enter n: &quot;);    
    scanf (&quot;%d&quot;, &amp;n);
    if(n &gt;= 1 &amp;&amp; n &lt;= 46 ){
        for(i = 2; i &lt; n; i++){  
            fib[i] = fib[i - 1] + fib[i - 2];
        }  
        /* 学学人家怎么输出：*/
        for(i = 0; i &lt; n; i++){
            printf(&quot;%6d&quot;, fib[i]);
            if((i + 1) % 5 == 0){   
            /* 每5个换行：循环变量i+1是5的倍数；注意细节i+1 */
                printf(&quot;\n&quot;);
            }  
        }
        if(n % 5 != 0){
        /* 最后不满5个换行：数学转化：最后一行和总数mod5同余 */ 
            printf(&quot;\n&quot;);
        }
    }else{
        printf(&quot;Invalid Value.\n&quot;); 
    }
    return 0;
}
```
</code></pre></div> <ul> <li> <p>选择法排序</p> <div class="language-c highlight"><pre><span></span><code><span id=__span-196-1><a id=__codelineno-196-1 name=__codelineno-196-1 href=#__codelineno-196-1></a><span class=cp>#</span><span class=w> </span><span class=cp>include</span><span class=w> </span><span class=cpf>&lt;stdio.h&gt;</span>
</span><span id=__span-196-2><a id=__codelineno-196-2 name=__codelineno-196-2 href=#__codelineno-196-2></a><span class=cp># define MAXN 10                    </span>
</span><span id=__span-196-3><a id=__codelineno-196-3 name=__codelineno-196-3 href=#__codelineno-196-3></a><span class=kt>int</span><span class=w> </span><span class=nf>main</span><span class=p>(</span><span class=kt>void</span><span class=p>)</span>
</span><span id=__span-196-4><a id=__codelineno-196-4 name=__codelineno-196-4 href=#__codelineno-196-4></a><span class=p>{</span>
</span><span id=__span-196-5><a id=__codelineno-196-5 name=__codelineno-196-5 href=#__codelineno-196-5></a><span class=w>    </span><span class=cm>/* 排序 */</span>
</span><span id=__span-196-6><a id=__codelineno-196-6 name=__codelineno-196-6 href=#__codelineno-196-6></a><span class=w>    </span><span class=k>for</span><span class=p>(</span><span class=n>k</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span><span class=w> </span><span class=n>k</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>n</span><span class=mi>-1</span><span class=p>;</span><span class=w> </span><span class=n>k</span><span class=o>++</span><span class=p>){</span>
</span><span id=__span-196-7><a id=__codelineno-196-7 name=__codelineno-196-7 href=#__codelineno-196-7></a><span class=w>        </span><span class=n>index</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>k</span><span class=p>;</span><span class=w>                      </span>
</span><span id=__span-196-8><a id=__codelineno-196-8 name=__codelineno-196-8 href=#__codelineno-196-8></a><span class=w>        </span><span class=cm>/* 直接用index记录最小值,因为后面交换需要用到index，替换我的min = arr[k] */</span>
</span><span id=__span-196-9><a id=__codelineno-196-9 name=__codelineno-196-9 href=#__codelineno-196-9></a><span class=w>        </span><span class=k>for</span><span class=p>(</span><span class=n>i</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>k</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>1</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>n</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=o>++</span><span class=p>){</span><span class=w>     </span>
</span><span id=__span-196-10><a id=__codelineno-196-10 name=__codelineno-196-10 href=#__codelineno-196-10></a><span class=w>        </span><span class=cm>/* 寻找最小值所在下标 */</span>
</span><span id=__span-196-11><a id=__codelineno-196-11 name=__codelineno-196-11 href=#__codelineno-196-11></a><span class=w>            </span><span class=k>if</span><span class=p>(</span><span class=n>a</span><span class=p>[</span><span class=n>i</span><span class=p>]</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>a</span><span class=p>[</span><span class=n>index</span><span class=p>]){</span>
</span><span id=__span-196-12><a id=__codelineno-196-12 name=__codelineno-196-12 href=#__codelineno-196-12></a><span class=w>                </span><span class=n>index</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>i</span><span class=p>;</span><span class=w>  </span>
</span><span id=__span-196-13><a id=__codelineno-196-13 name=__codelineno-196-13 href=#__codelineno-196-13></a><span class=w>            </span><span class=p>}</span>
</span><span id=__span-196-14><a id=__codelineno-196-14 name=__codelineno-196-14 href=#__codelineno-196-14></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-196-15><a id=__codelineno-196-15 name=__codelineno-196-15 href=#__codelineno-196-15></a><span class=w>        </span><span class=n>temp</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>a</span><span class=p>[</span><span class=n>index</span><span class=p>];</span>
</span><span id=__span-196-16><a id=__codelineno-196-16 name=__codelineno-196-16 href=#__codelineno-196-16></a><span class=w>        </span><span class=n>a</span><span class=p>[</span><span class=n>index</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>a</span><span class=p>[</span><span class=n>k</span><span class=p>];</span>
</span><span id=__span-196-17><a id=__codelineno-196-17 name=__codelineno-196-17 href=#__codelineno-196-17></a><span class=w>        </span><span class=n>a</span><span class=p>[</span><span class=n>k</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>temp</span><span class=p>;</span>
</span><span id=__span-196-18><a id=__codelineno-196-18 name=__codelineno-196-18 href=#__codelineno-196-18></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-196-19><a id=__codelineno-196-19 name=__codelineno-196-19 href=#__codelineno-196-19></a><span class=p>}</span>
</span></code></pre></div> </li> </ul> <h3 id=_42>字符串<a class=headerlink href=#_42 title="Permanent link">&para;</a></h3> <p><strong>定义与初始化</strong></p> <ol> <li> <p>结束符</p> <ul> <li>有效长度：不包含‘\0' : 计算字符串长度不包括末尾0</li> <li> <p>结束符：'\0'</p> <p><code>char arr[] = {'h', 'i'}</code> 不是字符串</p> <p><code>char arr[] = {'h', 'i', '\0'}</code> or <code>char arr[] = {'h', 'i', 0}</code> 是字符串</p> </li> <li> <p>定义字符串长度 &gt;= 字符串有效长度 + 1</p> <p>因为有结束符'\0'</p> <p>开大数组：只对前面的赋值，'\0'后面的与字符串无关，字符串到'\0'即结束，故不会影响字符串的处理。</p> </li> </ul> </li> <li> <p>定义方法</p> </li> </ol> <ul> <li> <p>数组 &amp; 指针： <br> <code>char str[]</code> or <code>char* str</code> 都可以用来定义数组，但是两个不一样。如果要用指针：不能之后再赋值，否则将导致segmentation fault ~ <div class="language-c highlight"><pre><span></span><code><span id=__span-197-1><a id=__codelineno-197-1 name=__codelineno-197-1 href=#__codelineno-197-1></a><span class=kt>char</span><span class=o>*</span><span class=w> </span><span class=n>str</span><span class=p>;</span>
</span><span id=__span-197-2><a id=__codelineno-197-2 name=__codelineno-197-2 href=#__codelineno-197-2></a><span class=n>str</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=sc>&#39;h&#39;</span><span class=p>;</span>
</span><span id=__span-197-3><a id=__codelineno-197-3 name=__codelineno-197-3 href=#__codelineno-197-3></a><span class=n>str</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=sc>&#39;i&#39;</span><span class=p>;</span>
</span><span id=__span-197-4><a id=__codelineno-197-4 name=__codelineno-197-4 href=#__codelineno-197-4></a><span class=c1>// 编译器输出:[1]    122420 segmentation fault (core dumped)  ./pta11_7</span>
</span><span id=__span-197-5><a id=__codelineno-197-5 name=__codelineno-197-5 href=#__codelineno-197-5></a><span class=kt>char</span><span class=o>*</span><span class=w> </span><span class=n>str2</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&quot;hi&quot;</span><span class=p>;</span><span class=w>  </span><span class=c1>// OK</span>
</span></code></pre></div></p> </li> <li> <p>放在一维数组中 <div class="language-c highlight"><pre><span></span><code><span id=__span-198-1><a id=__codelineno-198-1 name=__codelineno-198-1 href=#__codelineno-198-1></a><span class=k>static</span><span class=w> </span><span class=kt>char</span><span class=w> </span><span class=n>str</span><span class=p>[</span><span class=mi>6</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>{</span><span class=sc>&#39;h&#39;</span><span class=p>,</span><span class=w> </span><span class=sc>&#39;a&#39;</span><span class=p>,</span><span class=w> </span><span class=sc>&#39;p&#39;</span><span class=p>,</span><span class=w> </span><span class=sc>&#39;p&#39;</span><span class=p>,</span><span class=w> </span><span class=sc>&#39;y&#39;</span><span class=p>,</span><span class=w> </span><span class=sc>&#39;\0&#39;</span><span class=p>}</span>
</span></code></pre></div></p> </li> <li> <p>使用字符串常量 <div class="language-c highlight"><pre><span></span><code><span id=__span-199-1><a id=__codelineno-199-1 name=__codelineno-199-1 href=#__codelineno-199-1></a><span class=k>static</span><span class=w> </span><span class=kt>char</span><span class=w> </span><span class=n>str</span><span class=p>[</span><span class=mi>6</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>{</span><span class=s>&quot;happy&quot;</span><span class=p>}</span>
</span></code></pre></div> <div class="language-c highlight"><pre><span></span><code><span id=__span-200-1><a id=__codelineno-200-1 name=__codelineno-200-1 href=#__codelineno-200-1></a><span class=k>static</span><span class=w> </span><span class=kt>char</span><span class=w> </span><span class=n>str</span><span class=p>[</span><span class=mi>6</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&quot;happy&quot;</span>
</span></code></pre></div></p> <ul> <li> <p>字符串常量：就是双引号括起来的一个字符串，两种定义方式：<code>char str[]</code> or <code>char* str</code></p> <p><code>char* str</code> ：只读</p> <p><code>char str[]</code>：也是只读，不过在堆栈区会copy一份跟他一样的字符串，这个是可以修改的</p> </li> <li> <p>字符串常量不能修改（但是不能写 <code>const</code>）</p> </li> <li>相同的字符串字面量初始化两不同名字的字符串常量，在一样的地址上（在代码段，是只读的）</li> </ul> <details class=info> <summary>字符串常量</summary> <p>在C语言中，用数组和指针定义的字符串的区别主要在于它们的存储位置和是否可以修改。</p> <ol> <li> <p><strong><code>char* str1 = "hi";</code></strong> - 这里 <code>str1</code> 是一个指向字符的指针，它指向一个字符串字面量。字符串字面量存储在程序的只读数据段中，这意味着你不能修改 <code>str1</code> 指向的内容。尝试修改 <code>str1</code> 指向的字符串将导致未定义行为，通常是程序崩溃。 - 例如，以下代码是不允许的： <div class="language-c highlight"><pre><span></span><code><span id=__span-201-1><a id=__codelineno-201-1 name=__codelineno-201-1 href=#__codelineno-201-1></a><span class=n>str1</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=sc>&#39;H&#39;</span><span class=p>;</span><span class=w> </span><span class=c1>// 错误：不能修改字符串字面量</span>
</span></code></pre></div></p> </li> <li> <p><strong><code>char str2[] = "hi";</code></strong> - 这里 <code>str2</code> 是一个字符数组，它在栈上分配了足够的空间来存储字符串 "hi" 及其结尾的空字符 <code>\0</code>。<code>str2</code> 存储的是数组的第一个元素的地址，这意味着你可以修改 <code>str2</code> 中的字符。 - 例如，以下代码是允许的： <div class="language-c highlight"><pre><span></span><code><span id=__span-202-1><a id=__codelineno-202-1 name=__codelineno-202-1 href=#__codelineno-202-1></a><span class=n>str2</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=sc>&#39;H&#39;</span><span class=p>;</span><span class=w> </span><span class=c1>// 正确：可以修改数组中的字符</span>
</span></code></pre></div></p> </li> </ol> <ul> <li> <p><strong>字符串字面量（<code>str1</code>）</strong>：字符串字面量存储在只读数据段中，这是C语言规范的一部分。编译器将字符串字面量放在只读内存区域，以防止程序修改它们。这样做的好处是可以节省内存，因为多个相同的字符串字面量可以共享同一块内存区域。</p> </li> <li> <p><strong>字符数组（<code>str2</code>）</strong>：字符数组是在栈上分配的，它们的生命周期仅限于定义它们的函数或代码块。字符数组的内容可以被修改，因为它们不是存储在只读内存区域。</p> </li> </ul> <p>在你提供的两个例子中：</p> <ul> <li><code>char* str1 = "hi";</code></li> <li> <p>这里的 <code>"hi"</code> 是一个字符串常量，而 <code>str1</code> 是一个指向这个字符串常量的指针。</p> </li> <li> <p><code>char str2[] = "hi";</code></p> </li> <li>这里的 <code>"hi"</code> 也是一个字符串常量，但 <code>str2</code> 是一个字符数组，它在栈上分配了空间，并且包含了字符串常量的内容。尽管 <code>str2</code> 本身不是一个字符串常量，它包含了字符串常量的内容，并且这些内容在数组中是可以被修改的。</li> </ul> <p>为什么 <code>str2</code> 不是字符串常量？</p> <p><code>str2</code> 不是字符串常量，因为它是一个字符数组，它包含了字符串常量的内容，但存储在栈上，并且其内容是可以被修改的。字符串常量本身是存储在只读内存区域的，而 <code>str2</code> 只是包含了这些内容的一个可修改的副本。</p> </details> </li> </ul> <p><strong>访问</strong></p> <ul> <li> <p>可以用数组，可以用指针，多用指针</p> </li> <li> <p>通常涉及'\0'，用它来控制</p> </li> </ul> <p><strong>输入输出</strong></p> <ol> <li>用 <code>getchar()</code>，特定字符控制</li> </ol> <ul> <li> <p>直接读一个字符串</p> <div class="language-c highlight"><pre><span></span><code><span id=__span-203-1><a id=__codelineno-203-1 name=__codelineno-203-1 href=#__codelineno-203-1></a><span class=kt>int</span><span class=w> </span><span class=n>str</span><span class=p>[</span><span class=mi>100</span><span class=p>];</span>
</span><span id=__span-203-2><a id=__codelineno-203-2 name=__codelineno-203-2 href=#__codelineno-203-2></a><span class=kt>int</span><span class=w> </span><span class=n>k</span><span class=p>;</span>
</span><span id=__span-203-3><a id=__codelineno-203-3 name=__codelineno-203-3 href=#__codelineno-203-3></a><span class=n>printf</span><span class=p>(</span><span class=s>&quot;Enter your string:&quot;</span><span class=p>);</span><span class=w> </span><span class=c1>//输入提示</span>
</span><span id=__span-203-4><a id=__codelineno-203-4 name=__codelineno-203-4 href=#__codelineno-203-4></a><span class=n>k</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-203-5><a id=__codelineno-203-5 name=__codelineno-203-5 href=#__codelineno-203-5></a><span class=k>while</span><span class=p>((</span><span class=n>str</span><span class=p>[</span><span class=n>k</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>getchar</span><span class=p>())</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=sc>&#39;\n&#39;</span><span class=p>){</span><span class=w> </span><span class=c1>//用getchar逐个获取字符，不到&#39;\n&#39;不停</span>
</span><span id=__span-203-6><a id=__codelineno-203-6 name=__codelineno-203-6 href=#__codelineno-203-6></a><span class=w>    </span><span class=n>k</span><span class=o>++</span><span class=p>;</span><span class=w>  </span><span class=c1>//统计字符数量</span>
</span><span id=__span-203-7><a id=__codelineno-203-7 name=__codelineno-203-7 href=#__codelineno-203-7></a><span class=p>}</span>
</span><span id=__span-203-8><a id=__codelineno-203-8 name=__codelineno-203-8 href=#__codelineno-203-8></a><span class=n>str</span><span class=p>[</span><span class=n>k</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=sc>&#39;\0&#39;</span><span class=p>;</span><span class=w> </span><span class=c1>//输入结束符&#39;\0&#39;</span>
</span></code></pre></div> </li> <li> <p>先读一个在读一个字符串</p> <div class="language-C highlight"><pre><span></span><code><span id=__span-204-1><a id=__codelineno-204-1 name=__codelineno-204-1 href=#__codelineno-204-1></a><span class=n>scanf</span><span class=p>(</span><span class=s>&quot;%c&quot;</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=n>ch</span><span class=p>);</span>
</span><span id=__span-204-2><a id=__codelineno-204-2 name=__codelineno-204-2 href=#__codelineno-204-2></a><span class=n>getchar</span><span class=p>();</span><span class=w> </span><span class=c1>// 再getchar消耗掉第一个&#39;\n&#39;, 清理缓冲区</span>
</span><span id=__span-204-3><a id=__codelineno-204-3 name=__codelineno-204-3 href=#__codelineno-204-3></a><span class=k>while</span><span class=p>((</span><span class=n>str</span><span class=p>[</span><span class=n>k</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>getchar</span><span class=p>())</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=sc>&#39;\n&#39;</span><span class=p>){</span>
</span><span id=__span-204-4><a id=__codelineno-204-4 name=__codelineno-204-4 href=#__codelineno-204-4></a><span class=w>    </span><span class=n>k</span><span class=o>++</span><span class=p>;</span>
</span><span id=__span-204-5><a id=__codelineno-204-5 name=__codelineno-204-5 href=#__codelineno-204-5></a><span class=p>}</span>
</span><span id=__span-204-6><a id=__codelineno-204-6 name=__codelineno-204-6 href=#__codelineno-204-6></a><span class=n>str</span><span class=p>[</span><span class=n>k</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=sc>&#39;\0&#39;</span><span class=p>;</span>
</span></code></pre></div> </li> </ul> <ol start=2> <li>用<code>scanf()</code></li> </ol> <ul> <li> <p>读取（可能）含有空格的字符串：目的是通过含有空格字符串的测试点</p> <p>这种方法不可以用于读取单个字符</p> <div class="language-C highlight"><pre><span></span><code><span id=__span-205-1><a id=__codelineno-205-1 name=__codelineno-205-1 href=#__codelineno-205-1></a><span class=n>scanf</span><span class=p>(</span><span class=s>&quot;%c&quot;</span><span class=p>,</span><span class=w> </span><span class=n>ch</span><span class=p>);</span>
</span><span id=__span-205-2><a id=__codelineno-205-2 name=__codelineno-205-2 href=#__codelineno-205-2></a><span class=n>getchar</span><span class=p>();</span><span class=w> </span><span class=c1>//何时都要有</span>
</span><span id=__span-205-3><a id=__codelineno-205-3 name=__codelineno-205-3 href=#__codelineno-205-3></a><span class=cm>/*如果前面需要先读一个则加上面这部分*/</span>
</span><span id=__span-205-4><a id=__codelineno-205-4 name=__codelineno-205-4 href=#__codelineno-205-4></a><span class=n>scanf</span><span class=p>(</span><span class=s>&quot;%[^</span><span class=se>\n</span><span class=s>]&quot;</span><span class=p>,</span><span class=w> </span><span class=n>str</span><span class=p>);</span>
</span></code></pre></div> </li> <li> <p>scanf读一个单词：到空格/tab/回车 为止，即见到那三个就停止读入了</p> <p><div class="language-c highlight"><pre><span></span><code><span id=__span-206-1><a id=__codelineno-206-1 name=__codelineno-206-1 href=#__codelineno-206-1></a><span class=kt>char</span><span class=w> </span><span class=n>str</span><span class=err>\</span><span class=p>[</span><span class=mi>8</span><span class=p>];</span><span class=w> </span>
</span><span id=__span-206-2><a id=__codelineno-206-2 name=__codelineno-206-2 href=#__codelineno-206-2></a><span class=n>scanf</span><span class=p>(</span><span class=s>&quot;%s&quot;</span><span class=p>,</span><span class=w> </span><span class=n>str</span><span class=p>);</span><span class=w> </span><span class=c1>//input: 123 45678</span>
</span><span id=__span-206-3><a id=__codelineno-206-3 name=__codelineno-206-3 href=#__codelineno-206-3></a><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%s&quot;</span><span class=p>,</span><span class=w> </span><span class=n>str</span><span class=p>);</span><span class=w>  </span><span class=c1>//output: 123</span>
</span></code></pre></div> - %ns (n为一个整数)：这次输入最多输入<span class=arithmatex>\(n\)</span>个值，其他的内容停在输入流中，等待下一个scanf，这些scanf依然遵循上一条</p> <div class="language-c highlight"><pre><span></span><code><span id=__span-207-1><a id=__codelineno-207-1 name=__codelineno-207-1 href=#__codelineno-207-1></a><span class=kt>char</span><span class=w> </span><span class=n>str1</span><span class=p>[</span><span class=mi>8</span><span class=p>];</span>
</span><span id=__span-207-2><a id=__codelineno-207-2 name=__codelineno-207-2 href=#__codelineno-207-2></a><span class=kt>char</span><span class=w> </span><span class=n>str2</span><span class=p>[</span><span class=mi>8</span><span class=p>];</span>
</span><span id=__span-207-3><a id=__codelineno-207-3 name=__codelineno-207-3 href=#__codelineno-207-3></a><span class=n>scanf</span><span class=p>(</span><span class=s>&quot;%3s&quot;</span><span class=p>,</span><span class=w> </span><span class=n>str1</span><span class=p>);</span>
</span><span id=__span-207-4><a id=__codelineno-207-4 name=__codelineno-207-4 href=#__codelineno-207-4></a><span class=n>scanf</span><span class=p>(</span><span class=s>&quot;%s&quot;</span><span class=p>,</span><span class=w> </span><span class=n>str2</span><span class=p>);</span>
</span><span id=__span-207-5><a id=__codelineno-207-5 name=__codelineno-207-5 href=#__codelineno-207-5></a><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%s##%s&quot;</span><span class=p>,</span><span class=w> </span><span class=n>str1</span><span class=p>,</span><span class=w> </span><span class=n>str2</span><span class=p>);</span>
</span><span id=__span-207-6><a id=__codelineno-207-6 name=__codelineno-207-6 href=#__codelineno-207-6></a><span class=cm>/*</span>
</span><span id=__span-207-7><a id=__codelineno-207-7 name=__codelineno-207-7 href=#__codelineno-207-7></a><span class=cm>input 1234 56 --&gt; output 123##4</span>
</span><span id=__span-207-8><a id=__codelineno-207-8 name=__codelineno-207-8 href=#__codelineno-207-8></a><span class=cm>input 12 345 --&gt; output 12##345</span>
</span><span id=__span-207-9><a id=__codelineno-207-9 name=__codelineno-207-9 href=#__codelineno-207-9></a><span class=cm>input 12 34567789835374 --&gt; *** stack smashing detected ***: terminated \ [1]    25177 IOT instruction (core dumped)  ./wk</span>
</span><span id=__span-207-10><a id=__codelineno-207-10 name=__codelineno-207-10 href=#__codelineno-207-10></a><span class=cm>input 123456 --&gt; output 123##456</span>
</span></code></pre></div> </li> </ul> <p><strong>程序参数</strong></p> <p>main函数原型：<code>int main(int argc, char const *argv[])</code></p> <ol> <li> <p><code>int argc</code></p> <ul> <li><strong>含义</strong>: 表示命令行参数的数量（argument count）。</li> <li><strong>值</strong>: <ul> <li>包括程序名在内的参数总数。</li> <li>至少为1（即使没有其他参数，程序名也会作为第一个参数）。</li> </ul> </li> </ul> </li> <li> <p><code>char const *argv[]</code></p> <ul> <li><strong>含义</strong>: 表示命令行参数的数组（argument vector）。</li> <li><strong>值</strong>:<ul> <li><code>argv[0]</code>: 通常是程序的名称（包括路径，取决于操作系统）。</li> <li><code>argv[1]</code> 到 <code>argv[argc-1]</code>: 由用户提供的其他命令行参数。</li> </ul> </li> <li><strong>类型</strong>:<ul> <li><code>const char* argv[]</code> 是一个字符串指针数组，表示每个参数是一个以空字符 <code>\0</code> 结尾的字符串。</li> </ul> </li> <li><strong>用法</strong>:<ul> <li>可以通过索引访问每个参数。</li> <li>如果需要将字符串参数转换为数字，可以使用函数如 <code>atoi</code> 或 <code>strtol</code>。</li> </ul> </li> </ul> </li> </ol> <hr> <p><strong>示例</strong></p> <div class="language-c highlight"><pre><span></span><code><span id=__span-208-1><a id=__codelineno-208-1 name=__codelineno-208-1 href=#__codelineno-208-1></a><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;stdio.h&gt;</span>
</span><span id=__span-208-2><a id=__codelineno-208-2 name=__codelineno-208-2 href=#__codelineno-208-2></a>
</span><span id=__span-208-3><a id=__codelineno-208-3 name=__codelineno-208-3 href=#__codelineno-208-3></a><span class=kt>int</span><span class=w> </span><span class=nf>main</span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>argc</span><span class=p>,</span><span class=w> </span><span class=kt>char</span><span class=w> </span><span class=k>const</span><span class=w> </span><span class=o>*</span><span class=n>argv</span><span class=p>[])</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-208-4><a id=__codelineno-208-4 name=__codelineno-208-4 href=#__codelineno-208-4></a><span class=w>    </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;Number of arguments: %d</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=n>argc</span><span class=p>);</span>
</span><span id=__span-208-5><a id=__codelineno-208-5 name=__codelineno-208-5 href=#__codelineno-208-5></a><span class=w>    </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>argc</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=o>++</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-208-6><a id=__codelineno-208-6 name=__codelineno-208-6 href=#__codelineno-208-6></a><span class=w>        </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;Argument %d: %s</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=n>i</span><span class=p>,</span><span class=w> </span><span class=n>argv</span><span class=p>[</span><span class=n>i</span><span class=p>]);</span>
</span><span id=__span-208-7><a id=__codelineno-208-7 name=__codelineno-208-7 href=#__codelineno-208-7></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-208-8><a id=__codelineno-208-8 name=__codelineno-208-8 href=#__codelineno-208-8></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-208-9><a id=__codelineno-208-9 name=__codelineno-208-9 href=#__codelineno-208-9></a><span class=p>}</span>
</span></code></pre></div> <p><strong>运行</strong></p> <p>假设编译生成的可执行文件为 <code>program</code>：</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-209-1><a id=__codelineno-209-1 name=__codelineno-209-1 href=#__codelineno-209-1></a>./program<span class=w> </span>arg1<span class=w> </span>arg2
</span></code></pre></div> <p>输出： <div class="language-text highlight"><pre><span></span><code><span id=__span-210-1><a id=__codelineno-210-1 name=__codelineno-210-1 href=#__codelineno-210-1></a>Number of arguments: 3
</span><span id=__span-210-2><a id=__codelineno-210-2 name=__codelineno-210-2 href=#__codelineno-210-2></a>Argument 0: ./program
</span><span id=__span-210-3><a id=__codelineno-210-3 name=__codelineno-210-3 href=#__codelineno-210-3></a>Argument 1: arg1
</span><span id=__span-210-4><a id=__codelineno-210-4 name=__codelineno-210-4 href=#__codelineno-210-4></a>Argument 2: arg2
</span></code></pre></div></p> <p><strong>程序链接：</strong></p> <p><a class=glightbox href=../res/images/image-8_1.png data-type=image data-width=auto data-height=auto data-desc-position=bottom><img alt="alt text" src=../res/images/image-8_1.png></a></p> <h3 id=_43>二维数组<a class=headerlink href=#_43 title="Permanent link">&para;</a></h3> <p><strong>定义和引用</strong></p> <ul> <li>先行数后列数</li> <li> <p>在内存中的存放</p> <p>按行 —— 列顺序存放：先0行，再1行……每行按列顺序存放</p> <p>从上到下：00,01,02,10,11,12,20,21,22……</p> </li> </ul> <p><strong>初始化</strong></p> <ul> <li> <p>分行赋值</p> <ul> <li> <p>按顺序每行一个括号</p> </li> <li> <p>部分赋值</p> <ul> <li>括号在：内部也可像一维的一样只赋前面几个的值，空括号代表全0</li> <li>没or少括号：代表全0</li> </ul> </li> <li>顺序赋值 全写出 or 部分写出，</li> <li>如果完整赋值，可以省略行长度</li> </ul> </li> </ul> <p><strong>矩阵的术语</strong></p> <div class="language-c highlight"><pre><span></span><code><span id=__span-211-1><a id=__codelineno-211-1 name=__codelineno-211-1 href=#__codelineno-211-1></a><span class=k>for</span><span class=p>(</span><span class=n>i</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>n</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=o>++</span><span class=p>){</span>
</span><span id=__span-211-2><a id=__codelineno-211-2 name=__codelineno-211-2 href=#__codelineno-211-2></a><span class=w>    </span><span class=k>for</span><span class=p>(</span><span class=n>j</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span><span class=w> </span><span class=n>j</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>n</span><span class=p>;</span><span class=w> </span><span class=n>j</span><span class=w> </span><span class=o>++</span><span class=p>){</span>
</span><span id=__span-211-3><a id=__codelineno-211-3 name=__codelineno-211-3 href=#__codelineno-211-3></a><span class=w>        </span><span class=c1>// 见下</span>
</span><span id=__span-211-4><a id=__codelineno-211-4 name=__codelineno-211-4 href=#__codelineno-211-4></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-211-5><a id=__codelineno-211-5 name=__codelineno-211-5 href=#__codelineno-211-5></a><span class=p>}</span>
</span></code></pre></div> <ul> <li>主对角线：<code>if(i == j)</code></li> <li>上三角： <code>if(i &lt;= j)</code></li> <li>下三角：<code>if(i &gt;= j)</code></li> <li>副对角：<code>if(i + j == n - 1)</code></li> <li>遍历上三角：<code>/*j的循环体：*/ j = i; j &lt; n; j++</code></li> </ul> <h2 id=_44>指针<a class=headerlink href=#_44 title="Permanent link">&para;</a></h2> <h3 id=_45>概念与定义<a class=headerlink href=#_45 title="Permanent link">&para;</a></h3> <p><strong>基本定义</strong> <div class="language-c highlight"><pre><span></span><code><span id=__span-212-1><a id=__codelineno-212-1 name=__codelineno-212-1 href=#__codelineno-212-1></a><span class=kt>int</span><span class=w> </span><span class=n>i</span><span class=p>;</span>
</span><span id=__span-212-2><a id=__codelineno-212-2 name=__codelineno-212-2 href=#__codelineno-212-2></a><span class=kt>int</span><span class=w> </span><span class=o>*</span><span class=n>p</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=o>&amp;</span><span class=n>i</span><span class=p>;</span>
</span><span id=__span-212-3><a id=__codelineno-212-3 name=__codelineno-212-3 href=#__codelineno-212-3></a><span class=kt>int</span><span class=o>*</span><span class=w> </span><span class=n>p</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=o>&amp;</span><span class=n>i</span><span class=p>;</span>
</span></code></pre></div></p> <p>理解：有一个整型变量i，p这个变量的值是变量i地址的变量，称p为指针变量 <div class="language-c highlight"><pre><span></span><code><span id=__span-213-1><a id=__codelineno-213-1 name=__codelineno-213-1 href=#__codelineno-213-1></a><span class=kt>int</span><span class=o>*</span><span class=n>p</span><span class=p>,</span><span class=w> </span><span class=n>q</span><span class=p>;</span>
</span></code></pre></div> 易错：其中，q只是普通int变量；要想定义多个指针变量得分别指定</p> <h3 id=_46>规则<a class=headerlink href=#_46 title="Permanent link">&para;</a></h3> <ul> <li> <p>输出：得用%p，不能转换成整数再%x（16进制），因为这俩值一不一样取决于编译器、64or32位架构</p> </li> <li> <p>取址符右边只能是变量；<code>&amp;(++i)</code>,<code>&amp;(i + j)</code>均不合法</p> </li> </ul> <h3 id=_47>指针运算<a class=headerlink href=#_47 title="Permanent link">&para;</a></h3> <p><code>q - p</code>：同类型指针相减，表示差的元素个数</p> <p><code>(int)p - (int)q</code> ：表示差的字节数</p> <p><code>p + 1</code> / <code>p-1</code>:指向下一个存储单元 / 指向上一个存储单元</p> <p>其他都非法：指针相加、相乘和相除，指针加or减浮点数</p> <p>可以++，--，+=，-=：注意对应的表达式值&amp;变量值</p> <div class="admonition info"> <p class=admonition-title>Info</p> <p>++i（表达式值+1） 大于 *，i++（表达式值不变） 等于 * 但从右向左结合：意味着俩都先于*，那么*其实是对表达式的值取*</p> <p>例如</p> <div class="language-c highlight"><pre><span></span><code><span id=__span-214-1><a id=__codelineno-214-1 name=__codelineno-214-1 href=#__codelineno-214-1></a><span class=kt>int</span><span class=w> </span><span class=nf>main</span><span class=p>()</span>
</span><span id=__span-214-2><a id=__codelineno-214-2 name=__codelineno-214-2 href=#__codelineno-214-2></a><span class=p>{</span>
</span><span id=__span-214-3><a id=__codelineno-214-3 name=__codelineno-214-3 href=#__codelineno-214-3></a><span class=kt>int</span><span class=w> </span><span class=n>arr</span><span class=p>[</span><span class=mi>5</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>{</span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=mi>2</span><span class=p>,</span><span class=w> </span><span class=mi>3</span><span class=p>,</span><span class=w> </span><span class=mi>4</span><span class=p>,</span><span class=w> </span><span class=mi>5</span><span class=p>};</span>
</span><span id=__span-214-4><a id=__codelineno-214-4 name=__codelineno-214-4 href=#__codelineno-214-4></a><span class=kt>int</span><span class=o>*</span><span class=w> </span><span class=n>p</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>arr</span><span class=p>;</span>
</span><span id=__span-214-5><a id=__codelineno-214-5 name=__codelineno-214-5 href=#__codelineno-214-5></a><span class=kt>int</span><span class=o>*</span><span class=w> </span><span class=n>q</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>arr</span><span class=p>;</span>
</span><span id=__span-214-6><a id=__codelineno-214-6 name=__codelineno-214-6 href=#__codelineno-214-6></a><span class=n>printf</span><span class=p>(</span><span class=s>&quot;*p++ : %d</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=o>*</span><span class=n>p</span><span class=o>++</span><span class=p>);</span><span class=w> </span><span class=c1>//输出*p++ : 1</span>
</span><span id=__span-214-7><a id=__codelineno-214-7 name=__codelineno-214-7 href=#__codelineno-214-7></a><span class=n>printf</span><span class=p>(</span><span class=s>&quot;p : %p</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=n>p</span><span class=p>);</span><span class=w> </span><span class=c1>//输出p : 0x7ffd12243564</span>
</span><span id=__span-214-8><a id=__codelineno-214-8 name=__codelineno-214-8 href=#__codelineno-214-8></a><span class=n>printf</span><span class=p>(</span><span class=s>&quot;*++q : %d</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=o>*++</span><span class=n>q</span><span class=p>);</span><span class=w> </span><span class=c1>//输出*++q : 2</span>
</span><span id=__span-214-9><a id=__codelineno-214-9 name=__codelineno-214-9 href=#__codelineno-214-9></a><span class=n>printf</span><span class=p>(</span><span class=s>&quot;q : %p</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=n>q</span><span class=p>);</span><span class=w> </span><span class=c1>//输出q : 0x7ffd12243564</span>
</span><span id=__span-214-10><a id=__codelineno-214-10 name=__codelineno-214-10 href=#__codelineno-214-10></a><span class=k>return</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-214-11><a id=__codelineno-214-11 name=__codelineno-214-11 href=#__codelineno-214-11></a><span class=p>}</span>
</span></code></pre></div> </div> <p><strong>应用</strong></p> <p>*p++ : 取出原本这个位置的值再把p+1</p> <p>指针比较 &lt;, &lt;=, &gt;, &gt;=, =, != 比较地址大小 数组中元素地址 <em>线性递增</em></p> <h3 id=_48>应用<a class=headerlink href=#_48 title="Permanent link">&para;</a></h3> <h4 id=_49>指针与函数<a class=headerlink href=#_49 title="Permanent link">&para;</a></h4> <p><strong>数组作参数</strong></p> <p>函数定义：</p> <ul> <li> <p>常用：指针 例如 <code>*arr</code> or <code>arr[]</code></p> </li> <li> <div class="admonition info"> <p class=admonition-title>其他</p> </div> <div class="language-c highlight"><pre><span></span><code><span id=__span-215-1><a id=__codelineno-215-1 name=__codelineno-215-1 href=#__codelineno-215-1></a><span class=c1>// 1. 不指定大小，单独传递数组名（等价于指针）</span>
</span><span id=__span-215-2><a id=__codelineno-215-2 name=__codelineno-215-2 href=#__codelineno-215-2></a><span class=kt>void</span><span class=w> </span><span class=nf>func</span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>arr</span><span class=p>[]);</span>
</span><span id=__span-215-3><a id=__codelineno-215-3 name=__codelineno-215-3 href=#__codelineno-215-3></a>
</span><span id=__span-215-4><a id=__codelineno-215-4 name=__codelineno-215-4 href=#__codelineno-215-4></a><span class=c1>// 2. 带有形参大小的语义化声明（仅作提示，与1等价）</span>
</span><span id=__span-215-5><a id=__codelineno-215-5 name=__codelineno-215-5 href=#__codelineno-215-5></a><span class=kt>void</span><span class=w> </span><span class=nf>func</span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>arr</span><span class=p>[</span><span class=n>length</span><span class=p>]);</span>
</span><span id=__span-215-6><a id=__codelineno-215-6 name=__codelineno-215-6 href=#__codelineno-215-6></a>
</span><span id=__span-215-7><a id=__codelineno-215-7 name=__codelineno-215-7 href=#__codelineno-215-7></a><span class=c1>// 3. 传递数组和大小（常用方式）</span>
</span><span id=__span-215-8><a id=__codelineno-215-8 name=__codelineno-215-8 href=#__codelineno-215-8></a><span class=kt>void</span><span class=w> </span><span class=nf>func</span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>arr</span><span class=p>[],</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>size</span><span class=p>);</span>
</span><span id=__span-215-9><a id=__codelineno-215-9 name=__codelineno-215-9 href=#__codelineno-215-9></a>
</span><span id=__span-215-10><a id=__codelineno-215-10 name=__codelineno-215-10 href=#__codelineno-215-10></a><span class=c1>// 4. 使用指针的方式（与1等价）</span>
</span><span id=__span-215-11><a id=__codelineno-215-11 name=__codelineno-215-11 href=#__codelineno-215-11></a><span class=kt>void</span><span class=w> </span><span class=nf>func</span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=o>*</span><span class=n>arr</span><span class=p>);</span>
</span><span id=__span-215-12><a id=__codelineno-215-12 name=__codelineno-215-12 href=#__codelineno-215-12></a>
</span><span id=__span-215-13><a id=__codelineno-215-13 name=__codelineno-215-13 href=#__codelineno-215-13></a><span class=c1>// 5. 传递指针和大小（常用方式，等价于3）</span>
</span><span id=__span-215-14><a id=__codelineno-215-14 name=__codelineno-215-14 href=#__codelineno-215-14></a><span class=kt>void</span><span class=w> </span><span class=nf>func</span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=o>*</span><span class=n>arr</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>size</span><span class=p>);</span>
</span><span id=__span-215-15><a id=__codelineno-215-15 name=__codelineno-215-15 href=#__codelineno-215-15></a>
</span><span id=__span-215-16><a id=__codelineno-215-16 name=__codelineno-215-16 href=#__codelineno-215-16></a><span class=c1>// 6. 使用通用指针（适合泛型处理）</span>
</span><span id=__span-215-17><a id=__codelineno-215-17 name=__codelineno-215-17 href=#__codelineno-215-17></a><span class=kt>void</span><span class=w> </span><span class=nf>func</span><span class=p>(</span><span class=kt>void</span><span class=w> </span><span class=o>*</span><span class=n>arr</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-215-18><a id=__codelineno-215-18 name=__codelineno-215-18 href=#__codelineno-215-18></a><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=o>*</span><span class=n>intArr</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=o>*</span><span class=p>)</span><span class=n>arr</span><span class=p>;</span><span class=w> </span><span class=c1>// 需要显式转换</span>
</span><span id=__span-215-19><a id=__codelineno-215-19 name=__codelineno-215-19 href=#__codelineno-215-19></a><span class=p>}</span>
</span><span id=__span-215-20><a id=__codelineno-215-20 name=__codelineno-215-20 href=#__codelineno-215-20></a><span class=cm>/*</span>
</span><span id=__span-215-21><a id=__codelineno-215-21 name=__codelineno-215-21 href=#__codelineno-215-21></a><span class=cm>1. 参数 void *arr 的含义</span>
</span><span id=__span-215-22><a id=__codelineno-215-22 name=__codelineno-215-22 href=#__codelineno-215-22></a><span class=cm>void * 是一种通用指针类型，表示它可以指向任意类型的数据（int、float、char 等）。</span>
</span><span id=__span-215-23><a id=__codelineno-215-23 name=__codelineno-215-23 href=#__codelineno-215-23></a><span class=cm>它不能直接用于解引用或进行算术运算，因为编译器不知道它指向的具体数据类型。</span>
</span><span id=__span-215-24><a id=__codelineno-215-24 name=__codelineno-215-24 href=#__codelineno-215-24></a><span class=cm>2. 显式类型转换 (int *)arr</span>
</span><span id=__span-215-25><a id=__codelineno-215-25 name=__codelineno-215-25 href=#__codelineno-215-25></a><span class=cm>int *intArr = (int *)arr; 将 void * 指针显式转换为 int * 指针。</span>
</span><span id=__span-215-26><a id=__codelineno-215-26 name=__codelineno-215-26 href=#__codelineno-215-26></a><span class=cm>这样，编译器就知道 intArr 指向的是一个 int 类型数据，允许后续进行解引用和算术运算。</span>
</span><span id=__span-215-27><a id=__codelineno-215-27 name=__codelineno-215-27 href=#__codelineno-215-27></a><span class=cm>*/</span>
</span><span id=__span-215-28><a id=__codelineno-215-28 name=__codelineno-215-28 href=#__codelineno-215-28></a>
</span><span id=__span-215-29><a id=__codelineno-215-29 name=__codelineno-215-29 href=#__codelineno-215-29></a><span class=c1>// 7. 多维数组，必须指定列数（编译器需要推导数组布局）</span>
</span><span id=__span-215-30><a id=__codelineno-215-30 name=__codelineno-215-30 href=#__codelineno-215-30></a><span class=kt>void</span><span class=w> </span><span class=nf>func</span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>arr</span><span class=p>[][</span><span class=n>N</span><span class=p>]);</span><span class=w>  </span><span class=c1>// 适用于静态二维数组</span>
</span><span id=__span-215-31><a id=__codelineno-215-31 name=__codelineno-215-31 href=#__codelineno-215-31></a><span class=kt>void</span><span class=w> </span><span class=nf>func</span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>arr</span><span class=p>[</span><span class=n>M</span><span class=p>][</span><span class=n>N</span><span class=p>]);</span><span class=w> </span><span class=c1>// 如果固定行数，也可显式指定</span>
</span><span id=__span-215-32><a id=__codelineno-215-32 name=__codelineno-215-32 href=#__codelineno-215-32></a>
</span><span id=__span-215-33><a id=__codelineno-215-33 name=__codelineno-215-33 href=#__codelineno-215-33></a><span class=c1>// 8. 多维数组同时传递行数（灵活处理，但需要列数固定）</span>
</span><span id=__span-215-34><a id=__codelineno-215-34 name=__codelineno-215-34 href=#__codelineno-215-34></a><span class=kt>void</span><span class=w> </span><span class=nf>func</span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>arr</span><span class=p>[][</span><span class=n>N</span><span class=p>],</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>rows</span><span class=p>);</span>
</span><span id=__span-215-35><a id=__codelineno-215-35 name=__codelineno-215-35 href=#__codelineno-215-35></a>
</span><span id=__span-215-36><a id=__codelineno-215-36 name=__codelineno-215-36 href=#__codelineno-215-36></a><span class=c1>// 9. 动态分配的二维数组（需传递指针数组）</span>
</span><span id=__span-215-37><a id=__codelineno-215-37 name=__codelineno-215-37 href=#__codelineno-215-37></a><span class=kt>void</span><span class=w> </span><span class=nf>func</span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=o>**</span><span class=n>arr</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>rows</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>cols</span><span class=p>);</span>
</span><span id=__span-215-38><a id=__codelineno-215-38 name=__codelineno-215-38 href=#__codelineno-215-38></a>
</span><span id=__span-215-39><a id=__codelineno-215-39 name=__codelineno-215-39 href=#__codelineno-215-39></a><span class=c1>// 10. const修饰符，保护数组内容（适合只读操作）</span>
</span><span id=__span-215-40><a id=__codelineno-215-40 name=__codelineno-215-40 href=#__codelineno-215-40></a><span class=kt>void</span><span class=w> </span><span class=nf>func</span><span class=p>(</span><span class=k>const</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>arr</span><span class=p>[],</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>size</span><span class=p>);</span>
</span><span id=__span-215-41><a id=__codelineno-215-41 name=__codelineno-215-41 href=#__codelineno-215-41></a><span class=kt>void</span><span class=w> </span><span class=nf>func</span><span class=p>(</span><span class=k>const</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=o>*</span><span class=n>arr</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>size</span><span class=p>);</span>
</span><span id=__span-215-42><a id=__codelineno-215-42 name=__codelineno-215-42 href=#__codelineno-215-42></a>
</span><span id=__span-215-43><a id=__codelineno-215-43 name=__codelineno-215-43 href=#__codelineno-215-43></a><span class=c1>// 11. restrict关键字（优化提示，避免指针别名）</span>
</span><span id=__span-215-44><a id=__codelineno-215-44 name=__codelineno-215-44 href=#__codelineno-215-44></a><span class=kt>void</span><span class=w> </span><span class=nf>func</span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=o>*</span><span class=kr>restrict</span><span class=w> </span><span class=n>arr</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>size</span><span class=p>);</span>
</span><span id=__span-215-45><a id=__codelineno-215-45 name=__codelineno-215-45 href=#__codelineno-215-45></a>
</span><span id=__span-215-46><a id=__codelineno-215-46 name=__codelineno-215-46 href=#__codelineno-215-46></a><span class=c1>// 12. 使用stddef.h的size_t定义大小（推荐规范写法）</span>
</span><span id=__span-215-47><a id=__codelineno-215-47 name=__codelineno-215-47 href=#__codelineno-215-47></a><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;stddef.h&gt;</span>
</span><span id=__span-215-48><a id=__codelineno-215-48 name=__codelineno-215-48 href=#__codelineno-215-48></a><span class=kt>void</span><span class=w> </span><span class=nf>func</span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>arr</span><span class=p>[],</span><span class=w> </span><span class=kt>size_t</span><span class=w> </span><span class=n>size</span><span class=p>);</span>
</span><span id=__span-215-49><a id=__codelineno-215-49 name=__codelineno-215-49 href=#__codelineno-215-49></a><span class=kt>void</span><span class=w> </span><span class=nf>func</span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=o>*</span><span class=n>arr</span><span class=p>,</span><span class=w> </span><span class=kt>size_t</span><span class=w> </span><span class=n>size</span><span class=p>);</span>
</span><span id=__span-215-50><a id=__codelineno-215-50 name=__codelineno-215-50 href=#__codelineno-215-50></a>
</span><span id=__span-215-51><a id=__codelineno-215-51 name=__codelineno-215-51 href=#__codelineno-215-51></a><span class=c1>// 13. 使用指针加偏移处理子数组</span>
</span><span id=__span-215-52><a id=__codelineno-215-52 name=__codelineno-215-52 href=#__codelineno-215-52></a><span class=kt>void</span><span class=w> </span><span class=nf>func</span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=o>*</span><span class=n>arr</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>startIndex</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>length</span><span class=p>);</span>
</span><span id=__span-215-53><a id=__codelineno-215-53 name=__codelineno-215-53 href=#__codelineno-215-53></a>
</span><span id=__span-215-54><a id=__codelineno-215-54 name=__codelineno-215-54 href=#__codelineno-215-54></a><span class=c1>// 14. 同时传递数组和数据类型信息（处理泛型或多类型场景）</span>
</span><span id=__span-215-55><a id=__codelineno-215-55 name=__codelineno-215-55 href=#__codelineno-215-55></a><span class=kt>void</span><span class=w> </span><span class=nf>func</span><span class=p>(</span><span class=kt>void</span><span class=w> </span><span class=o>*</span><span class=n>arr</span><span class=p>,</span><span class=w> </span><span class=kt>size_t</span><span class=w> </span><span class=n>elementSize</span><span class=p>,</span><span class=w> </span><span class=kt>size_t</span><span class=w> </span><span class=n>length</span><span class=p>);</span>
</span></code></pre></div> </li> </ul> <p>函数调用：</p> <ul> <li>常用：数组名 <code>arr</code> </li> <li> <div class="admonition info"> <p class=admonition-title>其他</p> </div> <div class="language-c highlight"><pre><span></span><code><span id=__span-216-1><a id=__codelineno-216-1 name=__codelineno-216-1 href=#__codelineno-216-1></a><span class=c1>// 1. 直接传递数组名</span>
</span><span id=__span-216-2><a id=__codelineno-216-2 name=__codelineno-216-2 href=#__codelineno-216-2></a><span class=kt>int</span><span class=w> </span><span class=n>arr</span><span class=p>[</span><span class=mi>10</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>{</span><span class=mi>0</span><span class=p>};</span>
</span><span id=__span-216-3><a id=__codelineno-216-3 name=__codelineno-216-3 href=#__codelineno-216-3></a><span class=n>func</span><span class=p>(</span><span class=n>arr</span><span class=p>);</span><span class=w>  </span><span class=c1>// 对应 void func(int arr[]); 或 void func(int *arr);</span>
</span><span id=__span-216-4><a id=__codelineno-216-4 name=__codelineno-216-4 href=#__codelineno-216-4></a>
</span><span id=__span-216-5><a id=__codelineno-216-5 name=__codelineno-216-5 href=#__codelineno-216-5></a><span class=c1>// 2. 带有大小参数</span>
</span><span id=__span-216-6><a id=__codelineno-216-6 name=__codelineno-216-6 href=#__codelineno-216-6></a><span class=kt>int</span><span class=w> </span><span class=n>arr</span><span class=p>[</span><span class=mi>10</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>{</span><span class=mi>0</span><span class=p>};</span>
</span><span id=__span-216-7><a id=__codelineno-216-7 name=__codelineno-216-7 href=#__codelineno-216-7></a><span class=n>func</span><span class=p>(</span><span class=n>arr</span><span class=p>,</span><span class=w> </span><span class=mi>10</span><span class=p>);</span><span class=w>  </span><span class=c1>// 对应 void func(int arr[], int size); 或 void func(int *arr, int size);</span>
</span><span id=__span-216-8><a id=__codelineno-216-8 name=__codelineno-216-8 href=#__codelineno-216-8></a>
</span><span id=__span-216-9><a id=__codelineno-216-9 name=__codelineno-216-9 href=#__codelineno-216-9></a><span class=c1>// 3. 传递多维数组</span>
</span><span id=__span-216-10><a id=__codelineno-216-10 name=__codelineno-216-10 href=#__codelineno-216-10></a><span class=kt>int</span><span class=w> </span><span class=n>arr</span><span class=p>[</span><span class=mi>3</span><span class=p>][</span><span class=mi>4</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>{{</span><span class=mi>0</span><span class=p>}};</span>
</span><span id=__span-216-11><a id=__codelineno-216-11 name=__codelineno-216-11 href=#__codelineno-216-11></a><span class=n>func</span><span class=p>(</span><span class=n>arr</span><span class=p>);</span><span class=w>          </span><span class=c1>// 对应 void func(int arr[][4]); 或 void func(int arr[M][4]);</span>
</span><span id=__span-216-12><a id=__codelineno-216-12 name=__codelineno-216-12 href=#__codelineno-216-12></a><span class=n>func</span><span class=p>(</span><span class=n>arr</span><span class=p>,</span><span class=w> </span><span class=mi>3</span><span class=p>);</span><span class=w>       </span><span class=c1>// 对应 void func(int arr[][4], int rows);</span>
</span><span id=__span-216-13><a id=__codelineno-216-13 name=__codelineno-216-13 href=#__codelineno-216-13></a>
</span><span id=__span-216-14><a id=__codelineno-216-14 name=__codelineno-216-14 href=#__codelineno-216-14></a><span class=c1>// 4. 动态分配的一维数组</span>
</span><span id=__span-216-15><a id=__codelineno-216-15 name=__codelineno-216-15 href=#__codelineno-216-15></a><span class=kt>int</span><span class=w> </span><span class=o>*</span><span class=n>arr</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>malloc</span><span class=p>(</span><span class=mi>10</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>sizeof</span><span class=p>(</span><span class=kt>int</span><span class=p>));</span>
</span><span id=__span-216-16><a id=__codelineno-216-16 name=__codelineno-216-16 href=#__codelineno-216-16></a><span class=n>func</span><span class=p>(</span><span class=n>arr</span><span class=p>);</span><span class=w>          </span><span class=c1>// 对应 void func(int *arr);</span>
</span><span id=__span-216-17><a id=__codelineno-216-17 name=__codelineno-216-17 href=#__codelineno-216-17></a><span class=n>func</span><span class=p>(</span><span class=n>arr</span><span class=p>,</span><span class=w> </span><span class=mi>10</span><span class=p>);</span><span class=w>      </span><span class=c1>// 对应 void func(int *arr, int size);</span>
</span><span id=__span-216-18><a id=__codelineno-216-18 name=__codelineno-216-18 href=#__codelineno-216-18></a>
</span><span id=__span-216-19><a id=__codelineno-216-19 name=__codelineno-216-19 href=#__codelineno-216-19></a><span class=c1>// 5. 动态分配的二维数组（指针数组）</span>
</span><span id=__span-216-20><a id=__codelineno-216-20 name=__codelineno-216-20 href=#__codelineno-216-20></a><span class=kt>int</span><span class=w> </span><span class=o>**</span><span class=n>arr</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>malloc</span><span class=p>(</span><span class=mi>3</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>sizeof</span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=o>*</span><span class=p>));</span>
</span><span id=__span-216-21><a id=__codelineno-216-21 name=__codelineno-216-21 href=#__codelineno-216-21></a><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=mi>3</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=o>++</span><span class=p>)</span><span class=w> </span><span class=n>arr</span><span class=p>[</span><span class=n>i</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>malloc</span><span class=p>(</span><span class=mi>4</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>sizeof</span><span class=p>(</span><span class=kt>int</span><span class=p>));</span>
</span><span id=__span-216-22><a id=__codelineno-216-22 name=__codelineno-216-22 href=#__codelineno-216-22></a><span class=n>func</span><span class=p>(</span><span class=n>arr</span><span class=p>,</span><span class=w> </span><span class=mi>3</span><span class=p>,</span><span class=w> </span><span class=mi>4</span><span class=p>);</span><span class=w>    </span><span class=c1>// 对应 void func(int **arr, int rows, int cols);</span>
</span><span id=__span-216-23><a id=__codelineno-216-23 name=__codelineno-216-23 href=#__codelineno-216-23></a>
</span><span id=__span-216-24><a id=__codelineno-216-24 name=__codelineno-216-24 href=#__codelineno-216-24></a><span class=c1>// 6. 传递通用指针</span>
</span><span id=__span-216-25><a id=__codelineno-216-25 name=__codelineno-216-25 href=#__codelineno-216-25></a><span class=kt>void</span><span class=w> </span><span class=o>*</span><span class=n>arr</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>malloc</span><span class=p>(</span><span class=mi>10</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>sizeof</span><span class=p>(</span><span class=kt>int</span><span class=p>));</span>
</span><span id=__span-216-26><a id=__codelineno-216-26 name=__codelineno-216-26 href=#__codelineno-216-26></a><span class=n>func</span><span class=p>(</span><span class=n>arr</span><span class=p>);</span><span class=w>          </span><span class=c1>// 对应 void func(void *arr);</span>
</span><span id=__span-216-27><a id=__codelineno-216-27 name=__codelineno-216-27 href=#__codelineno-216-27></a>
</span><span id=__span-216-28><a id=__codelineno-216-28 name=__codelineno-216-28 href=#__codelineno-216-28></a><span class=c1>// 7. 传递子数组（指针偏移）</span>
</span><span id=__span-216-29><a id=__codelineno-216-29 name=__codelineno-216-29 href=#__codelineno-216-29></a><span class=kt>int</span><span class=w> </span><span class=n>arr</span><span class=p>[</span><span class=mi>10</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>{</span><span class=mi>0</span><span class=p>};</span>
</span><span id=__span-216-30><a id=__codelineno-216-30 name=__codelineno-216-30 href=#__codelineno-216-30></a><span class=n>func</span><span class=p>(</span><span class=n>arr</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>5</span><span class=p>,</span><span class=w> </span><span class=mi>5</span><span class=p>);</span><span class=w>   </span><span class=c1>// 对应 void func(int *arr, int size); 或子数组操作</span>
</span><span id=__span-216-31><a id=__codelineno-216-31 name=__codelineno-216-31 href=#__codelineno-216-31></a>
</span><span id=__span-216-32><a id=__codelineno-216-32 name=__codelineno-216-32 href=#__codelineno-216-32></a><span class=c1>// 8. 常量数组传递</span>
</span><span id=__span-216-33><a id=__codelineno-216-33 name=__codelineno-216-33 href=#__codelineno-216-33></a><span class=k>const</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>arr</span><span class=p>[</span><span class=mi>10</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>{</span><span class=mi>0</span><span class=p>};</span>
</span><span id=__span-216-34><a id=__codelineno-216-34 name=__codelineno-216-34 href=#__codelineno-216-34></a><span class=n>func</span><span class=p>(</span><span class=n>arr</span><span class=p>,</span><span class=w> </span><span class=mi>10</span><span class=p>);</span><span class=w>      </span><span class=c1>// 对应 void func(const int arr[], int size);</span>
</span><span id=__span-216-35><a id=__codelineno-216-35 name=__codelineno-216-35 href=#__codelineno-216-35></a>
</span><span id=__span-216-36><a id=__codelineno-216-36 name=__codelineno-216-36 href=#__codelineno-216-36></a><span class=c1>// 9. 使用 restrict 修饰的数组</span>
</span><span id=__span-216-37><a id=__codelineno-216-37 name=__codelineno-216-37 href=#__codelineno-216-37></a><span class=kt>int</span><span class=w> </span><span class=n>arr</span><span class=p>[</span><span class=mi>10</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>{</span><span class=mi>0</span><span class=p>};</span>
</span><span id=__span-216-38><a id=__codelineno-216-38 name=__codelineno-216-38 href=#__codelineno-216-38></a><span class=n>func</span><span class=p>(</span><span class=n>arr</span><span class=p>,</span><span class=w> </span><span class=mi>10</span><span class=p>);</span><span class=w>      </span><span class=c1>// 对应 void func(int *restrict arr, int size);</span>
</span><span id=__span-216-39><a id=__codelineno-216-39 name=__codelineno-216-39 href=#__codelineno-216-39></a>
</span><span id=__span-216-40><a id=__codelineno-216-40 name=__codelineno-216-40 href=#__codelineno-216-40></a><span class=c1>// 10. 传递多类型数据</span>
</span><span id=__span-216-41><a id=__codelineno-216-41 name=__codelineno-216-41 href=#__codelineno-216-41></a><span class=kt>double</span><span class=w> </span><span class=n>darr</span><span class=p>[</span><span class=mi>10</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>{</span><span class=mi>0</span><span class=p>};</span>
</span><span id=__span-216-42><a id=__codelineno-216-42 name=__codelineno-216-42 href=#__codelineno-216-42></a><span class=n>func</span><span class=p>((</span><span class=kt>void</span><span class=w> </span><span class=o>*</span><span class=p>)</span><span class=n>darr</span><span class=p>,</span><span class=w> </span><span class=k>sizeof</span><span class=p>(</span><span class=kt>double</span><span class=p>),</span><span class=w> </span><span class=mi>10</span><span class=p>);</span><span class=w>  </span><span class=c1>// 对应 void func(void *arr, size_t elementSize, size_t length);</span>
</span><span id=__span-216-43><a id=__codelineno-216-43 name=__codelineno-216-43 href=#__codelineno-216-43></a>
</span><span id=__span-216-44><a id=__codelineno-216-44 name=__codelineno-216-44 href=#__codelineno-216-44></a><span class=c1>// 11. 多维数组的动态分配模拟</span>
</span><span id=__span-216-45><a id=__codelineno-216-45 name=__codelineno-216-45 href=#__codelineno-216-45></a><span class=kt>int</span><span class=w> </span><span class=o>*</span><span class=n>arr</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>malloc</span><span class=p>(</span><span class=mi>3</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=mi>4</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>sizeof</span><span class=p>(</span><span class=kt>int</span><span class=p>));</span>
</span><span id=__span-216-46><a id=__codelineno-216-46 name=__codelineno-216-46 href=#__codelineno-216-46></a><span class=n>func</span><span class=p>(</span><span class=n>arr</span><span class=p>,</span><span class=w> </span><span class=mi>3</span><span class=p>,</span><span class=w> </span><span class=mi>4</span><span class=p>);</span><span class=w>    </span><span class=c1>// 对应 void func(int *arr, int rows, int cols);</span>
</span><span id=__span-216-47><a id=__codelineno-216-47 name=__codelineno-216-47 href=#__codelineno-216-47></a>
</span><span id=__span-216-48><a id=__codelineno-216-48 name=__codelineno-216-48 href=#__codelineno-216-48></a><span class=c1>// 12. 直接传递字符数组（字符串）</span>
</span><span id=__span-216-49><a id=__codelineno-216-49 name=__codelineno-216-49 href=#__codelineno-216-49></a><span class=kt>char</span><span class=w> </span><span class=n>str</span><span class=p>[]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&quot;hello&quot;</span><span class=p>;</span>
</span><span id=__span-216-50><a id=__codelineno-216-50 name=__codelineno-216-50 href=#__codelineno-216-50></a><span class=n>func</span><span class=p>(</span><span class=n>str</span><span class=p>);</span><span class=w>          </span><span class=c1>// 对应 void func(char arr[]); 或 void func(char *arr);</span>
</span></code></pre></div> </li> </ul> <div class="admonition info"> <p class=admonition-title>经典交换</p> <div class="tabbed-set tabbed-alternate" data-tabs=1:3><input checked=checked id=__tabbed_1_1 name=__tabbed_1 type=radio><input id=__tabbed_1_2 name=__tabbed_1 type=radio><input id=__tabbed_1_3 name=__tabbed_1 type=radio><div class=tabbed-labels><label for=__tabbed_1_1>1</label><label for=__tabbed_1_2>2</label><label for=__tabbed_1_3>3</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class="language-c highlight"><pre><span></span><code><span id=__span-217-1><a id=__codelineno-217-1 name=__codelineno-217-1 href=#__codelineno-217-1></a><span class=kt>void</span><span class=w> </span><span class=nf>swap1</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>x</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>y</span><span class=p>)</span>
</span><span id=__span-217-2><a id=__codelineno-217-2 name=__codelineno-217-2 href=#__codelineno-217-2></a><span class=p>{</span><span class=w>   </span>
</span><span id=__span-217-3><a id=__codelineno-217-3 name=__codelineno-217-3 href=#__codelineno-217-3></a><span class=kt>int</span><span class=w> </span><span class=n>t</span><span class=p>;</span>
</span><span id=__span-217-4><a id=__codelineno-217-4 name=__codelineno-217-4 href=#__codelineno-217-4></a><span class=n>t</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>x</span><span class=p>;</span><span class=w> </span>
</span><span id=__span-217-5><a id=__codelineno-217-5 name=__codelineno-217-5 href=#__codelineno-217-5></a><span class=n>x</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>y</span><span class=p>;</span><span class=w> </span>
</span><span id=__span-217-6><a id=__codelineno-217-6 name=__codelineno-217-6 href=#__codelineno-217-6></a><span class=n>y</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>t</span><span class=p>;</span>
</span><span id=__span-217-7><a id=__codelineno-217-7 name=__codelineno-217-7 href=#__codelineno-217-7></a><span class=p>}</span><span class=w> </span>
</span></code></pre></div> </div> <div class=tabbed-block> <div class="language-c highlight"><pre><span></span><code><span id=__span-218-1><a id=__codelineno-218-1 name=__codelineno-218-1 href=#__codelineno-218-1></a><span class=kt>void</span><span class=w> </span><span class=nf>swap2</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=o>*</span><span class=n>px</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=o>*</span><span class=n>py</span><span class=p>)</span>
</span><span id=__span-218-2><a id=__codelineno-218-2 name=__codelineno-218-2 href=#__codelineno-218-2></a><span class=p>{</span><span class=w>    </span>
</span><span id=__span-218-3><a id=__codelineno-218-3 name=__codelineno-218-3 href=#__codelineno-218-3></a><span class=kt>int</span><span class=w> </span><span class=n>t</span><span class=p>;</span>
</span><span id=__span-218-4><a id=__codelineno-218-4 name=__codelineno-218-4 href=#__codelineno-218-4></a><span class=n>t</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=o>*</span><span class=n>px</span><span class=p>;</span><span class=w> </span>
</span><span id=__span-218-5><a id=__codelineno-218-5 name=__codelineno-218-5 href=#__codelineno-218-5></a><span class=o>*</span><span class=n>px</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=o>*</span><span class=n>py</span><span class=p>;</span><span class=w> </span>
</span><span id=__span-218-6><a id=__codelineno-218-6 name=__codelineno-218-6 href=#__codelineno-218-6></a><span class=o>*</span><span class=n>py</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>t</span><span class=p>;</span>
</span><span id=__span-218-7><a id=__codelineno-218-7 name=__codelineno-218-7 href=#__codelineno-218-7></a><span class=p>}</span><span class=w> </span>
</span></code></pre></div> </div> <div class=tabbed-block> <div class="language-c highlight"><pre><span></span><code><span id=__span-219-1><a id=__codelineno-219-1 name=__codelineno-219-1 href=#__codelineno-219-1></a><span class=kt>void</span><span class=w> </span><span class=nf>swap3</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=o>*</span><span class=n>px</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=o>*</span><span class=n>py</span><span class=p>)</span>
</span><span id=__span-219-2><a id=__codelineno-219-2 name=__codelineno-219-2 href=#__codelineno-219-2></a><span class=p>{</span><span class=w>    </span>
</span><span id=__span-219-3><a id=__codelineno-219-3 name=__codelineno-219-3 href=#__codelineno-219-3></a><span class=kt>int</span><span class=w> </span><span class=o>*</span><span class=n>pt</span><span class=p>;</span>
</span><span id=__span-219-4><a id=__codelineno-219-4 name=__codelineno-219-4 href=#__codelineno-219-4></a><span class=n>pt</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>px</span><span class=p>;</span><span class=w> </span>
</span><span id=__span-219-5><a id=__codelineno-219-5 name=__codelineno-219-5 href=#__codelineno-219-5></a><span class=n>px</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>py</span><span class=p>;</span><span class=w> </span>
</span><span id=__span-219-6><a id=__codelineno-219-6 name=__codelineno-219-6 href=#__codelineno-219-6></a><span class=n>py</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>pt</span><span class=p>;</span>
</span><span id=__span-219-7><a id=__codelineno-219-7 name=__codelineno-219-7 href=#__codelineno-219-7></a><span class=p>}</span><span class=w> </span>
</span></code></pre></div> </div> </div> </div> </div> <p>不理解就记住只有第二个能成功</p> <details class=info> <summary>试图理解</summary> <p>函数：仍然是参数的传递</p> <p>变量作参数：将那个变量的值给到函数的形参，而函数结束后，形参消失，原来的变量仍然是原来的值</p> <p>指针做参数：将那个变量的值给到函数的形参，这里，值是地址值，通过地址，可以在函数内部访问外面那个值</p> </details> <h5 id=_50>函数多返回值<a class=headerlink href=#_50 title="Permanent link">&para;</a></h5> <p><strong>原理</strong></p> <p>通过传入指针变量，更改对应地址上的值，实现“多返回值”。</p> <p><strong>形式</strong></p> <p>函数定义：参数例如 <code>int* p</code></p> <p>函数调用：参数例如 <code>&amp;num</code></p> <p>例子： <div class="language-c highlight"><pre><span></span><code><span id=__span-220-1><a id=__codelineno-220-1 name=__codelineno-220-1 href=#__codelineno-220-1></a><span class=cp>#include</span><span class=cpf>&lt;stdio.h&gt;</span>
</span><span id=__span-220-2><a id=__codelineno-220-2 name=__codelineno-220-2 href=#__codelineno-220-2></a><span class=kt>void</span><span class=w> </span><span class=nf>minmax</span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>arr</span><span class=p>[],</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=o>*</span><span class=n>min</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=o>*</span><span class=n>max</span><span class=p>)</span><span class=w> </span>
</span><span id=__span-220-3><a id=__codelineno-220-3 name=__codelineno-220-3 href=#__codelineno-220-3></a><span class=cm>/*</span>
</span><span id=__span-220-4><a id=__codelineno-220-4 name=__codelineno-220-4 href=#__codelineno-220-4></a><span class=cm>传入参数有讲究：要在定义的函数中对main函数输入/定义的数组进行处理，就必须得传入它，这是函数参数传递的基本内容;</span>
</span><span id=__span-220-5><a id=__codelineno-220-5 name=__codelineno-220-5 href=#__codelineno-220-5></a><span class=cm>传入指针变量，因为定义的函数内部要对main函数中的min，max变量进行处理，原理同上面;</span>
</span><span id=__span-220-6><a id=__codelineno-220-6 name=__codelineno-220-6 href=#__codelineno-220-6></a><span class=cm>**核心：要在函数内部对主函数的变量进行操作，则必须得把主函数中的那个变量or其地址传入函数**</span>
</span><span id=__span-220-7><a id=__codelineno-220-7 name=__codelineno-220-7 href=#__codelineno-220-7></a><span class=cm>*/</span>
</span><span id=__span-220-8><a id=__codelineno-220-8 name=__codelineno-220-8 href=#__codelineno-220-8></a><span class=p>{</span>
</span><span id=__span-220-9><a id=__codelineno-220-9 name=__codelineno-220-9 href=#__codelineno-220-9></a><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>i</span><span class=p>,</span><span class=w> </span><span class=n>j</span><span class=p>;</span>
</span><span id=__span-220-10><a id=__codelineno-220-10 name=__codelineno-220-10 href=#__codelineno-220-10></a><span class=w>    </span><span class=o>*</span><span class=n>min</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>arr</span><span class=p>[</span><span class=mi>0</span><span class=p>];</span>
</span><span id=__span-220-11><a id=__codelineno-220-11 name=__codelineno-220-11 href=#__codelineno-220-11></a><span class=w>    </span><span class=o>*</span><span class=n>max</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>arr</span><span class=p>[</span><span class=mi>0</span><span class=p>];</span>
</span><span id=__span-220-12><a id=__codelineno-220-12 name=__codelineno-220-12 href=#__codelineno-220-12></a><span class=w>    </span><span class=k>for</span><span class=p>(</span><span class=n>i</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=mi>5</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=o>++</span><span class=p>){</span>
</span><span id=__span-220-13><a id=__codelineno-220-13 name=__codelineno-220-13 href=#__codelineno-220-13></a><span class=w>        </span><span class=k>if</span><span class=p>(</span><span class=n>arr</span><span class=p>[</span><span class=n>i</span><span class=p>]</span><span class=w> </span><span class=o>&gt;=</span><span class=w> </span><span class=o>*</span><span class=n>max</span><span class=p>)</span><span class=w> </span><span class=o>*</span><span class=n>max</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>arr</span><span class=p>[</span><span class=n>i</span><span class=p>];</span>
</span><span id=__span-220-14><a id=__codelineno-220-14 name=__codelineno-220-14 href=#__codelineno-220-14></a><span class=w>        </span><span class=k>if</span><span class=p>(</span><span class=n>arr</span><span class=p>[</span><span class=n>i</span><span class=p>]</span><span class=w> </span><span class=o>&lt;=</span><span class=w> </span><span class=o>*</span><span class=n>min</span><span class=p>)</span><span class=w> </span><span class=o>*</span><span class=n>min</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>arr</span><span class=p>[</span><span class=n>i</span><span class=p>];</span>
</span><span id=__span-220-15><a id=__codelineno-220-15 name=__codelineno-220-15 href=#__codelineno-220-15></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-220-16><a id=__codelineno-220-16 name=__codelineno-220-16 href=#__codelineno-220-16></a><span class=w>    </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;min = %d</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=o>*</span><span class=n>min</span><span class=p>);</span>
</span><span id=__span-220-17><a id=__codelineno-220-17 name=__codelineno-220-17 href=#__codelineno-220-17></a><span class=w>    </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;max = %d&quot;</span><span class=p>,</span><span class=w> </span><span class=o>*</span><span class=n>max</span><span class=p>);</span>
</span><span id=__span-220-18><a id=__codelineno-220-18 name=__codelineno-220-18 href=#__codelineno-220-18></a><span class=p>}</span>
</span><span id=__span-220-19><a id=__codelineno-220-19 name=__codelineno-220-19 href=#__codelineno-220-19></a><span class=kt>int</span><span class=w> </span><span class=nf>main</span><span class=p>()</span>
</span><span id=__span-220-20><a id=__codelineno-220-20 name=__codelineno-220-20 href=#__codelineno-220-20></a><span class=p>{</span>
</span><span id=__span-220-21><a id=__codelineno-220-21 name=__codelineno-220-21 href=#__codelineno-220-21></a><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>min</span><span class=p>;</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>max</span><span class=p>;</span>
</span><span id=__span-220-22><a id=__codelineno-220-22 name=__codelineno-220-22 href=#__codelineno-220-22></a><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>arr</span><span class=p>[</span><span class=mi>5</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>{</span><span class=mi>1</span><span class=p>,</span><span class=mi>4</span><span class=p>,</span><span class=mi>7</span><span class=p>,</span><span class=mi>5</span><span class=p>,</span><span class=mi>0</span><span class=p>};</span>
</span><span id=__span-220-23><a id=__codelineno-220-23 name=__codelineno-220-23 href=#__codelineno-220-23></a><span class=w>    </span><span class=n>minmax</span><span class=p>(</span><span class=n>arr</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=n>min</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=n>max</span><span class=p>);</span>
</span><span id=__span-220-24><a id=__codelineno-220-24 name=__codelineno-220-24 href=#__codelineno-220-24></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-220-25><a id=__codelineno-220-25 name=__codelineno-220-25 href=#__codelineno-220-25></a><span class=p>}</span>
</span></code></pre></div> 注： 函数参数表中的数组是什么？ 答：指针。 形式：<code>int a[]</code> <code>int *a</code> 都行</p> <p><strong>其他场景</strong></p> <p>函数返回状态：return返回运算的状态，指针返回运算结果</p> <h4 id=_51>数组与指针<a class=headerlink href=#_51 title="Permanent link">&para;</a></h4> <div class="admonition success"> <p class=admonition-title>牢记几句话</p> <p>“数组名是指向数组首元素的指针”</p> <p>“同类型指针直接加减是加一个sizeof，实现移位的功能”</p> </div> <h5 id=_52>几组等价表示<a class=headerlink href=#_52 title="Permanent link">&para;</a></h5> <p><div class="language-c highlight"><pre><span></span><code><span id=__span-221-1><a id=__codelineno-221-1 name=__codelineno-221-1 href=#__codelineno-221-1></a><span class=kt>int</span><span class=w> </span><span class=n>arr</span><span class=p>[</span><span class=mi>10</span><span class=p>];</span>
</span><span id=__span-221-2><a id=__codelineno-221-2 name=__codelineno-221-2 href=#__codelineno-221-2></a><span class=kt>int</span><span class=o>*</span><span class=w> </span><span class=n>p</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>arr</span><span class=p>;</span>
</span></code></pre></div> 那么， <div class="language-c highlight"><pre><span></span><code><span id=__span-222-1><a id=__codelineno-222-1 name=__codelineno-222-1 href=#__codelineno-222-1></a><span class=n>arr</span><span class=w> </span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=n>arr</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span><span class=w> </span><span class=p>,</span><span class=w> </span><span class=o>&amp;*</span><span class=n>arr</span><span class=w> </span><span class=p>,</span><span class=w> </span><span class=n>p</span><span class=w> </span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=n>p</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span><span class=w> </span><span class=p>,</span><span class=w> </span><span class=o>&amp;*</span><span class=n>p</span>
</span><span id=__span-222-2><a id=__codelineno-222-2 name=__codelineno-222-2 href=#__codelineno-222-2></a><span class=cm>/*注意：</span>
</span><span id=__span-222-3><a id=__codelineno-222-3 name=__codelineno-222-3 href=#__codelineno-222-3></a><span class=cm>不包含&amp;arr: 他是整个数组的地址；</span>
</span><span id=__span-222-4><a id=__codelineno-222-4 name=__codelineno-222-4 href=#__codelineno-222-4></a><span class=cm>他的类型：int (*)[10]，即一个指向包含 10 个 int 元素的数组的指针。</span>
</span><span id=__span-222-5><a id=__codelineno-222-5 name=__codelineno-222-5 href=#__codelineno-222-5></a><span class=cm>&amp;arr + 1 ：加一个数组的大小</span>
</span><span id=__span-222-6><a id=__codelineno-222-6 name=__codelineno-222-6 href=#__codelineno-222-6></a><span class=cm>arr + 1 ：加一个元素的大小</span>
</span><span id=__span-222-7><a id=__codelineno-222-7 name=__codelineno-222-7 href=#__codelineno-222-7></a><span class=cm>*/</span>
</span><span id=__span-222-8><a id=__codelineno-222-8 name=__codelineno-222-8 href=#__codelineno-222-8></a><span class=n>arr</span><span class=p>[</span><span class=n>i</span><span class=p>]</span><span class=w> </span><span class=p>,</span><span class=w> </span><span class=o>*</span><span class=p>(</span><span class=n>arr</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>i</span><span class=p>)</span><span class=w> </span><span class=p>,</span><span class=w> </span><span class=n>p</span><span class=p>[</span><span class=n>i</span><span class=p>]</span><span class=w> </span><span class=p>,</span><span class=w> </span><span class=o>*</span><span class=p>(</span><span class=n>p</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>i</span><span class=p>)</span>
</span></code></pre></div> 不等价：数组名是常量指针，不可赋值运算例如 <code>arr++</code></p> <div class="language-c highlight"><pre><span></span><code><span id=__span-223-1><a id=__codelineno-223-1 name=__codelineno-223-1 href=#__codelineno-223-1></a><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>n</span><span class=p>,</span><span class=w> </span><span class=n>i</span><span class=p>;</span>
</span><span id=__span-223-2><a id=__codelineno-223-2 name=__codelineno-223-2 href=#__codelineno-223-2></a><span class=w>    </span><span class=n>scanf</span><span class=p>(</span><span class=s>&quot;%d&quot;</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=n>n</span><span class=p>);</span>
</span><span id=__span-223-3><a id=__codelineno-223-3 name=__codelineno-223-3 href=#__codelineno-223-3></a><span class=w>    </span><span class=kt>int</span><span class=o>*</span><span class=w> </span><span class=n>arr</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=o>*</span><span class=w> </span><span class=p>)</span><span class=n>malloc</span><span class=p>(</span><span class=n>n</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>sizeof</span><span class=p>(</span><span class=kt>int</span><span class=p>));</span>
</span><span id=__span-223-4><a id=__codelineno-223-4 name=__codelineno-223-4 href=#__codelineno-223-4></a><span class=w>    </span><span class=k>for</span><span class=p>(</span><span class=n>i</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>n</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=o>++</span><span class=p>)</span><span class=w> </span><span class=n>scanf</span><span class=p>(</span><span class=s>&quot;%d&quot;</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=n>arr</span><span class=p>[</span><span class=n>i</span><span class=p>]);</span><span class=w> </span>
</span><span id=__span-223-5><a id=__codelineno-223-5 name=__codelineno-223-5 href=#__codelineno-223-5></a><span class=w>    </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=n>i</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>n</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=o>++</span><span class=p>)</span><span class=w> </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%d#&quot;</span><span class=p>,</span><span class=w> </span><span class=n>arr</span><span class=p>[</span><span class=n>i</span><span class=p>]);</span>
</span><span id=__span-223-6><a id=__codelineno-223-6 name=__codelineno-223-6 href=#__codelineno-223-6></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span></code></pre></div> <h5 id=_53>用法<a class=headerlink href=#_53 title="Permanent link">&para;</a></h5> <p>遍历：<code>p++</code></p> <p>法一： <div class="language-c highlight"><pre><span></span><code><span id=__span-224-1><a id=__codelineno-224-1 name=__codelineno-224-1 href=#__codelineno-224-1></a><span class=kt>int</span><span class=w> </span><span class=n>arr</span><span class=p>[]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>{</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>,</span><span class=mi>4</span><span class=p>,</span><span class=mi>5</span><span class=p>,</span><span class=mi>6</span><span class=p>,</span><span class=mi>-1</span><span class=p>};</span>
</span><span id=__span-224-2><a id=__codelineno-224-2 name=__codelineno-224-2 href=#__codelineno-224-2></a><span class=kt>int</span><span class=o>*</span><span class=w> </span><span class=n>p</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>arr</span><span class=p>;</span>
</span><span id=__span-224-3><a id=__codelineno-224-3 name=__codelineno-224-3 href=#__codelineno-224-3></a><span class=k>while</span><span class=p>(</span><span class=o>*</span><span class=n>p</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=mi>-1</span><span class=p>){</span>
</span><span id=__span-224-4><a id=__codelineno-224-4 name=__codelineno-224-4 href=#__codelineno-224-4></a><span class=w>    </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%d</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=o>*</span><span class=n>p</span><span class=o>++</span><span class=p>);</span>
</span><span id=__span-224-5><a id=__codelineno-224-5 name=__codelineno-224-5 href=#__codelineno-224-5></a><span class=p>}</span>
</span></code></pre></div> 法二： <div class="language-c highlight"><pre><span></span><code><span id=__span-225-1><a id=__codelineno-225-1 name=__codelineno-225-1 href=#__codelineno-225-1></a><span class=kt>int</span><span class=w> </span><span class=n>arr</span><span class=p>[]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>{</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>,</span><span class=mi>4</span><span class=p>,</span><span class=mi>5</span><span class=p>,</span><span class=mi>6</span><span class=p>,</span><span class=mi>-1</span><span class=p>};</span>
</span><span id=__span-225-2><a id=__codelineno-225-2 name=__codelineno-225-2 href=#__codelineno-225-2></a><span class=kt>int</span><span class=o>*</span><span class=w> </span><span class=n>p</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>arr</span><span class=p>;</span>
</span><span id=__span-225-3><a id=__codelineno-225-3 name=__codelineno-225-3 href=#__codelineno-225-3></a><span class=k>for</span><span class=p>(</span><span class=n>p</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>arr</span><span class=p>;</span><span class=w> </span><span class=n>p</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>arr</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>n</span><span class=p>;</span><span class=w> </span><span class=n>p</span><span class=o>++</span><span class=p>){</span>
</span><span id=__span-225-4><a id=__codelineno-225-4 name=__codelineno-225-4 href=#__codelineno-225-4></a><span class=w>   </span><span class=n>sum</span><span class=w> </span><span class=o>+=</span><span class=w> </span><span class=o>*</span><span class=n>p</span><span class=p>;</span>
</span><span id=__span-225-5><a id=__codelineno-225-5 name=__codelineno-225-5 href=#__codelineno-225-5></a><span class=w>   </span><span class=p>}</span>
</span></code></pre></div></p> <h5 id=_54>其他<a class=headerlink href=#_54 title="Permanent link">&para;</a></h5> <ol start=2> <li>数组变量是const类型指针:常量指针 即：<code>int b[]</code> &lt;=&gt;<code>int* const b</code> 故数组变量不能直接赋值, 即： <div class="language-c highlight"><pre><span></span><code><span id=__span-226-1><a id=__codelineno-226-1 name=__codelineno-226-1 href=#__codelineno-226-1></a><span class=kt>int</span><span class=w> </span><span class=n>arr1</span><span class=p>[</span><span class=mi>3</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>{</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>};</span>
</span><span id=__span-226-2><a id=__codelineno-226-2 name=__codelineno-226-2 href=#__codelineno-226-2></a><span class=kt>int</span><span class=w> </span><span class=n>arr2</span><span class=p>;</span>
</span><span id=__span-226-3><a id=__codelineno-226-3 name=__codelineno-226-3 href=#__codelineno-226-3></a><span class=n>arr2</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>arr1</span><span class=p>;</span><span class=w>  </span><span class=c1>//ERROR</span>
</span></code></pre></div></li> </ol> <h4 id=const>const与指针<a class=headerlink href=#const title="Permanent link">&para;</a></h4> <ol> <li> <p>指针可以是const(指针不可修改：<code>const</code> 在 <code>*</code> 后面)：这个指针变量的值（地址）不能变了，不能再指向其他变量</p> <div class="language-c highlight"><pre><span></span><code><span id=__span-227-1><a id=__codelineno-227-1 name=__codelineno-227-1 href=#__codelineno-227-1></a><span class=kt>int</span><span class=o>*</span><span class=w> </span><span class=k>const</span><span class=w> </span><span class=n>q</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=o>&amp;</span><span class=n>i</span><span class=w>    </span><span class=c1>//q is const</span>
</span><span id=__span-227-2><a id=__codelineno-227-2 name=__codelineno-227-2 href=#__codelineno-227-2></a><span class=n>q</span><span class=o>++</span><span class=w>   </span><span class=c1>//ERROR</span>
</span><span id=__span-227-3><a id=__codelineno-227-3 name=__codelineno-227-3 href=#__codelineno-227-3></a><span class=n>i</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>20</span><span class=w>    </span><span class=c1>//OK</span>
</span></code></pre></div> </li> <li> <p>所指的是const(通过指针不可修改：<code>const</code> 在 <code>*</code> 前面)：表示不能通过这个指针去修改那个变量，但是这个指针和那个变量都不是const都可以修改.用处：大的结构用const结构的指针 <div class="language-c highlight"><pre><span></span><code><span id=__span-228-1><a id=__codelineno-228-1 name=__codelineno-228-1 href=#__codelineno-228-1></a><span class=k>const</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=o>*</span><span class=n>p</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=o>&amp;</span><span class=n>i</span><span class=w>    </span>
</span><span id=__span-228-2><a id=__codelineno-228-2 name=__codelineno-228-2 href=#__codelineno-228-2></a><span class=n>i</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>20</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=o>++</span><span class=w>    </span><span class=c1>//OK</span>
</span><span id=__span-228-3><a id=__codelineno-228-3 name=__codelineno-228-3 href=#__codelineno-228-3></a><span class=n>p</span><span class=o>++</span><span class=w>    </span><span class=c1>//OK</span>
</span><span id=__span-228-4><a id=__codelineno-228-4 name=__codelineno-228-4 href=#__codelineno-228-4></a><span class=n>p</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=o>&amp;</span><span class=n>j</span><span class=w>    </span><span class=c1>//OK</span>
</span><span id=__span-228-5><a id=__codelineno-228-5 name=__codelineno-228-5 href=#__codelineno-228-5></a><span class=o>*</span><span class=n>p</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>30</span><span class=w>    </span><span class=c1>//ERROR</span>
</span></code></pre></div></p> </li> <li> <p>const数组</p> <p><code>const int a\[] = {1,2,3,4,5,6}</code> : 这里的const表示每个元素都是const int</p> <p>用处：防止函数对数组修改：<code>int func(const int arr[], int len)</code></p> </li> </ol> <h3 id=_55>动态分配内存<a class=headerlink href=#_55 title="Permanent link">&para;</a></h3> <p>C99中的代替方法：可变长度数组 C89中：malloc函数：<code>#include&lt;stdlib.h&gt;</code></p> <p><strong>语法</strong></p> <p><code>int* a = malloc(n * sizeof(int))</code></p> <div class="admonition info"> <p class=admonition-title>malloc() &amp; free()</p> <p>函数原型：</p> <p><code>void* malloc(size_t size);</code></p> <p><code>void free(void *ptr);</code></p> </div> <p>free() and malloc() is 绑定使用的</p> <p>参数：内存大小; </p> <p>返回值：void* ：一个指针，指向一块内存，单位为字节</p> <p>之后需要强制类型转换 <code>(int*)malloc(n * sizeof(int))</code></p> <p>之后将malloc产生的那个指针当数组来用即可</p> <p>之后要free(a) //a 是那个指针</p> <p>必须得是malloc申请来的内存才能被free，其他不行。 好习惯：定义指针先赋值0，最后在free(0)</p> <p>合理设计程序结构以找到合适地方进行free</p> <p>如果没有内存了：返回0 orNULL</p> <p><strong>示例</strong> <div class="language-c highlight"><pre><span></span><code><span id=__span-229-1><a id=__codelineno-229-1 name=__codelineno-229-1 href=#__codelineno-229-1></a><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>n</span><span class=p>,</span><span class=w> </span><span class=n>i</span><span class=p>;</span>
</span><span id=__span-229-2><a id=__codelineno-229-2 name=__codelineno-229-2 href=#__codelineno-229-2></a><span class=w>    </span><span class=n>scanf</span><span class=p>(</span><span class=s>&quot;%d&quot;</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=n>n</span><span class=p>);</span>
</span><span id=__span-229-3><a id=__codelineno-229-3 name=__codelineno-229-3 href=#__codelineno-229-3></a><span class=w>    </span><span class=kt>int</span><span class=o>*</span><span class=w> </span><span class=n>arr</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=o>*</span><span class=w> </span><span class=p>)</span><span class=n>malloc</span><span class=p>(</span><span class=n>n</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>sizeof</span><span class=p>(</span><span class=kt>int</span><span class=p>));</span>
</span><span id=__span-229-4><a id=__codelineno-229-4 name=__codelineno-229-4 href=#__codelineno-229-4></a><span class=w>    </span><span class=k>for</span><span class=p>(</span><span class=n>i</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>n</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=o>++</span><span class=p>)</span><span class=w> </span><span class=n>scanf</span><span class=p>(</span><span class=s>&quot;%d&quot;</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=n>arr</span><span class=p>[</span><span class=n>i</span><span class=p>]);</span>
</span><span id=__span-229-5><a id=__codelineno-229-5 name=__codelineno-229-5 href=#__codelineno-229-5></a><span class=w>    </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=n>i</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>n</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=o>++</span><span class=p>)</span><span class=w> </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%d#&quot;</span><span class=p>,</span><span class=w> </span><span class=n>arr</span><span class=p>[</span><span class=n>i</span><span class=p>]);</span>
</span><span id=__span-229-6><a id=__codelineno-229-6 name=__codelineno-229-6 href=#__codelineno-229-6></a><span class=w>    </span><span class=n>free</span><span class=p>(</span><span class=n>arr</span><span class=p>);</span>
</span><span id=__span-229-7><a id=__codelineno-229-7 name=__codelineno-229-7 href=#__codelineno-229-7></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span></code></pre></div></p> <h3 id=_56>数组与指针<a class=headerlink href=#_56 title="Permanent link">&para;</a></h3> <h3 id=_57>指针数组<a class=headerlink href=#_57 title="Permanent link">&para;</a></h3> <h3 id=_58>函数指针<a class=headerlink href=#_58 title="Permanent link">&para;</a></h3> <p><code>char **a</code> : a是一个指针，指向另一个指针，那个指针指向一个字符串</p> <p><code>char *a[]</code> : </p> <p><a class=glightbox href=../res/images/image-6_1.png data-type=image data-width=auto data-height=auto data-desc-position=bottom><img alt="alt text" src=../res/images/image-6_1.png></a></p> <p><a class=glightbox href=../res/images/image-15_1.png data-type=image data-width=auto data-height=auto data-desc-position=bottom><img alt="alt text" src=../res/images/image-15_1.png></a></p> <h3 id=_59>杂项<a class=headerlink href=#_59 title="Permanent link">&para;</a></h3> <ol> <li>NULL与0地址 <a class=glightbox href=../res/images/image-3_1.png data-type=image data-width=auto data-height=auto data-desc-position=bottom><img alt="alt text" src=../res/images/image-3_1.png></a></li> <li>指针一定要现初始化！</li> <li>指针类型转换<ul> <li>原理：换一种视角去看那些内存空间</li> <li>普通指针<ul> <li>事实上，指针的大小都是一样的，可以进行强制类型转换</li> <li>理解：用内存格格来看：原来这堆格格代表A类型的数据，强制类型转换后代表B类型的数据，按照数据存储的规则进行“翻译”即可 例子：</li> </ul> </li> </ul> </li> </ol> <details class=info> <summary>不同类型指针的相互赋值</summary> <p>在C语言中，<code>int</code> 类型和 <code>char</code> 类型的指针可以相互赋值，因为它们通常具有相同的大小（在大多数平台上，<code>char</code> 是1字节，<code>int</code> 是4字节，但指针的大小是固定的，通常是4字节或8字节，取决于系统架构）。然而，这种赋值通常是不安全的，因为 <code>int</code> 和 <code>char</code> 指针指向的数据大小不同，解引用这些指针可能会导致未定义行为。</p> <p>以下是一些示例和说明：</p> <p>示例1：将 <code>int*</code> 赋值给 <code>char*</code> <div class="language-c highlight"><pre><span></span><code><span id=__span-230-1><a id=__codelineno-230-1 name=__codelineno-230-1 href=#__codelineno-230-1></a><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>10</span><span class=p>;</span>
</span><span id=__span-230-2><a id=__codelineno-230-2 name=__codelineno-230-2 href=#__codelineno-230-2></a><span class=w>    </span><span class=kt>int</span><span class=o>*</span><span class=w> </span><span class=n>intPtr</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=o>&amp;</span><span class=n>i</span><span class=p>;</span>
</span><span id=__span-230-3><a id=__codelineno-230-3 name=__codelineno-230-3 href=#__codelineno-230-3></a><span class=w>    </span><span class=kt>char</span><span class=o>*</span><span class=w> </span><span class=n>charPtr</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>(</span><span class=kt>char</span><span class=o>*</span><span class=p>)</span><span class=n>intPtr</span><span class=p>;</span><span class=w> </span><span class=c1>// 将int*转换为char*</span>
</span><span id=__span-230-4><a id=__codelineno-230-4 name=__codelineno-230-4 href=#__codelineno-230-4></a>
</span><span id=__span-230-5><a id=__codelineno-230-5 name=__codelineno-230-5 href=#__codelineno-230-5></a><span class=w>    </span><span class=c1>// 打印charPtr指向的值</span>
</span><span id=__span-230-6><a id=__codelineno-230-6 name=__codelineno-230-6 href=#__codelineno-230-6></a><span class=w>    </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%d</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=o>*</span><span class=n>charPtr</span><span class=p>);</span><span class=w> </span><span class=c1>// 打印i的最低字节</span>
</span></code></pre></div> 在这个例子中，我们将 <code>int</code> 类型的指针转换为 <code>char</code> 类型的指针，并打印出指向的值。这里打印的是 <code>int</code> 值的最低字节，因为 <code>char</code> 类型是1字节的。</p> <p>示例2：将 <code>char*</code> 赋值给 <code>int*</code> <div class="language-c highlight"><pre><span></span><code><span id=__span-231-1><a id=__codelineno-231-1 name=__codelineno-231-1 href=#__codelineno-231-1></a><span class=w>    </span><span class=kt>char</span><span class=w> </span><span class=n>chars</span><span class=p>[</span><span class=mi>4</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>{</span><span class=sc>&#39;a&#39;</span><span class=p>,</span><span class=w> </span><span class=sc>&#39;b&#39;</span><span class=p>,</span><span class=w> </span><span class=sc>&#39;c&#39;</span><span class=p>,</span><span class=w> </span><span class=sc>&#39;d&#39;</span><span class=p>};</span>
</span><span id=__span-231-2><a id=__codelineno-231-2 name=__codelineno-231-2 href=#__codelineno-231-2></a><span class=w>    </span><span class=kt>char</span><span class=o>*</span><span class=w> </span><span class=n>charPtr</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>chars</span><span class=p>;</span>
</span><span id=__span-231-3><a id=__codelineno-231-3 name=__codelineno-231-3 href=#__codelineno-231-3></a><span class=w>    </span><span class=kt>int</span><span class=o>*</span><span class=w> </span><span class=n>intPtr</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=o>*</span><span class=p>)</span><span class=n>charPtr</span><span class=p>;</span><span class=w> </span><span class=c1>// 将char*转换为int*</span>
</span><span id=__span-231-4><a id=__codelineno-231-4 name=__codelineno-231-4 href=#__codelineno-231-4></a>
</span><span id=__span-231-5><a id=__codelineno-231-5 name=__codelineno-231-5 href=#__codelineno-231-5></a><span class=w>    </span><span class=c1>// 打印intPtr指向的值</span>
</span><span id=__span-231-6><a id=__codelineno-231-6 name=__codelineno-231-6 href=#__codelineno-231-6></a><span class=w>    </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%c</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=o>*</span><span class=n>intPtr</span><span class=p>);</span><span class=w> </span><span class=c1>// 打印chars数组的前4个字节作为一个整数</span>
</span></code></pre></div> 在这个例子中，我们将 <code>char</code> 类型的指针转换为 <code>int</code> 类型的指针，并打印出指向的值。这里打印的是 <code>char</code> 数组的前4个字节作为一个整数的ASCII值。</p> <p>注意事项 虽然这些赋值在技术上是可能的，但它们可能会导致未定义行为，特别是当你尝试解引用这些指针并访问它们指向的数据时。这是因为 <code>int</code> 和 <code>char</code> 类型的数据在内存中的表示和对齐方式可能不同。</p> <ul> <li><strong>对齐问题</strong>：许多系统要求 <code>int</code> 类型的数据必须在4字节边界上对齐，而 <code>char</code> 类型的数据没有这样的要求。将 <code>char*</code> 赋值给 <code>int*</code> 可能会导致对齐问题，从而导致程序崩溃或数据损坏。</li> <li><strong>数据解释</strong>：将 <code>int*</code> 赋值给 <code>char*</code> 或反之，可能会导致数据解释错误，因为 <code>int</code> 和 <code>char</code> 类型的数据在内存中的布局不同。</li> </ul> <p>因此，除非完全清楚这样做的后果，否则应避免将 <code>int</code> 和 <code>char</code> 类型的指针相互赋值。在实际编程中，最好使用相同类型的指针来操作相同类型的数据。</p> </details> <h2 id=_60>编译预处理和宏<a class=headerlink href=#_60 title="Permanent link">&para;</a></h2> <h3 id=_61>编译预处理<a class=headerlink href=#_61 title="Permanent link">&para;</a></h3> <p>"#"：编译预处理指令，这不是C语言，其他语言都有！所以后面不加分号！ 例子：<code>#include&lt;stdio.h&gt;</code>，<code>#define PI 3.14</code></p> <h3 id=_62>宏<a class=headerlink href=#_62 title="Permanent link">&para;</a></h3> <p><code>#define PI 3.14</code>：定义一个宏（是一个符号），PI为名称，3.14是值</p> <p>范例程序见下</p> <h4 id=_63>规范<a class=headerlink href=#_63 title="Permanent link">&para;</a></h4> <ul> <li>语法：没有等号，没有分号（因为不是一条C语句，其他语言都是用#编译预处理）</li> <li>值：可以是任何东西，可以空格、标点等：名字再空格后面所有东西</li> <li>其中可以有注释，该注释不会被替换进去</li> <li> <p>没有值的宏：</p> </li> <li> <p>位置： 普通：源代码文件的顶部，或者放在头文件中</p> </li> </ul> <details class=info> <summary>宏的所有定义位置</summary> <p>在C或C++中，定义宏（Macro）通常有两种方式：</p> <ol> <li> <p><strong>预处理器指令</strong>： - 宏定义通常写在源代码文件的顶部，或者放在头文件中。它们使用预处理器指令<code>#define</code>来定义。 - 例如，在源文件或头文件中定义一个宏： <div class="language-c highlight"><pre><span></span><code><span id=__span-232-1><a id=__codelineno-232-1 name=__codelineno-232-1 href=#__codelineno-232-1></a><span class=cp>#define MY_MACRO 123</span>
</span></code></pre></div> - 这种方式定义的宏在编译器进行预处理阶段之前就会被处理。</p> </li> <li> <p><strong>命令行参数</strong>： - 你也可以在编译时通过命令行参数定义宏。这在编译器（如GCC）的命令行参数中使用<code>-D</code>选项来实现。 - 例如，在GCC中定义一个宏： <div class="language-zsh highlight"><pre><span></span><code><span id=__span-233-1><a id=__codelineno-233-1 name=__codelineno-233-1 href=#__codelineno-233-1></a>gcc<span class=w> </span>-DMY_MACRO<span class=o>=</span><span class=m>123</span><span class=w> </span>source_file.c
</span></code></pre></div> - 这种方式定义的宏会在预处理阶段被识别和替换。</p> </li> <li> <p><strong>配置文件</strong>： - 在某些项目中，宏定义可能被放在一个专门的配置文件中，然后通过包含该文件来使用这些宏定义。</p> </li> <li> <p><strong>Makefile</strong>： - 在使用Makefile构建项目时，可以在Makefile中定义宏，并通过<code>-D</code>选项传递给编译器。</p> </li> <li> <p><strong>构建系统</strong>： - 在使用现代构建系统（如CMake或Bazel）时，宏定义可以在构建脚本中设置，并在编译时传递给编译器。</p> </li> </ol> <p>宏定义的位置取决于你的项目结构和个人偏好。通常，如果宏是项目中多个文件共享的，最好将它们定义在头文件中。如果宏是特定于单个文件的，可以直接在该文件中定义。如果宏的值需要在不同的构建之间改变，那么在命令行或构建系统中定义宏可能更灵活。</p> <p>当然，让我们更详细地探讨在C/C++项目中定义宏的第2、4和5点：</p> <ol start=2> <li>命令行参数</li> </ol> <p>在编译时，你可以通过编译器的命令行参数来定义宏。这通常通过<code>-D</code>选项来实现，后面跟着宏的名称和可选的值。这种方法特别适用于：</p> <ul> <li><strong>编译时配置</strong>：根据不同的编译选项启用或禁用特定的代码段。</li> <li><strong>环境变量</strong>：在不同的开发环境或部署环境中使用不同的宏值。</li> </ul> <p><strong>示例</strong>：</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-234-1><a id=__codelineno-234-1 name=__codelineno-234-1 href=#__codelineno-234-1></a>gcc<span class=w> </span>-DDEBUG<span class=w> </span>-DMAX_THREADS<span class=o>=</span><span class=m>4</span><span class=w> </span>-o<span class=w> </span>my_program<span class=w> </span>my_program.c
</span></code></pre></div> <p>在这个例子中，<code>DEBUG</code>和<code>MAX_THREADS</code>被定义为宏，<code>DEBUG</code>没有指定值（通常用来启用调试代码），而<code>MAX_THREADS</code>被赋予了值<code>4</code>。</p> <ol start=4> <li>Makefile</li> </ol> <p>在Makefile中定义宏可以在构建过程中提供灵活性，特别是当你需要根据不同的目标或平台调整编译选项时。你可以在Makefile中设置宏，然后在编译命令中使用这些宏。</p> <p><strong>示例</strong>：</p> <div class="language-makefile highlight"><pre><span></span><code><span id=__span-235-1><a id=__codelineno-235-1 name=__codelineno-235-1 href=#__codelineno-235-1></a><span class=nv>CFLAGS</span><span class=w> </span><span class=o>+=</span><span class=w> </span>-DUSE_FEATURE<span class=w> </span>-DVERSION<span class=o>=</span><span class=s1>&#39;&quot;1.2.3&quot;&#39;</span>
</span><span id=__span-235-2><a id=__codelineno-235-2 name=__codelineno-235-2 href=#__codelineno-235-2></a>
</span><span id=__span-235-3><a id=__codelineno-235-3 name=__codelineno-235-3 href=#__codelineno-235-3></a><span class=nf>all</span><span class=o>:</span>
</span><span id=__span-235-4><a id=__codelineno-235-4 name=__codelineno-235-4 href=#__codelineno-235-4></a><span class=w>    </span>gcc<span class=w> </span><span class=k>$(</span>CFLAGS<span class=k>)</span><span class=w> </span>-o<span class=w> </span>my_program<span class=w> </span>my_program.c
</span></code></pre></div> <p>在这个Makefile中，<code>CFLAGS</code>变量被用来添加编译器标志，包括定义宏<code>USE_FEATURE</code>和<code>VERSION</code>。当你运行<code>make</code>命令时，这些宏会被传递给GCC编译器。</p> <ol start=5> <li>构建系统</li> </ol> <p>现代构建系统如CMake提供了强大的宏和变量管理功能，允许你在构建过程中定义和使用宏。这些宏可以用于控制编译选项、源文件包含、依赖关系等。</p> <p><strong>示例</strong>：</p> <div class="language-cmake highlight"><pre><span></span><code><span id=__span-236-1><a id=__codelineno-236-1 name=__codelineno-236-1 href=#__codelineno-236-1></a><span class=c># CMakeLists.txt</span>
</span><span id=__span-236-2><a id=__codelineno-236-2 name=__codelineno-236-2 href=#__codelineno-236-2></a>
</span><span id=__span-236-3><a id=__codelineno-236-3 name=__codelineno-236-3 href=#__codelineno-236-3></a><span class=c># 定义一个宏</span>
</span><span id=__span-236-4><a id=__codelineno-236-4 name=__codelineno-236-4 href=#__codelineno-236-4></a><span class=nb>add_definitions</span><span class=p>(</span><span class=s>-DENABLE_DEBUG</span><span class=p>)</span>
</span><span id=__span-236-5><a id=__codelineno-236-5 name=__codelineno-236-5 href=#__codelineno-236-5></a>
</span><span id=__span-236-6><a id=__codelineno-236-6 name=__codelineno-236-6 href=#__codelineno-236-6></a><span class=c># 设置一个变量，可以作为宏的值</span>
</span><span id=__span-236-7><a id=__codelineno-236-7 name=__codelineno-236-7 href=#__codelineno-236-7></a><span class=nb>set</span><span class=p>(</span><span class=s>MY_VERSION</span><span class=w> </span><span class=s2>&quot;1.2.3&quot;</span><span class=p>)</span>
</span><span id=__span-236-8><a id=__codelineno-236-8 name=__codelineno-236-8 href=#__codelineno-236-8></a>
</span><span id=__span-236-9><a id=__codelineno-236-9 name=__codelineno-236-9 href=#__codelineno-236-9></a><span class=c># 将变量转换为宏</span>
</span><span id=__span-236-10><a id=__codelineno-236-10 name=__codelineno-236-10 href=#__codelineno-236-10></a><span class=nb>add_definitions</span><span class=p>(</span><span class=s>-DVERSION=</span><span class=o>${</span><span class=nv>MY_VERSION</span><span class=o>}</span><span class=p>)</span>
</span><span id=__span-236-11><a id=__codelineno-236-11 name=__codelineno-236-11 href=#__codelineno-236-11></a>
</span><span id=__span-236-12><a id=__codelineno-236-12 name=__codelineno-236-12 href=#__codelineno-236-12></a><span class=c># 指定C++标准</span>
</span><span id=__span-236-13><a id=__codelineno-236-13 name=__codelineno-236-13 href=#__codelineno-236-13></a><span class=nb>set</span><span class=p>(</span><span class=s>CMAKE_CXX_STANDARD</span><span class=w> </span><span class=s>11</span><span class=p>)</span>
</span><span id=__span-236-14><a id=__codelineno-236-14 name=__codelineno-236-14 href=#__codelineno-236-14></a>
</span><span id=__span-236-15><a id=__codelineno-236-15 name=__codelineno-236-15 href=#__codelineno-236-15></a><span class=c># 构建目标</span>
</span><span id=__span-236-16><a id=__codelineno-236-16 name=__codelineno-236-16 href=#__codelineno-236-16></a><span class=nb>add_executable</span><span class=p>(</span><span class=s>my_program</span><span class=w> </span><span class=s>my_program.cpp</span><span class=p>)</span>
</span></code></pre></div> <p>在这个CMake配置文件中，我们使用<code>add_definitions</code>来定义宏和添加编译器标志。<code>set</code>命令用于设置变量，这些变量可以被用作宏的值。<code>add_executable</code>定义了一个可执行文件目标，它将使用前面定义的宏和设置。</p> <p>使用构建系统定义宏的好处包括：</p> <ul> <li><strong>跨平台支持</strong>：构建系统通常提供了跨平台的构建配置。</li> <li><strong>依赖管理</strong>：自动处理源文件和库的依赖关系。</li> <li><strong>可重用性</strong>：构建脚本可以在多个项目中重用，只需少量修改。</li> </ul> <p>这些方法提供了在不同层面上控制宏定义的灵活性，使得项目构建更加模块化和可配置。</p> </details> <ul> <li>注释：依然作为C语言注释</li> </ul> <p>范例程序： <div class="language-c highlight"><pre><span></span><code><span id=__span-237-1><a id=__codelineno-237-1 name=__codelineno-237-1 href=#__codelineno-237-1></a><span class=cp>#include</span><span class=cpf>&lt;stdio.h&gt;</span>
</span><span id=__span-237-2><a id=__codelineno-237-2 name=__codelineno-237-2 href=#__codelineno-237-2></a><span class=cp>#define PI 3.14</span>
</span><span id=__span-237-3><a id=__codelineno-237-3 name=__codelineno-237-3 href=#__codelineno-237-3></a><span class=cp>#define PI2 2 * PI  </span><span class=c1>//不能写成2PI，因为不是合法的标识符 //一个宏中包含另一个宏</span>
</span><span id=__span-237-4><a id=__codelineno-237-4 name=__codelineno-237-4 href=#__codelineno-237-4></a><span class=cp>#define FORMAT &quot;%f\n&quot; </span><span class=c1>//宏的值可以是任何东西</span>
</span><span id=__span-237-5><a id=__codelineno-237-5 name=__codelineno-237-5 href=#__codelineno-237-5></a><span class=cp>#define PRT printf(&quot;%f\n&quot;, PI); \</span>
</span><span id=__span-237-6><a id=__codelineno-237-6 name=__codelineno-237-6 href=#__codelineno-237-6></a><span class=cp>            printf(FORMAT, PI2 * 3)  </span><span class=c1>//上面那一行&quot;\&quot;后面不能有任何东西空格、注释啥也不行 FORMAT文本替换，多行，第一行得有分号，因为被替换处需要分号</span>
</span><span id=__span-237-7><a id=__codelineno-237-7 name=__codelineno-237-7 href=#__codelineno-237-7></a><span class=kt>int</span><span class=w> </span><span class=nf>main</span><span class=p>()</span>
</span><span id=__span-237-8><a id=__codelineno-237-8 name=__codelineno-237-8 href=#__codelineno-237-8></a><span class=p>{</span>
</span><span id=__span-237-9><a id=__codelineno-237-9 name=__codelineno-237-9 href=#__codelineno-237-9></a><span class=n>PRT</span><span class=p>;</span>
</span><span id=__span-237-10><a id=__codelineno-237-10 name=__codelineno-237-10 href=#__codelineno-237-10></a><span class=k>return</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-237-11><a id=__codelineno-237-11 name=__codelineno-237-11 href=#__codelineno-237-11></a><span class=p>}</span>
</span><span id=__span-237-12><a id=__codelineno-237-12 name=__codelineno-237-12 href=#__codelineno-237-12></a><span class=cm>/*</span>
</span><span id=__span-237-13><a id=__codelineno-237-13 name=__codelineno-237-13 href=#__codelineno-237-13></a><span class=cm>也可以这样：</span>
</span><span id=__span-237-14><a id=__codelineno-237-14 name=__codelineno-237-14 href=#__codelineno-237-14></a><span class=cm>#define PRT printf(&quot;%f\n&quot;, PI); \</span>
</span><span id=__span-237-15><a id=__codelineno-237-15 name=__codelineno-237-15 href=#__codelineno-237-15></a><span class=cm>            printf(FORMAT, PI2 * 3);</span>
</span><span id=__span-237-16><a id=__codelineno-237-16 name=__codelineno-237-16 href=#__codelineno-237-16></a><span class=cm>int main()</span>
</span><span id=__span-237-17><a id=__codelineno-237-17 name=__codelineno-237-17 href=#__codelineno-237-17></a><span class=cm>{</span>
</span><span id=__span-237-18><a id=__codelineno-237-18 name=__codelineno-237-18 href=#__codelineno-237-18></a><span class=cm>PRT</span>
</span><span id=__span-237-19><a id=__codelineno-237-19 name=__codelineno-237-19 href=#__codelineno-237-19></a><span class=cm>return 0;</span>
</span><span id=__span-237-20><a id=__codelineno-237-20 name=__codelineno-237-20 href=#__codelineno-237-20></a><span class=cm>}</span>
</span><span id=__span-237-21><a id=__codelineno-237-21 name=__codelineno-237-21 href=#__codelineno-237-21></a><span class=cm>注意分号</span>
</span><span id=__span-237-22><a id=__codelineno-237-22 name=__codelineno-237-22 href=#__codelineno-237-22></a><span class=cm>*/</span>
</span></code></pre></div></p> <ul> <li> <p>原理: <strong>特别简单的原始的文本替换</strong>：编译之前，编译预处理程序（cpp）把文件中所有宏的名字换成值</p> <p>shell查看gcc编译预处理过程中的文件 <div class="language-shell highlight"><pre><span></span><code><span id=__span-238-1><a id=__codelineno-238-1 name=__codelineno-238-1 href=#__codelineno-238-1></a>gcc<span class=w> </span>-g<span class=w> </span>try.c<span class=w> </span>-o<span class=w> </span>try<span class=w> </span>--save-temps
</span></code></pre></div> <div class="language-zsh highlight"><pre><span></span><code><span id=__span-239-1><a id=__codelineno-239-1 name=__codelineno-239-1 href=#__codelineno-239-1></a>ls<span class=w> </span>-l
</span></code></pre></div> <div class="language-zsh highlight"><pre><span></span><code><span id=__span-240-1><a id=__codelineno-240-1 name=__codelineno-240-1 href=#__codelineno-240-1></a>tail<span class=w> </span>try.i
</span></code></pre></div></p> </li> </ul> <p><a class=glightbox href=../res/images/image-11_1.png data-type=image data-width=auto data-height=auto data-desc-position=bottom><img alt="alt text" src=../res/images/image-11_1.png></a></p> <details class=info> <summary>.c，.i， .o，.s 分别是什么</summary> <p>这些文件扩展名代表了C/C++编程和编译过程中的不同阶段和类型的文件：</p> <ol> <li> <p><strong>.c</strong>： - 这是C语言源代码文件的扩展名。它包含了用C语言编写的程序代码。例如，<code>main.c</code>就是一个C语言源文件。</p> </li> <li> <p><strong>.i</strong>： - 这是预处理后的源代码文件的扩展名。当你使用编译器的<code>-E</code>选项时，它会生成一个包含了预处理指令（如宏展开、条件编译指令、头文件包含等）后的文件。这个文件通常用于调试预处理阶段。</p> </li> <li> <p><strong>.o</strong>： - 这是目标文件（Object file）的扩展名。目标文件是编译器编译源代码后生成的中间文件，包含了源代码对应的机器码，但还没有进行链接。目标文件可以被链接器用来生成最终的可执行文件。</p> </li> <li> <p><strong>.s</strong>： - 这是汇编代码文件的扩展名。当你使用编译器的<code>-S</code>选项时，它会生成一个包含了源代码对应的汇编语言代码的文件。这个文件可以被汇编器进一步转换成目标文件。</p> </li> <li> <p><strong>.a</strong>： - 这是静态库文件的扩展名。静态库是一组目标文件的集合，它们被打包在一起，可以在编译时被链接到程序中。静态库通常用于共享代码或资源，而不需要在运行时动态加载。</p> </li> <li> <p><strong>.so</strong>： - 这是共享库文件（在Linux系统中）的扩展名。共享库是一种特殊的库，它们在运行时被动态加载和链接到程序中。这允许多个程序共享同一份库代码，节省内存并减少磁盘空间。</p> </li> <li> <p><strong>.exe</strong>： - 这是可执行文件的扩展名，在Windows系统中使用。可执行文件是编译后的程序，可以直接在操作系统中运行。</p> </li> <li> <p><strong>a.out</strong>： - 这是一个传统的可执行文件的名称，在Unix和类Unix系统中使用。在早期的Unix系统中，编译器默认生成的可执行文件被命名为<code>a.out</code>。尽管现代编译器允许你指定可执行文件的名称，但<code>a.out</code>仍然被用作默认名称，尤其是在某些特定的编译环境或教学示例中。</p> </li> </ol> <p>这些文件类型和扩展名是C/C++编程和编译过程中的基本组成部分，了解它们有助于更好地理解程序的构建和运行过程。</p> </details> <p>预定义宏： 即C帮我定义好了，我直接使用</p> <p><code>__LINE__</code>， <code>__FILE__</code>， <code>__DATE__</code>， <code>__TIME__</code>， <code>__STDC__</code></p> <p>示例：</p> <div class="language-c highlight"><pre><span></span><code><span id=__span-241-1><a id=__codelineno-241-1 name=__codelineno-241-1 href=#__codelineno-241-1></a><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%s:%d</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=n>__FILE__</span><span class=p>,</span><span class=w> </span><span class=n>__LINE__</span><span class=p>);</span>
</span><span id=__span-241-2><a id=__codelineno-241-2 name=__codelineno-241-2 href=#__codelineno-241-2></a><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%s, %s</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=n>__DATE__</span><span class=p>,</span><span class=w> </span><span class=n>__TIME__</span><span class=p>);</span>
</span></code></pre></div> <h4 id=_64>用法<a class=headerlink href=#_64 title="Permanent link">&para;</a></h4> <h5 id=_65>带参数的宏<a class=headerlink href=#_65 title="Permanent link">&para;</a></h5> <p><strong>语法</strong></p> <div class="language-c highlight"><pre><span></span><code><span id=__span-242-1><a id=__codelineno-242-1 name=__codelineno-242-1 href=#__codelineno-242-1></a><span class=cp>#define cube(x) ((x) * (x) * (x)) </span><span class=c1>//后面会被替换</span>
</span></code></pre></div> <div class="language-c highlight"><pre><span></span><code><span id=__span-243-1><a id=__codelineno-243-1 name=__codelineno-243-1 href=#__codelineno-243-1></a><span class=cp>#define MAX(a, b) ((a) &gt; (b) ? (a) : (b))</span>
</span></code></pre></div> <div class="language-c highlight"><pre><span></span><code><span id=__span-244-1><a id=__codelineno-244-1 name=__codelineno-244-1 href=#__codelineno-244-1></a><span class=cp>#define PRINT(msg) printf(msg)</span>
</span><span id=__span-244-2><a id=__codelineno-244-2 name=__codelineno-244-2 href=#__codelineno-244-2></a><span class=c1>//使用：</span>
</span><span id=__span-244-3><a id=__codelineno-244-3 name=__codelineno-244-3 href=#__codelineno-244-3></a><span class=n>printf</span><span class=p>(</span><span class=s>&quot;hello world&quot;</span><span class=p>);</span>
</span></code></pre></div> <p><strong>注意</strong>：</p> <ul> <li>定义语句括号内不需要参数类型</li> <li>可以多个参数</li> <li>可以嵌套组合使用</li> </ul> <p>调用，与C函数调用相同。</p> <p><strong>易错点</strong>：“未理解原始文本替换”</p> <p>所以：一切都要右括号：整个值要有；参数出现的每个地方都要有。</p> <p>示例： <div class="language-c highlight"><pre><span></span><code><span id=__span-245-1><a id=__codelineno-245-1 name=__codelineno-245-1 href=#__codelineno-245-1></a><span class=cp>#define f(x) ((x) * 5)  </span><span class=c1>//对</span>
</span><span id=__span-245-2><a id=__codelineno-245-2 name=__codelineno-245-2 href=#__codelineno-245-2></a><span class=cp>#define f(x) (x * 5)  </span><span class=c1>//错</span>
</span><span id=__span-245-3><a id=__codelineno-245-3 name=__codelineno-245-3 href=#__codelineno-245-3></a><span class=cp>#define f(x) (x) * 5  </span><span class=c1>//错</span>
</span></code></pre></div> 杂项：</p> <ul> <li>非常常见</li> <li>用<code>#</code> <code>##</code>两个运算符实现复杂功能，例如产生函数</li> <li>部分宏会被<code>inline</code>函数代替</li> <li>西方程序员比中国人爱用</li> <li>其他编译预处理指令：<ul> <li>条件编译</li> <li>error</li> </ul> </li> </ul> <h2 id=_66>可变数组<a class=headerlink href=#_66 title="Permanent link">&para;</a></h2> <p>功能：可增大、可获取大小、可访问</p> <p><a href=https://github.com/r-z-zhang-AI/Code/tree/main/C/Practice/changeable-array>查看原码</a></p> <p>设计思想：</p> <ul> <li>自定义类型一般不定义指针</li> <li>free 的对象是Array结构里面的数组</li> </ul> <h2 id=_67>链表<a class=headerlink href=#_67 title="Permanent link">&para;</a></h2> <p>可变数组的缺陷：内存受限场景下，反复重新申请大内存会有内存不够的情况</p> <p>方法：申请block大小的内存，再次申请一个，将他俩链起来（告诉编译器下一块内存在哪里）</p> <p><a class=glightbox href=../res/images/image-14_1.png data-type=image data-width=auto data-height=auto data-desc-position=bottom><img alt="alt text" src=../res/images/image-14_1.png></a></p> <p>结点包含：数据、指向下一个的指针</p> <p><a class=glightbox href=../res/images/image-16_1.png data-type=image data-width=auto data-height=auto data-desc-position=bottom><img alt="alt text" src=../res/images/image-16_1.png></a></p> <p><a class=glightbox href=../res/images/image-17_1.png data-type=image data-width=auto data-height=auto data-desc-position=bottom><img alt="alt text" src=../res/images/image-17_1.png></a></p> <p><strong>语法：</strong></p> <div class="language-c highlight"><pre><span></span><code><span id=__span-246-1><a id=__codelineno-246-1 name=__codelineno-246-1 href=#__codelineno-246-1></a><span class=k>typedef</span><span class=w> </span><span class=k>struct</span><span class=w> </span><span class=nc>_node</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-246-2><a id=__codelineno-246-2 name=__codelineno-246-2 href=#__codelineno-246-2></a><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>value</span><span class=p>;</span>
</span><span id=__span-246-3><a id=__codelineno-246-3 name=__codelineno-246-3 href=#__codelineno-246-3></a><span class=w>    </span><span class=k>struct</span><span class=w> </span><span class=nc>_node</span><span class=o>*</span><span class=w> </span><span class=n>next</span><span class=p>;</span>
</span><span id=__span-246-4><a id=__codelineno-246-4 name=__codelineno-246-4 href=#__codelineno-246-4></a><span class=p>}</span><span class=w> </span><span class=n>Node</span><span class=p>;</span>
</span></code></pre></div> <div class="tabbed-set tabbed-alternate" data-tabs=2:3><input checked=checked id=__tabbed_2_1 name=__tabbed_2 type=radio><input id=__tabbed_2_2 name=__tabbed_2 type=radio><input id=__tabbed_2_3 name=__tabbed_2 type=radio><div class=tabbed-labels><label for=__tabbed_2_1>python链表</label><label for=__tabbed_2_2>C链表</label><label for=__tabbed_2_3>C++链表</label></div> <div class=tabbed-content> <div class=tabbed-block> <p>在 Python 中，链表可以用类和对象来实现，因为 Python 本身没有像 C++ 或 Java 那样的内置链表数据结构。链表有两种主要类型：<strong>单向链表</strong>和<strong>双向链表</strong>。以下是关于它们的实现和操作的详细说明。</p> <hr> <p><strong>单向链表实现</strong></p> <p><strong>定义单向链表：</strong></p> <div class="language-python highlight"><pre><span></span><code><span id=__span-247-1><a id=__codelineno-247-1 name=__codelineno-247-1 href=#__codelineno-247-1></a><span class=k>class</span><span class=w> </span><span class=nc>Node</span><span class=p>:</span>
</span><span id=__span-247-2><a id=__codelineno-247-2 name=__codelineno-247-2 href=#__codelineno-247-2></a>    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>data</span><span class=p>):</span>
</span><span id=__span-247-3><a id=__codelineno-247-3 name=__codelineno-247-3 href=#__codelineno-247-3></a>        <span class=bp>self</span><span class=o>.</span><span class=n>data</span> <span class=o>=</span> <span class=n>data</span>  <span class=c1># 存储节点数据</span>
</span><span id=__span-247-4><a id=__codelineno-247-4 name=__codelineno-247-4 href=#__codelineno-247-4></a>        <span class=bp>self</span><span class=o>.</span><span class=n>next</span> <span class=o>=</span> <span class=kc>None</span>  <span class=c1># 指向下一个节点</span>
</span><span id=__span-247-5><a id=__codelineno-247-5 name=__codelineno-247-5 href=#__codelineno-247-5></a>
</span><span id=__span-247-6><a id=__codelineno-247-6 name=__codelineno-247-6 href=#__codelineno-247-6></a><span class=k>class</span><span class=w> </span><span class=nc>LinkedList</span><span class=p>:</span>
</span><span id=__span-247-7><a id=__codelineno-247-7 name=__codelineno-247-7 href=#__codelineno-247-7></a>    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-247-8><a id=__codelineno-247-8 name=__codelineno-247-8 href=#__codelineno-247-8></a>        <span class=bp>self</span><span class=o>.</span><span class=n>head</span> <span class=o>=</span> <span class=kc>None</span>  <span class=c1># 初始化头节点为空</span>
</span><span id=__span-247-9><a id=__codelineno-247-9 name=__codelineno-247-9 href=#__codelineno-247-9></a>
</span><span id=__span-247-10><a id=__codelineno-247-10 name=__codelineno-247-10 href=#__codelineno-247-10></a>    <span class=c1># 向链表末尾添加节点</span>
</span><span id=__span-247-11><a id=__codelineno-247-11 name=__codelineno-247-11 href=#__codelineno-247-11></a>    <span class=k>def</span><span class=w> </span><span class=nf>append</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>data</span><span class=p>):</span>
</span><span id=__span-247-12><a id=__codelineno-247-12 name=__codelineno-247-12 href=#__codelineno-247-12></a>        <span class=n>new_node</span> <span class=o>=</span> <span class=n>Node</span><span class=p>(</span><span class=n>data</span><span class=p>)</span>
</span><span id=__span-247-13><a id=__codelineno-247-13 name=__codelineno-247-13 href=#__codelineno-247-13></a>        <span class=k>if</span> <span class=ow>not</span> <span class=bp>self</span><span class=o>.</span><span class=n>head</span><span class=p>:</span>  <span class=c1># 如果链表为空</span>
</span><span id=__span-247-14><a id=__codelineno-247-14 name=__codelineno-247-14 href=#__codelineno-247-14></a>            <span class=bp>self</span><span class=o>.</span><span class=n>head</span> <span class=o>=</span> <span class=n>new_node</span>
</span><span id=__span-247-15><a id=__codelineno-247-15 name=__codelineno-247-15 href=#__codelineno-247-15></a>            <span class=k>return</span>
</span><span id=__span-247-16><a id=__codelineno-247-16 name=__codelineno-247-16 href=#__codelineno-247-16></a>        <span class=n>current</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>head</span>
</span><span id=__span-247-17><a id=__codelineno-247-17 name=__codelineno-247-17 href=#__codelineno-247-17></a>        <span class=k>while</span> <span class=n>current</span><span class=o>.</span><span class=n>next</span><span class=p>:</span>  <span class=c1># 找到最后一个节点</span>
</span><span id=__span-247-18><a id=__codelineno-247-18 name=__codelineno-247-18 href=#__codelineno-247-18></a>            <span class=n>current</span> <span class=o>=</span> <span class=n>current</span><span class=o>.</span><span class=n>next</span>
</span><span id=__span-247-19><a id=__codelineno-247-19 name=__codelineno-247-19 href=#__codelineno-247-19></a>        <span class=n>current</span><span class=o>.</span><span class=n>next</span> <span class=o>=</span> <span class=n>new_node</span>
</span><span id=__span-247-20><a id=__codelineno-247-20 name=__codelineno-247-20 href=#__codelineno-247-20></a>
</span><span id=__span-247-21><a id=__codelineno-247-21 name=__codelineno-247-21 href=#__codelineno-247-21></a>    <span class=c1># 打印链表</span>
</span><span id=__span-247-22><a id=__codelineno-247-22 name=__codelineno-247-22 href=#__codelineno-247-22></a>    <span class=k>def</span><span class=w> </span><span class=nf>print_list</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-247-23><a id=__codelineno-247-23 name=__codelineno-247-23 href=#__codelineno-247-23></a>        <span class=n>current</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>head</span>
</span><span id=__span-247-24><a id=__codelineno-247-24 name=__codelineno-247-24 href=#__codelineno-247-24></a>        <span class=k>while</span> <span class=n>current</span><span class=p>:</span>
</span><span id=__span-247-25><a id=__codelineno-247-25 name=__codelineno-247-25 href=#__codelineno-247-25></a>            <span class=nb>print</span><span class=p>(</span><span class=n>current</span><span class=o>.</span><span class=n>data</span><span class=p>,</span> <span class=n>end</span><span class=o>=</span><span class=s2>&quot; -&gt; &quot;</span><span class=p>)</span>
</span><span id=__span-247-26><a id=__codelineno-247-26 name=__codelineno-247-26 href=#__codelineno-247-26></a>            <span class=n>current</span> <span class=o>=</span> <span class=n>current</span><span class=o>.</span><span class=n>next</span>
</span><span id=__span-247-27><a id=__codelineno-247-27 name=__codelineno-247-27 href=#__codelineno-247-27></a>        <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;None&quot;</span><span class=p>)</span>
</span><span id=__span-247-28><a id=__codelineno-247-28 name=__codelineno-247-28 href=#__codelineno-247-28></a>
</span><span id=__span-247-29><a id=__codelineno-247-29 name=__codelineno-247-29 href=#__codelineno-247-29></a>    <span class=c1># 删除值等于 data 的节点</span>
</span><span id=__span-247-30><a id=__codelineno-247-30 name=__codelineno-247-30 href=#__codelineno-247-30></a>    <span class=k>def</span><span class=w> </span><span class=nf>delete</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>data</span><span class=p>):</span>
</span><span id=__span-247-31><a id=__codelineno-247-31 name=__codelineno-247-31 href=#__codelineno-247-31></a>        <span class=n>current</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>head</span>
</span><span id=__span-247-32><a id=__codelineno-247-32 name=__codelineno-247-32 href=#__codelineno-247-32></a>
</span><span id=__span-247-33><a id=__codelineno-247-33 name=__codelineno-247-33 href=#__codelineno-247-33></a>        <span class=c1># 如果要删除的是头节点</span>
</span><span id=__span-247-34><a id=__codelineno-247-34 name=__codelineno-247-34 href=#__codelineno-247-34></a>        <span class=k>if</span> <span class=n>current</span> <span class=ow>and</span> <span class=n>current</span><span class=o>.</span><span class=n>data</span> <span class=o>==</span> <span class=n>data</span><span class=p>:</span>
</span><span id=__span-247-35><a id=__codelineno-247-35 name=__codelineno-247-35 href=#__codelineno-247-35></a>            <span class=bp>self</span><span class=o>.</span><span class=n>head</span> <span class=o>=</span> <span class=n>current</span><span class=o>.</span><span class=n>next</span>
</span><span id=__span-247-36><a id=__codelineno-247-36 name=__codelineno-247-36 href=#__codelineno-247-36></a>            <span class=n>current</span> <span class=o>=</span> <span class=kc>None</span>
</span><span id=__span-247-37><a id=__codelineno-247-37 name=__codelineno-247-37 href=#__codelineno-247-37></a>            <span class=k>return</span>
</span><span id=__span-247-38><a id=__codelineno-247-38 name=__codelineno-247-38 href=#__codelineno-247-38></a>
</span><span id=__span-247-39><a id=__codelineno-247-39 name=__codelineno-247-39 href=#__codelineno-247-39></a>        <span class=c1># 找到要删除的节点</span>
</span><span id=__span-247-40><a id=__codelineno-247-40 name=__codelineno-247-40 href=#__codelineno-247-40></a>        <span class=n>prev</span> <span class=o>=</span> <span class=kc>None</span>
</span><span id=__span-247-41><a id=__codelineno-247-41 name=__codelineno-247-41 href=#__codelineno-247-41></a>        <span class=k>while</span> <span class=n>current</span> <span class=ow>and</span> <span class=n>current</span><span class=o>.</span><span class=n>data</span> <span class=o>!=</span> <span class=n>data</span><span class=p>:</span>
</span><span id=__span-247-42><a id=__codelineno-247-42 name=__codelineno-247-42 href=#__codelineno-247-42></a>            <span class=n>prev</span> <span class=o>=</span> <span class=n>current</span>
</span><span id=__span-247-43><a id=__codelineno-247-43 name=__codelineno-247-43 href=#__codelineno-247-43></a>            <span class=n>current</span> <span class=o>=</span> <span class=n>current</span><span class=o>.</span><span class=n>next</span>
</span><span id=__span-247-44><a id=__codelineno-247-44 name=__codelineno-247-44 href=#__codelineno-247-44></a>
</span><span id=__span-247-45><a id=__codelineno-247-45 name=__codelineno-247-45 href=#__codelineno-247-45></a>        <span class=k>if</span> <span class=ow>not</span> <span class=n>current</span><span class=p>:</span>  <span class=c1># 未找到节点</span>
</span><span id=__span-247-46><a id=__codelineno-247-46 name=__codelineno-247-46 href=#__codelineno-247-46></a>            <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Node not found&quot;</span><span class=p>)</span>
</span><span id=__span-247-47><a id=__codelineno-247-47 name=__codelineno-247-47 href=#__codelineno-247-47></a>            <span class=k>return</span>
</span><span id=__span-247-48><a id=__codelineno-247-48 name=__codelineno-247-48 href=#__codelineno-247-48></a>
</span><span id=__span-247-49><a id=__codelineno-247-49 name=__codelineno-247-49 href=#__codelineno-247-49></a>        <span class=n>prev</span><span class=o>.</span><span class=n>next</span> <span class=o>=</span> <span class=n>current</span><span class=o>.</span><span class=n>next</span>
</span><span id=__span-247-50><a id=__codelineno-247-50 name=__codelineno-247-50 href=#__codelineno-247-50></a>        <span class=n>current</span> <span class=o>=</span> <span class=kc>None</span>
</span></code></pre></div> <p><strong>使用示例：</strong></p> <div class="language-python highlight"><pre><span></span><code><span id=__span-248-1><a id=__codelineno-248-1 name=__codelineno-248-1 href=#__codelineno-248-1></a><span class=c1># 创建链表</span>
</span><span id=__span-248-2><a id=__codelineno-248-2 name=__codelineno-248-2 href=#__codelineno-248-2></a><span class=n>ll</span> <span class=o>=</span> <span class=n>LinkedList</span><span class=p>()</span>
</span><span id=__span-248-3><a id=__codelineno-248-3 name=__codelineno-248-3 href=#__codelineno-248-3></a><span class=n>ll</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
</span><span id=__span-248-4><a id=__codelineno-248-4 name=__codelineno-248-4 href=#__codelineno-248-4></a><span class=n>ll</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=mi>2</span><span class=p>)</span>
</span><span id=__span-248-5><a id=__codelineno-248-5 name=__codelineno-248-5 href=#__codelineno-248-5></a><span class=n>ll</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=mi>3</span><span class=p>)</span>
</span><span id=__span-248-6><a id=__codelineno-248-6 name=__codelineno-248-6 href=#__codelineno-248-6></a>
</span><span id=__span-248-7><a id=__codelineno-248-7 name=__codelineno-248-7 href=#__codelineno-248-7></a><span class=c1># 打印链表</span>
</span><span id=__span-248-8><a id=__codelineno-248-8 name=__codelineno-248-8 href=#__codelineno-248-8></a><span class=n>ll</span><span class=o>.</span><span class=n>print_list</span><span class=p>()</span>  <span class=c1># 输出: 1 -&gt; 2 -&gt; 3 -&gt; None</span>
</span><span id=__span-248-9><a id=__codelineno-248-9 name=__codelineno-248-9 href=#__codelineno-248-9></a>
</span><span id=__span-248-10><a id=__codelineno-248-10 name=__codelineno-248-10 href=#__codelineno-248-10></a><span class=c1># 删除节点</span>
</span><span id=__span-248-11><a id=__codelineno-248-11 name=__codelineno-248-11 href=#__codelineno-248-11></a><span class=n>ll</span><span class=o>.</span><span class=n>delete</span><span class=p>(</span><span class=mi>2</span><span class=p>)</span>
</span><span id=__span-248-12><a id=__codelineno-248-12 name=__codelineno-248-12 href=#__codelineno-248-12></a><span class=n>ll</span><span class=o>.</span><span class=n>print_list</span><span class=p>()</span>  <span class=c1># 输出: 1 -&gt; 3 -&gt; None</span>
</span></code></pre></div> <hr> <p><strong>双向链表实现</strong></p> <p><strong>定义双向链表：</strong></p> <div class="language-python highlight"><pre><span></span><code><span id=__span-249-1><a id=__codelineno-249-1 name=__codelineno-249-1 href=#__codelineno-249-1></a><span class=k>class</span><span class=w> </span><span class=nc>Node</span><span class=p>:</span>
</span><span id=__span-249-2><a id=__codelineno-249-2 name=__codelineno-249-2 href=#__codelineno-249-2></a>    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>data</span><span class=p>):</span>
</span><span id=__span-249-3><a id=__codelineno-249-3 name=__codelineno-249-3 href=#__codelineno-249-3></a>        <span class=bp>self</span><span class=o>.</span><span class=n>data</span> <span class=o>=</span> <span class=n>data</span>
</span><span id=__span-249-4><a id=__codelineno-249-4 name=__codelineno-249-4 href=#__codelineno-249-4></a>        <span class=bp>self</span><span class=o>.</span><span class=n>next</span> <span class=o>=</span> <span class=kc>None</span>  <span class=c1># 指向下一个节点</span>
</span><span id=__span-249-5><a id=__codelineno-249-5 name=__codelineno-249-5 href=#__codelineno-249-5></a>        <span class=bp>self</span><span class=o>.</span><span class=n>prev</span> <span class=o>=</span> <span class=kc>None</span>  <span class=c1># 指向前一个节点</span>
</span><span id=__span-249-6><a id=__codelineno-249-6 name=__codelineno-249-6 href=#__codelineno-249-6></a>
</span><span id=__span-249-7><a id=__codelineno-249-7 name=__codelineno-249-7 href=#__codelineno-249-7></a><span class=k>class</span><span class=w> </span><span class=nc>DoublyLinkedList</span><span class=p>:</span>
</span><span id=__span-249-8><a id=__codelineno-249-8 name=__codelineno-249-8 href=#__codelineno-249-8></a>    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-249-9><a id=__codelineno-249-9 name=__codelineno-249-9 href=#__codelineno-249-9></a>        <span class=bp>self</span><span class=o>.</span><span class=n>head</span> <span class=o>=</span> <span class=kc>None</span>  <span class=c1># 初始化头节点为空</span>
</span><span id=__span-249-10><a id=__codelineno-249-10 name=__codelineno-249-10 href=#__codelineno-249-10></a>
</span><span id=__span-249-11><a id=__codelineno-249-11 name=__codelineno-249-11 href=#__codelineno-249-11></a>    <span class=c1># 在链表末尾添加节点</span>
</span><span id=__span-249-12><a id=__codelineno-249-12 name=__codelineno-249-12 href=#__codelineno-249-12></a>    <span class=k>def</span><span class=w> </span><span class=nf>append</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>data</span><span class=p>):</span>
</span><span id=__span-249-13><a id=__codelineno-249-13 name=__codelineno-249-13 href=#__codelineno-249-13></a>        <span class=n>new_node</span> <span class=o>=</span> <span class=n>Node</span><span class=p>(</span><span class=n>data</span><span class=p>)</span>
</span><span id=__span-249-14><a id=__codelineno-249-14 name=__codelineno-249-14 href=#__codelineno-249-14></a>        <span class=k>if</span> <span class=ow>not</span> <span class=bp>self</span><span class=o>.</span><span class=n>head</span><span class=p>:</span>  <span class=c1># 如果链表为空</span>
</span><span id=__span-249-15><a id=__codelineno-249-15 name=__codelineno-249-15 href=#__codelineno-249-15></a>            <span class=bp>self</span><span class=o>.</span><span class=n>head</span> <span class=o>=</span> <span class=n>new_node</span>
</span><span id=__span-249-16><a id=__codelineno-249-16 name=__codelineno-249-16 href=#__codelineno-249-16></a>            <span class=k>return</span>
</span><span id=__span-249-17><a id=__codelineno-249-17 name=__codelineno-249-17 href=#__codelineno-249-17></a>        <span class=n>current</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>head</span>
</span><span id=__span-249-18><a id=__codelineno-249-18 name=__codelineno-249-18 href=#__codelineno-249-18></a>        <span class=k>while</span> <span class=n>current</span><span class=o>.</span><span class=n>next</span><span class=p>:</span>  <span class=c1># 找到最后一个节点</span>
</span><span id=__span-249-19><a id=__codelineno-249-19 name=__codelineno-249-19 href=#__codelineno-249-19></a>            <span class=n>current</span> <span class=o>=</span> <span class=n>current</span><span class=o>.</span><span class=n>next</span>
</span><span id=__span-249-20><a id=__codelineno-249-20 name=__codelineno-249-20 href=#__codelineno-249-20></a>        <span class=n>current</span><span class=o>.</span><span class=n>next</span> <span class=o>=</span> <span class=n>new_node</span>
</span><span id=__span-249-21><a id=__codelineno-249-21 name=__codelineno-249-21 href=#__codelineno-249-21></a>        <span class=n>new_node</span><span class=o>.</span><span class=n>prev</span> <span class=o>=</span> <span class=n>current</span>
</span><span id=__span-249-22><a id=__codelineno-249-22 name=__codelineno-249-22 href=#__codelineno-249-22></a>
</span><span id=__span-249-23><a id=__codelineno-249-23 name=__codelineno-249-23 href=#__codelineno-249-23></a>    <span class=c1># 从链表头部打印链表</span>
</span><span id=__span-249-24><a id=__codelineno-249-24 name=__codelineno-249-24 href=#__codelineno-249-24></a>    <span class=k>def</span><span class=w> </span><span class=nf>print_list</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-249-25><a id=__codelineno-249-25 name=__codelineno-249-25 href=#__codelineno-249-25></a>        <span class=n>current</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>head</span>
</span><span id=__span-249-26><a id=__codelineno-249-26 name=__codelineno-249-26 href=#__codelineno-249-26></a>        <span class=k>while</span> <span class=n>current</span><span class=p>:</span>
</span><span id=__span-249-27><a id=__codelineno-249-27 name=__codelineno-249-27 href=#__codelineno-249-27></a>            <span class=nb>print</span><span class=p>(</span><span class=n>current</span><span class=o>.</span><span class=n>data</span><span class=p>,</span> <span class=n>end</span><span class=o>=</span><span class=s2>&quot; &lt;-&gt; &quot;</span><span class=p>)</span>
</span><span id=__span-249-28><a id=__codelineno-249-28 name=__codelineno-249-28 href=#__codelineno-249-28></a>            <span class=n>current</span> <span class=o>=</span> <span class=n>current</span><span class=o>.</span><span class=n>next</span>
</span><span id=__span-249-29><a id=__codelineno-249-29 name=__codelineno-249-29 href=#__codelineno-249-29></a>        <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;None&quot;</span><span class=p>)</span>
</span><span id=__span-249-30><a id=__codelineno-249-30 name=__codelineno-249-30 href=#__codelineno-249-30></a>
</span><span id=__span-249-31><a id=__codelineno-249-31 name=__codelineno-249-31 href=#__codelineno-249-31></a>    <span class=c1># 从链表尾部打印链表（反向）</span>
</span><span id=__span-249-32><a id=__codelineno-249-32 name=__codelineno-249-32 href=#__codelineno-249-32></a>    <span class=k>def</span><span class=w> </span><span class=nf>print_reverse</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-249-33><a id=__codelineno-249-33 name=__codelineno-249-33 href=#__codelineno-249-33></a>        <span class=n>current</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>head</span>
</span><span id=__span-249-34><a id=__codelineno-249-34 name=__codelineno-249-34 href=#__codelineno-249-34></a>        <span class=k>while</span> <span class=n>current</span> <span class=ow>and</span> <span class=n>current</span><span class=o>.</span><span class=n>next</span><span class=p>:</span>
</span><span id=__span-249-35><a id=__codelineno-249-35 name=__codelineno-249-35 href=#__codelineno-249-35></a>            <span class=n>current</span> <span class=o>=</span> <span class=n>current</span><span class=o>.</span><span class=n>next</span>
</span><span id=__span-249-36><a id=__codelineno-249-36 name=__codelineno-249-36 href=#__codelineno-249-36></a>        <span class=k>while</span> <span class=n>current</span><span class=p>:</span>
</span><span id=__span-249-37><a id=__codelineno-249-37 name=__codelineno-249-37 href=#__codelineno-249-37></a>            <span class=nb>print</span><span class=p>(</span><span class=n>current</span><span class=o>.</span><span class=n>data</span><span class=p>,</span> <span class=n>end</span><span class=o>=</span><span class=s2>&quot; &lt;-&gt; &quot;</span><span class=p>)</span>
</span><span id=__span-249-38><a id=__codelineno-249-38 name=__codelineno-249-38 href=#__codelineno-249-38></a>            <span class=n>current</span> <span class=o>=</span> <span class=n>current</span><span class=o>.</span><span class=n>prev</span>
</span><span id=__span-249-39><a id=__codelineno-249-39 name=__codelineno-249-39 href=#__codelineno-249-39></a>        <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;None&quot;</span><span class=p>)</span>
</span><span id=__span-249-40><a id=__codelineno-249-40 name=__codelineno-249-40 href=#__codelineno-249-40></a>
</span><span id=__span-249-41><a id=__codelineno-249-41 name=__codelineno-249-41 href=#__codelineno-249-41></a>    <span class=c1># 删除值等于 data 的节点</span>
</span><span id=__span-249-42><a id=__codelineno-249-42 name=__codelineno-249-42 href=#__codelineno-249-42></a>    <span class=k>def</span><span class=w> </span><span class=nf>delete</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>data</span><span class=p>):</span>
</span><span id=__span-249-43><a id=__codelineno-249-43 name=__codelineno-249-43 href=#__codelineno-249-43></a>        <span class=n>current</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>head</span>
</span><span id=__span-249-44><a id=__codelineno-249-44 name=__codelineno-249-44 href=#__codelineno-249-44></a>
</span><span id=__span-249-45><a id=__codelineno-249-45 name=__codelineno-249-45 href=#__codelineno-249-45></a>        <span class=c1># 如果要删除的是头节点</span>
</span><span id=__span-249-46><a id=__codelineno-249-46 name=__codelineno-249-46 href=#__codelineno-249-46></a>        <span class=k>if</span> <span class=n>current</span> <span class=ow>and</span> <span class=n>current</span><span class=o>.</span><span class=n>data</span> <span class=o>==</span> <span class=n>data</span><span class=p>:</span>
</span><span id=__span-249-47><a id=__codelineno-249-47 name=__codelineno-249-47 href=#__codelineno-249-47></a>            <span class=bp>self</span><span class=o>.</span><span class=n>head</span> <span class=o>=</span> <span class=n>current</span><span class=o>.</span><span class=n>next</span>
</span><span id=__span-249-48><a id=__codelineno-249-48 name=__codelineno-249-48 href=#__codelineno-249-48></a>            <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>head</span><span class=p>:</span>
</span><span id=__span-249-49><a id=__codelineno-249-49 name=__codelineno-249-49 href=#__codelineno-249-49></a>                <span class=bp>self</span><span class=o>.</span><span class=n>head</span><span class=o>.</span><span class=n>prev</span> <span class=o>=</span> <span class=kc>None</span>
</span><span id=__span-249-50><a id=__codelineno-249-50 name=__codelineno-249-50 href=#__codelineno-249-50></a>            <span class=n>current</span> <span class=o>=</span> <span class=kc>None</span>
</span><span id=__span-249-51><a id=__codelineno-249-51 name=__codelineno-249-51 href=#__codelineno-249-51></a>            <span class=k>return</span>
</span><span id=__span-249-52><a id=__codelineno-249-52 name=__codelineno-249-52 href=#__codelineno-249-52></a>
</span><span id=__span-249-53><a id=__codelineno-249-53 name=__codelineno-249-53 href=#__codelineno-249-53></a>        <span class=c1># 找到要删除的节点</span>
</span><span id=__span-249-54><a id=__codelineno-249-54 name=__codelineno-249-54 href=#__codelineno-249-54></a>        <span class=k>while</span> <span class=n>current</span> <span class=ow>and</span> <span class=n>current</span><span class=o>.</span><span class=n>data</span> <span class=o>!=</span> <span class=n>data</span><span class=p>:</span>
</span><span id=__span-249-55><a id=__codelineno-249-55 name=__codelineno-249-55 href=#__codelineno-249-55></a>            <span class=n>current</span> <span class=o>=</span> <span class=n>current</span><span class=o>.</span><span class=n>next</span>
</span><span id=__span-249-56><a id=__codelineno-249-56 name=__codelineno-249-56 href=#__codelineno-249-56></a>
</span><span id=__span-249-57><a id=__codelineno-249-57 name=__codelineno-249-57 href=#__codelineno-249-57></a>        <span class=k>if</span> <span class=ow>not</span> <span class=n>current</span><span class=p>:</span>  <span class=c1># 未找到节点</span>
</span><span id=__span-249-58><a id=__codelineno-249-58 name=__codelineno-249-58 href=#__codelineno-249-58></a>            <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Node not found&quot;</span><span class=p>)</span>
</span><span id=__span-249-59><a id=__codelineno-249-59 name=__codelineno-249-59 href=#__codelineno-249-59></a>            <span class=k>return</span>
</span><span id=__span-249-60><a id=__codelineno-249-60 name=__codelineno-249-60 href=#__codelineno-249-60></a>
</span><span id=__span-249-61><a id=__codelineno-249-61 name=__codelineno-249-61 href=#__codelineno-249-61></a>        <span class=k>if</span> <span class=n>current</span><span class=o>.</span><span class=n>next</span><span class=p>:</span>
</span><span id=__span-249-62><a id=__codelineno-249-62 name=__codelineno-249-62 href=#__codelineno-249-62></a>            <span class=n>current</span><span class=o>.</span><span class=n>next</span><span class=o>.</span><span class=n>prev</span> <span class=o>=</span> <span class=n>current</span><span class=o>.</span><span class=n>prev</span>
</span><span id=__span-249-63><a id=__codelineno-249-63 name=__codelineno-249-63 href=#__codelineno-249-63></a>        <span class=k>if</span> <span class=n>current</span><span class=o>.</span><span class=n>prev</span><span class=p>:</span>
</span><span id=__span-249-64><a id=__codelineno-249-64 name=__codelineno-249-64 href=#__codelineno-249-64></a>            <span class=n>current</span><span class=o>.</span><span class=n>prev</span><span class=o>.</span><span class=n>next</span> <span class=o>=</span> <span class=n>current</span><span class=o>.</span><span class=n>next</span>
</span><span id=__span-249-65><a id=__codelineno-249-65 name=__codelineno-249-65 href=#__codelineno-249-65></a>
</span><span id=__span-249-66><a id=__codelineno-249-66 name=__codelineno-249-66 href=#__codelineno-249-66></a>        <span class=n>current</span> <span class=o>=</span> <span class=kc>None</span>
</span></code></pre></div> <p><strong>使用示例：</strong></p> <div class="language-python highlight"><pre><span></span><code><span id=__span-250-1><a id=__codelineno-250-1 name=__codelineno-250-1 href=#__codelineno-250-1></a><span class=c1># 创建双向链表</span>
</span><span id=__span-250-2><a id=__codelineno-250-2 name=__codelineno-250-2 href=#__codelineno-250-2></a><span class=n>dll</span> <span class=o>=</span> <span class=n>DoublyLinkedList</span><span class=p>()</span>
</span><span id=__span-250-3><a id=__codelineno-250-3 name=__codelineno-250-3 href=#__codelineno-250-3></a><span class=n>dll</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
</span><span id=__span-250-4><a id=__codelineno-250-4 name=__codelineno-250-4 href=#__codelineno-250-4></a><span class=n>dll</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=mi>2</span><span class=p>)</span>
</span><span id=__span-250-5><a id=__codelineno-250-5 name=__codelineno-250-5 href=#__codelineno-250-5></a><span class=n>dll</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=mi>3</span><span class=p>)</span>
</span><span id=__span-250-6><a id=__codelineno-250-6 name=__codelineno-250-6 href=#__codelineno-250-6></a>
</span><span id=__span-250-7><a id=__codelineno-250-7 name=__codelineno-250-7 href=#__codelineno-250-7></a><span class=c1># 打印链表</span>
</span><span id=__span-250-8><a id=__codelineno-250-8 name=__codelineno-250-8 href=#__codelineno-250-8></a><span class=n>dll</span><span class=o>.</span><span class=n>print_list</span><span class=p>()</span>  <span class=c1># 输出: 1 &lt;-&gt; 2 &lt;-&gt; 3 &lt;-&gt; None</span>
</span><span id=__span-250-9><a id=__codelineno-250-9 name=__codelineno-250-9 href=#__codelineno-250-9></a>
</span><span id=__span-250-10><a id=__codelineno-250-10 name=__codelineno-250-10 href=#__codelineno-250-10></a><span class=c1># 反向打印链表</span>
</span><span id=__span-250-11><a id=__codelineno-250-11 name=__codelineno-250-11 href=#__codelineno-250-11></a><span class=n>dll</span><span class=o>.</span><span class=n>print_reverse</span><span class=p>()</span>  <span class=c1># 输出: 3 &lt;-&gt; 2 &lt;-&gt; 1 &lt;-&gt; None</span>
</span><span id=__span-250-12><a id=__codelineno-250-12 name=__codelineno-250-12 href=#__codelineno-250-12></a>
</span><span id=__span-250-13><a id=__codelineno-250-13 name=__codelineno-250-13 href=#__codelineno-250-13></a><span class=c1># 删除节点</span>
</span><span id=__span-250-14><a id=__codelineno-250-14 name=__codelineno-250-14 href=#__codelineno-250-14></a><span class=n>dll</span><span class=o>.</span><span class=n>delete</span><span class=p>(</span><span class=mi>2</span><span class=p>)</span>
</span><span id=__span-250-15><a id=__codelineno-250-15 name=__codelineno-250-15 href=#__codelineno-250-15></a><span class=n>dll</span><span class=o>.</span><span class=n>print_list</span><span class=p>()</span>  <span class=c1># 输出: 1 &lt;-&gt; 3 &lt;-&gt; None</span>
</span></code></pre></div> <hr> <p><strong>链表操作总结</strong></p> <ul> <li><strong>插入操作：</strong> 可以在头部、尾部或中间插入节点。</li> <li><strong>删除操作：</strong> 需要更新相邻节点的指针。</li> <li><strong>遍历操作：</strong> 从头节点开始，依次访问每个节点。</li> </ul> <p>链表的实现非常灵活，适合存储动态数据结构，适用于需要频繁插入和删除操作的场景。</p> </div> <div class=tabbed-block> <p>在 C 中，链表可以用结构体和指针来实现。以下是单向链表和双向链表的实现和常用操作的详细说明。</p> <hr> <p><strong>单向链表</strong></p> <p><strong>定义单向链表节点</strong></p> <div class="language-c highlight"><pre><span></span><code><span id=__span-251-1><a id=__codelineno-251-1 name=__codelineno-251-1 href=#__codelineno-251-1></a><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;stdio.h&gt;</span>
</span><span id=__span-251-2><a id=__codelineno-251-2 name=__codelineno-251-2 href=#__codelineno-251-2></a><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;stdlib.h&gt;</span>
</span><span id=__span-251-3><a id=__codelineno-251-3 name=__codelineno-251-3 href=#__codelineno-251-3></a>
</span><span id=__span-251-4><a id=__codelineno-251-4 name=__codelineno-251-4 href=#__codelineno-251-4></a><span class=c1>// 定义节点结构</span>
</span><span id=__span-251-5><a id=__codelineno-251-5 name=__codelineno-251-5 href=#__codelineno-251-5></a><span class=k>struct</span><span class=w> </span><span class=nc>Node</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-251-6><a id=__codelineno-251-6 name=__codelineno-251-6 href=#__codelineno-251-6></a><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>data</span><span class=p>;</span><span class=w>              </span><span class=c1>// 节点数据</span>
</span><span id=__span-251-7><a id=__codelineno-251-7 name=__codelineno-251-7 href=#__codelineno-251-7></a><span class=w>    </span><span class=k>struct</span><span class=w> </span><span class=nc>Node</span><span class=o>*</span><span class=w> </span><span class=n>next</span><span class=p>;</span><span class=w>     </span><span class=c1>// 指向下一个节点的指针</span>
</span><span id=__span-251-8><a id=__codelineno-251-8 name=__codelineno-251-8 href=#__codelineno-251-8></a><span class=p>};</span>
</span><span id=__span-251-9><a id=__codelineno-251-9 name=__codelineno-251-9 href=#__codelineno-251-9></a>
</span><span id=__span-251-10><a id=__codelineno-251-10 name=__codelineno-251-10 href=#__codelineno-251-10></a><span class=c1>// 创建新节点</span>
</span><span id=__span-251-11><a id=__codelineno-251-11 name=__codelineno-251-11 href=#__codelineno-251-11></a><span class=k>struct</span><span class=w> </span><span class=nc>Node</span><span class=o>*</span><span class=w> </span><span class=n>createNode</span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>data</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-251-12><a id=__codelineno-251-12 name=__codelineno-251-12 href=#__codelineno-251-12></a><span class=w>    </span><span class=k>struct</span><span class=w> </span><span class=nc>Node</span><span class=o>*</span><span class=w> </span><span class=n>newNode</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>(</span><span class=k>struct</span><span class=w> </span><span class=nc>Node</span><span class=o>*</span><span class=p>)</span><span class=n>malloc</span><span class=p>(</span><span class=k>sizeof</span><span class=p>(</span><span class=k>struct</span><span class=w> </span><span class=nc>Node</span><span class=p>));</span>
</span><span id=__span-251-13><a id=__codelineno-251-13 name=__codelineno-251-13 href=#__codelineno-251-13></a><span class=w>    </span><span class=n>newNode</span><span class=o>-&gt;</span><span class=n>data</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>data</span><span class=p>;</span>
</span><span id=__span-251-14><a id=__codelineno-251-14 name=__codelineno-251-14 href=#__codelineno-251-14></a><span class=w>    </span><span class=n>newNode</span><span class=o>-&gt;</span><span class=n>next</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nb>NULL</span><span class=p>;</span>
</span><span id=__span-251-15><a id=__codelineno-251-15 name=__codelineno-251-15 href=#__codelineno-251-15></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=n>newNode</span><span class=p>;</span>
</span><span id=__span-251-16><a id=__codelineno-251-16 name=__codelineno-251-16 href=#__codelineno-251-16></a><span class=p>}</span>
</span></code></pre></div> <p><strong>单向链表操作</strong></p> <ol> <li><strong>插入节点到链表末尾</strong></li> </ol> <div class="language-c highlight"><pre><span></span><code><span id=__span-252-1><a id=__codelineno-252-1 name=__codelineno-252-1 href=#__codelineno-252-1></a><span class=kt>void</span><span class=w> </span><span class=nf>append</span><span class=p>(</span><span class=k>struct</span><span class=w> </span><span class=nc>Node</span><span class=o>**</span><span class=w> </span><span class=n>head</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>data</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-252-2><a id=__codelineno-252-2 name=__codelineno-252-2 href=#__codelineno-252-2></a><span class=w>    </span><span class=k>struct</span><span class=w> </span><span class=nc>Node</span><span class=o>*</span><span class=w> </span><span class=n>newNode</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>createNode</span><span class=p>(</span><span class=n>data</span><span class=p>);</span>
</span><span id=__span-252-3><a id=__codelineno-252-3 name=__codelineno-252-3 href=#__codelineno-252-3></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=o>*</span><span class=n>head</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=nb>NULL</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>  </span><span class=c1>// 如果链表为空</span>
</span><span id=__span-252-4><a id=__codelineno-252-4 name=__codelineno-252-4 href=#__codelineno-252-4></a><span class=w>        </span><span class=o>*</span><span class=n>head</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>newNode</span><span class=p>;</span>
</span><span id=__span-252-5><a id=__codelineno-252-5 name=__codelineno-252-5 href=#__codelineno-252-5></a><span class=w>        </span><span class=k>return</span><span class=p>;</span>
</span><span id=__span-252-6><a id=__codelineno-252-6 name=__codelineno-252-6 href=#__codelineno-252-6></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-252-7><a id=__codelineno-252-7 name=__codelineno-252-7 href=#__codelineno-252-7></a><span class=w>    </span><span class=k>struct</span><span class=w> </span><span class=nc>Node</span><span class=o>*</span><span class=w> </span><span class=n>temp</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=o>*</span><span class=n>head</span><span class=p>;</span>
</span><span id=__span-252-8><a id=__codelineno-252-8 name=__codelineno-252-8 href=#__codelineno-252-8></a><span class=w>    </span><span class=k>while</span><span class=w> </span><span class=p>(</span><span class=n>temp</span><span class=o>-&gt;</span><span class=n>next</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=nb>NULL</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>  </span><span class=c1>// 遍历到链表末尾</span>
</span><span id=__span-252-9><a id=__codelineno-252-9 name=__codelineno-252-9 href=#__codelineno-252-9></a><span class=w>        </span><span class=n>temp</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>temp</span><span class=o>-&gt;</span><span class=n>next</span><span class=p>;</span>
</span><span id=__span-252-10><a id=__codelineno-252-10 name=__codelineno-252-10 href=#__codelineno-252-10></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-252-11><a id=__codelineno-252-11 name=__codelineno-252-11 href=#__codelineno-252-11></a><span class=w>    </span><span class=n>temp</span><span class=o>-&gt;</span><span class=n>next</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>newNode</span><span class=p>;</span>
</span><span id=__span-252-12><a id=__codelineno-252-12 name=__codelineno-252-12 href=#__codelineno-252-12></a><span class=p>}</span>
</span></code></pre></div> <div class="admonition success"> <p class=admonition-title>append函数超详解</p> <p><strong>函数原型</strong></p> <div class="language-c highlight"><pre><span></span><code><span id=__span-253-1><a id=__codelineno-253-1 name=__codelineno-253-1 href=#__codelineno-253-1></a><span class=kt>void</span><span class=w> </span><span class=nf>append</span><span class=p>(</span><span class=n>List</span><span class=o>*</span><span class=w> </span><span class=n>plist</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>num</span><span class=p>);</span>
</span></code></pre></div> <p><strong>参数说明</strong>：</p> <ol> <li><strong><code>plist</code></strong>：指向链表结构的指针，用于表示要操作的链表。 - <code>List</code> 是一个结构体，包含指向链表头节点的指针 <code>head</code>。 - 通过传入 <code>List*</code>，函数能够直接操作链表的内容（比如添加节点）。</li> <li><strong><code>num</code></strong>：要添加到链表的新节点的值。</li> </ol> <hr> <p><strong>函数实现</strong></p> <div class="language-c highlight"><pre><span></span><code><span id=__span-254-1><a id=__codelineno-254-1 name=__codelineno-254-1 href=#__codelineno-254-1></a><span class=kt>void</span><span class=w> </span><span class=nf>append</span><span class=p>(</span><span class=n>List</span><span class=o>*</span><span class=w> </span><span class=n>plist</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>num</span><span class=p>)</span>
</span><span id=__span-254-2><a id=__codelineno-254-2 name=__codelineno-254-2 href=#__codelineno-254-2></a><span class=p>{</span>
</span><span id=__span-254-3><a id=__codelineno-254-3 name=__codelineno-254-3 href=#__codelineno-254-3></a><span class=w>    </span><span class=c1>// 1. 创建一个新的节点并初始化</span>
</span><span id=__span-254-4><a id=__codelineno-254-4 name=__codelineno-254-4 href=#__codelineno-254-4></a><span class=w>    </span><span class=n>Node</span><span class=o>*</span><span class=w> </span><span class=n>p</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>(</span><span class=n>Node</span><span class=o>*</span><span class=p>)</span><span class=n>malloc</span><span class=p>(</span><span class=k>sizeof</span><span class=p>(</span><span class=n>Node</span><span class=p>));</span><span class=w> </span><span class=c1>// 为新节点分配内存</span>
</span><span id=__span-254-5><a id=__codelineno-254-5 name=__codelineno-254-5 href=#__codelineno-254-5></a><span class=w>    </span><span class=n>p</span><span class=o>-&gt;</span><span class=n>value</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>num</span><span class=p>;</span><span class=w> </span><span class=c1>// 设置新节点的值</span>
</span><span id=__span-254-6><a id=__codelineno-254-6 name=__codelineno-254-6 href=#__codelineno-254-6></a><span class=w>    </span><span class=n>p</span><span class=o>-&gt;</span><span class=n>next</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nb>NULL</span><span class=p>;</span><span class=w> </span><span class=c1>// 新节点的 next 指针初始化为 NULL</span>
</span><span id=__span-254-7><a id=__codelineno-254-7 name=__codelineno-254-7 href=#__codelineno-254-7></a>
</span><span id=__span-254-8><a id=__codelineno-254-8 name=__codelineno-254-8 href=#__codelineno-254-8></a><span class=w>    </span><span class=c1>// 2. 找到链表的最后一个节点</span>
</span><span id=__span-254-9><a id=__codelineno-254-9 name=__codelineno-254-9 href=#__codelineno-254-9></a><span class=w>    </span><span class=n>Node</span><span class=o>*</span><span class=w> </span><span class=n>last</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>plist</span><span class=o>-&gt;</span><span class=n>head</span><span class=p>;</span><span class=w> </span><span class=c1>// 从链表头开始遍历</span>
</span><span id=__span-254-10><a id=__codelineno-254-10 name=__codelineno-254-10 href=#__codelineno-254-10></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>last</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-254-11><a id=__codelineno-254-11 name=__codelineno-254-11 href=#__codelineno-254-11></a><span class=w>        </span><span class=c1>// 如果链表不为空，找到最后一个节点</span>
</span><span id=__span-254-12><a id=__codelineno-254-12 name=__codelineno-254-12 href=#__codelineno-254-12></a><span class=w>        </span><span class=k>while</span><span class=w> </span><span class=p>(</span><span class=n>last</span><span class=o>-&gt;</span><span class=n>next</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-254-13><a id=__codelineno-254-13 name=__codelineno-254-13 href=#__codelineno-254-13></a><span class=w>            </span><span class=n>last</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>last</span><span class=o>-&gt;</span><span class=n>next</span><span class=p>;</span><span class=w> </span><span class=c1>// 循环向下，直到最后一个节点</span>
</span><span id=__span-254-14><a id=__codelineno-254-14 name=__codelineno-254-14 href=#__codelineno-254-14></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-254-15><a id=__codelineno-254-15 name=__codelineno-254-15 href=#__codelineno-254-15></a><span class=w>        </span><span class=c1>// 3. 将新节点连接到最后一个节点</span>
</span><span id=__span-254-16><a id=__codelineno-254-16 name=__codelineno-254-16 href=#__codelineno-254-16></a><span class=w>        </span><span class=n>last</span><span class=o>-&gt;</span><span class=n>next</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>p</span><span class=p>;</span>
</span><span id=__span-254-17><a id=__codelineno-254-17 name=__codelineno-254-17 href=#__codelineno-254-17></a><span class=w>    </span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-254-18><a id=__codelineno-254-18 name=__codelineno-254-18 href=#__codelineno-254-18></a><span class=w>        </span><span class=c1>// 如果链表为空，将新节点作为头节点</span>
</span><span id=__span-254-19><a id=__codelineno-254-19 name=__codelineno-254-19 href=#__codelineno-254-19></a><span class=w>        </span><span class=n>plist</span><span class=o>-&gt;</span><span class=n>head</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>p</span><span class=p>;</span>
</span><span id=__span-254-20><a id=__codelineno-254-20 name=__codelineno-254-20 href=#__codelineno-254-20></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-254-21><a id=__codelineno-254-21 name=__codelineno-254-21 href=#__codelineno-254-21></a><span class=p>}</span>
</span></code></pre></div> <hr> <p><strong>详细分步解析</strong></p> <p><strong>1. 创建新节点</strong></p> <div class="language-c highlight"><pre><span></span><code><span id=__span-255-1><a id=__codelineno-255-1 name=__codelineno-255-1 href=#__codelineno-255-1></a><span class=n>Node</span><span class=o>*</span><span class=w> </span><span class=n>p</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>(</span><span class=n>Node</span><span class=o>*</span><span class=p>)</span><span class=n>malloc</span><span class=p>(</span><span class=k>sizeof</span><span class=p>(</span><span class=n>Node</span><span class=p>));</span>
</span><span id=__span-255-2><a id=__codelineno-255-2 name=__codelineno-255-2 href=#__codelineno-255-2></a><span class=n>p</span><span class=o>-&gt;</span><span class=n>value</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>num</span><span class=p>;</span>
</span><span id=__span-255-3><a id=__codelineno-255-3 name=__codelineno-255-3 href=#__codelineno-255-3></a><span class=n>p</span><span class=o>-&gt;</span><span class=n>next</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nb>NULL</span><span class=p>;</span>
</span></code></pre></div> <ul> <li><strong>动态内存分配</strong>：</li> <li>使用 <code>malloc</code> 分配一段内存，用于存储新节点。</li> <li>返回值是 <code>void*</code>，需要强制类型转换为 <code>Node*</code>。</li> <li><strong>初始化新节点</strong>：</li> <li><code>p-&gt;value = num</code>：将新节点的 <code>value</code> 字段设置为传入的值 <code>num</code>。</li> <li><code>p-&gt;next = NULL</code>：将新节点的 <code>next</code> 指针设置为 <code>NULL</code>，表示它暂时是链表的最后一个节点。</li> </ul> <hr> <p><strong>2. 查找链表的最后一个节点</strong></p> <div class="language-c highlight"><pre><span></span><code><span id=__span-256-1><a id=__codelineno-256-1 name=__codelineno-256-1 href=#__codelineno-256-1></a><span class=n>Node</span><span class=o>*</span><span class=w> </span><span class=n>last</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>plist</span><span class=o>-&gt;</span><span class=n>head</span><span class=p>;</span>
</span><span id=__span-256-2><a id=__codelineno-256-2 name=__codelineno-256-2 href=#__codelineno-256-2></a><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>last</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-256-3><a id=__codelineno-256-3 name=__codelineno-256-3 href=#__codelineno-256-3></a><span class=w>    </span><span class=k>while</span><span class=w> </span><span class=p>(</span><span class=n>last</span><span class=o>-&gt;</span><span class=n>next</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-256-4><a id=__codelineno-256-4 name=__codelineno-256-4 href=#__codelineno-256-4></a><span class=w>        </span><span class=n>last</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>last</span><span class=o>-&gt;</span><span class=n>next</span><span class=p>;</span>
</span><span id=__span-256-5><a id=__codelineno-256-5 name=__codelineno-256-5 href=#__codelineno-256-5></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-256-6><a id=__codelineno-256-6 name=__codelineno-256-6 href=#__codelineno-256-6></a><span class=p>}</span>
</span></code></pre></div> <ul> <li><strong>指针 <code>last</code> 的作用</strong>：</li> <li><code>last</code> 是一个临时指针，用于遍历链表，找到当前链表的最后一个节点。</li> <li>初始时，<code>last</code> 指向链表的头节点（<code>plist-&gt;head</code>）。</li> <li><strong>判断链表是否为空</strong>：</li> <li>如果 <code>plist-&gt;head</code> 为 <code>NULL</code>，说明链表为空，直接跳到 <code>else</code> 部分。</li> <li>如果 <code>plist-&gt;head</code> 不为 <code>NULL</code>，说明链表中至少有一个节点，进入 <code>while</code> 循环。</li> <li><strong><code>while</code> 循环</strong>：</li> <li><code>last-&gt;next</code> 表示当前节点的下一节点是否存在。</li> <li>循环条件 <code>last-&gt;next</code> 为真时，将指针 <code>last</code> 移动到下一个节点。</li> </ul> <hr> <p><strong>3. 连接新节点</strong></p> <div class="language-c highlight"><pre><span></span><code><span id=__span-257-1><a id=__codelineno-257-1 name=__codelineno-257-1 href=#__codelineno-257-1></a><span class=n>last</span><span class=o>-&gt;</span><span class=n>next</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>p</span><span class=p>;</span>
</span></code></pre></div> <ul> <li>当找到链表的最后一个节点时，将其 <code>next</code> 指针指向新创建的节点 <code>p</code>，这样 <code>p</code> 成为新的最后一个节点。</li> </ul> <hr> <p><strong>4. 处理空链表</strong></p> <div class="language-c highlight"><pre><span></span><code><span id=__span-258-1><a id=__codelineno-258-1 name=__codelineno-258-1 href=#__codelineno-258-1></a><span class=k>else</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-258-2><a id=__codelineno-258-2 name=__codelineno-258-2 href=#__codelineno-258-2></a><span class=w>    </span><span class=n>plist</span><span class=o>-&gt;</span><span class=n>head</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>p</span><span class=p>;</span>
</span><span id=__span-258-3><a id=__codelineno-258-3 name=__codelineno-258-3 href=#__codelineno-258-3></a><span class=p>}</span>
</span></code></pre></div> <ul> <li>如果链表为空（<code>plist-&gt;head == NULL</code>），新节点 <code>p</code> 直接成为链表的头节点。</li> </ul> <hr> <p><strong>函数工作原理举例</strong></p> <p>假设链表初始状态为空，依次调用 <code>append</code> 函数，插入 3 个值：<code>10</code>、<code>20</code>、<code>30</code>。</p> <p><strong>初始状态</strong></p> <ul> <li>链表为空：<code>plist-&gt;head = NULL</code></li> </ul> <p><strong>第一步</strong>：添加 <code>10</code></p> <ol> <li>创建新节点 <code>p</code>，值为 <code>10</code>，<code>p-&gt;next = NULL</code>。</li> <li>因为链表为空（<code>plist-&gt;head == NULL</code>），将 <code>plist-&gt;head</code> 指向 <code>p</code>。 - 链表状态：<code>10 -&gt; NULL</code></li> </ol> <p><strong>第二步</strong>：添加 <code>20</code></p> <ol> <li>创建新节点 <code>p</code>，值为 <code>20</code>，<code>p-&gt;next = NULL</code>。</li> <li>遍历链表，找到最后一个节点（<code>10</code>）。</li> <li>将最后一个节点（<code>10</code>）的 <code>next</code> 指针指向新节点 <code>p</code>。 - 链表状态：<code>10 -&gt; 20 -&gt; NULL</code></li> </ol> <p><strong>第三步</strong>：添加 <code>30</code></p> <ol> <li>创建新节点 <code>p</code>，值为 <code>30</code>，<code>p-&gt;next = NULL</code>。</li> <li>遍历链表，找到最后一个节点（<code>20</code>）。</li> <li>将最后一个节点（<code>20</code>）的 <code>next</code> 指针指向新节点 <code>p</code>。 - 链表状态：<code>10 -&gt; 20 -&gt; 30 -&gt; NULL</code></li> </ol> <hr> <p><strong>总结</strong></p> <p><code>append</code> 函数的核心功能是向链表末尾添加一个新节点。主要步骤：</p> <ol> <li>创建新节点，动态分配内存并初始化。</li> <li>判断链表是否为空： - 如果为空，将新节点设为头节点。 - 如果不为空，遍历链表找到最后一个节点，并将新节点连接到最后。</li> </ol> </div> <ol start=2> <li><strong>打印链表</strong></li> </ol> <div class="language-c highlight"><pre><span></span><code><span id=__span-259-1><a id=__codelineno-259-1 name=__codelineno-259-1 href=#__codelineno-259-1></a><span class=kt>void</span><span class=w> </span><span class=nf>printList</span><span class=p>(</span><span class=k>struct</span><span class=w> </span><span class=nc>Node</span><span class=o>*</span><span class=w> </span><span class=n>head</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-259-2><a id=__codelineno-259-2 name=__codelineno-259-2 href=#__codelineno-259-2></a><span class=w>    </span><span class=k>struct</span><span class=w> </span><span class=nc>Node</span><span class=o>*</span><span class=w> </span><span class=n>temp</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>head</span><span class=p>;</span>
</span><span id=__span-259-3><a id=__codelineno-259-3 name=__codelineno-259-3 href=#__codelineno-259-3></a><span class=w>    </span><span class=k>while</span><span class=w> </span><span class=p>(</span><span class=n>temp</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=nb>NULL</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-259-4><a id=__codelineno-259-4 name=__codelineno-259-4 href=#__codelineno-259-4></a><span class=w>        </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%d -&gt; &quot;</span><span class=p>,</span><span class=w> </span><span class=n>temp</span><span class=o>-&gt;</span><span class=n>data</span><span class=p>);</span>
</span><span id=__span-259-5><a id=__codelineno-259-5 name=__codelineno-259-5 href=#__codelineno-259-5></a><span class=w>        </span><span class=n>temp</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>temp</span><span class=o>-&gt;</span><span class=n>next</span><span class=p>;</span>
</span><span id=__span-259-6><a id=__codelineno-259-6 name=__codelineno-259-6 href=#__codelineno-259-6></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-259-7><a id=__codelineno-259-7 name=__codelineno-259-7 href=#__codelineno-259-7></a><span class=w>    </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;NULL</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>);</span>
</span><span id=__span-259-8><a id=__codelineno-259-8 name=__codelineno-259-8 href=#__codelineno-259-8></a><span class=p>}</span>
</span></code></pre></div> <ol start=3> <li><strong>删除节点</strong></li> </ol> <div class="language-c highlight"><pre><span></span><code><span id=__span-260-1><a id=__codelineno-260-1 name=__codelineno-260-1 href=#__codelineno-260-1></a><span class=kt>void</span><span class=w> </span><span class=nf>deleteNode</span><span class=p>(</span><span class=k>struct</span><span class=w> </span><span class=nc>Node</span><span class=o>**</span><span class=w> </span><span class=n>head</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>key</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-260-2><a id=__codelineno-260-2 name=__codelineno-260-2 href=#__codelineno-260-2></a><span class=w>    </span><span class=k>struct</span><span class=w> </span><span class=nc>Node</span><span class=o>*</span><span class=w> </span><span class=n>temp</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=o>*</span><span class=n>head</span><span class=p>;</span>
</span><span id=__span-260-3><a id=__codelineno-260-3 name=__codelineno-260-3 href=#__codelineno-260-3></a><span class=w>    </span><span class=k>struct</span><span class=w> </span><span class=nc>Node</span><span class=o>*</span><span class=w> </span><span class=n>prev</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nb>NULL</span><span class=p>;</span>
</span><span id=__span-260-4><a id=__codelineno-260-4 name=__codelineno-260-4 href=#__codelineno-260-4></a>
</span><span id=__span-260-5><a id=__codelineno-260-5 name=__codelineno-260-5 href=#__codelineno-260-5></a><span class=w>    </span><span class=c1>// 如果头节点需要删除</span>
</span><span id=__span-260-6><a id=__codelineno-260-6 name=__codelineno-260-6 href=#__codelineno-260-6></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>temp</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=nb>NULL</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=n>temp</span><span class=o>-&gt;</span><span class=n>data</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=n>key</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-260-7><a id=__codelineno-260-7 name=__codelineno-260-7 href=#__codelineno-260-7></a><span class=w>        </span><span class=o>*</span><span class=n>head</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>temp</span><span class=o>-&gt;</span><span class=n>next</span><span class=p>;</span>
</span><span id=__span-260-8><a id=__codelineno-260-8 name=__codelineno-260-8 href=#__codelineno-260-8></a><span class=w>        </span><span class=n>free</span><span class=p>(</span><span class=n>temp</span><span class=p>);</span>
</span><span id=__span-260-9><a id=__codelineno-260-9 name=__codelineno-260-9 href=#__codelineno-260-9></a><span class=w>        </span><span class=k>return</span><span class=p>;</span>
</span><span id=__span-260-10><a id=__codelineno-260-10 name=__codelineno-260-10 href=#__codelineno-260-10></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-260-11><a id=__codelineno-260-11 name=__codelineno-260-11 href=#__codelineno-260-11></a>
</span><span id=__span-260-12><a id=__codelineno-260-12 name=__codelineno-260-12 href=#__codelineno-260-12></a><span class=w>    </span><span class=c1>// 查找要删除的节点</span>
</span><span id=__span-260-13><a id=__codelineno-260-13 name=__codelineno-260-13 href=#__codelineno-260-13></a><span class=w>    </span><span class=k>while</span><span class=w> </span><span class=p>(</span><span class=n>temp</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=nb>NULL</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=n>temp</span><span class=o>-&gt;</span><span class=n>data</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=n>key</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-260-14><a id=__codelineno-260-14 name=__codelineno-260-14 href=#__codelineno-260-14></a><span class=w>        </span><span class=n>prev</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>temp</span><span class=p>;</span>
</span><span id=__span-260-15><a id=__codelineno-260-15 name=__codelineno-260-15 href=#__codelineno-260-15></a><span class=w>        </span><span class=n>temp</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>temp</span><span class=o>-&gt;</span><span class=n>next</span><span class=p>;</span>
</span><span id=__span-260-16><a id=__codelineno-260-16 name=__codelineno-260-16 href=#__codelineno-260-16></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-260-17><a id=__codelineno-260-17 name=__codelineno-260-17 href=#__codelineno-260-17></a>
</span><span id=__span-260-18><a id=__codelineno-260-18 name=__codelineno-260-18 href=#__codelineno-260-18></a><span class=w>    </span><span class=c1>// 如果未找到节点</span>
</span><span id=__span-260-19><a id=__codelineno-260-19 name=__codelineno-260-19 href=#__codelineno-260-19></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>temp</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=nb>NULL</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-260-20><a id=__codelineno-260-20 name=__codelineno-260-20 href=#__codelineno-260-20></a><span class=w>        </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;Node with data %d not found.</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=n>key</span><span class=p>);</span>
</span><span id=__span-260-21><a id=__codelineno-260-21 name=__codelineno-260-21 href=#__codelineno-260-21></a><span class=w>        </span><span class=k>return</span><span class=p>;</span>
</span><span id=__span-260-22><a id=__codelineno-260-22 name=__codelineno-260-22 href=#__codelineno-260-22></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-260-23><a id=__codelineno-260-23 name=__codelineno-260-23 href=#__codelineno-260-23></a>
</span><span id=__span-260-24><a id=__codelineno-260-24 name=__codelineno-260-24 href=#__codelineno-260-24></a><span class=w>    </span><span class=n>prev</span><span class=o>-&gt;</span><span class=n>next</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>temp</span><span class=o>-&gt;</span><span class=n>next</span><span class=p>;</span><span class=w>  </span><span class=c1>// 删除节点</span>
</span><span id=__span-260-25><a id=__codelineno-260-25 name=__codelineno-260-25 href=#__codelineno-260-25></a><span class=w>    </span><span class=n>free</span><span class=p>(</span><span class=n>temp</span><span class=p>);</span>
</span><span id=__span-260-26><a id=__codelineno-260-26 name=__codelineno-260-26 href=#__codelineno-260-26></a><span class=p>}</span>
</span></code></pre></div> <p><strong>单向链表完整示例</strong></p> <div class="language-c highlight"><pre><span></span><code><span id=__span-261-1><a id=__codelineno-261-1 name=__codelineno-261-1 href=#__codelineno-261-1></a><span class=kt>int</span><span class=w> </span><span class=nf>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-261-2><a id=__codelineno-261-2 name=__codelineno-261-2 href=#__codelineno-261-2></a><span class=w>    </span><span class=k>struct</span><span class=w> </span><span class=nc>Node</span><span class=o>*</span><span class=w> </span><span class=n>head</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nb>NULL</span><span class=p>;</span>
</span><span id=__span-261-3><a id=__codelineno-261-3 name=__codelineno-261-3 href=#__codelineno-261-3></a>
</span><span id=__span-261-4><a id=__codelineno-261-4 name=__codelineno-261-4 href=#__codelineno-261-4></a><span class=w>    </span><span class=c1>// 插入节点</span>
</span><span id=__span-261-5><a id=__codelineno-261-5 name=__codelineno-261-5 href=#__codelineno-261-5></a><span class=w>    </span><span class=n>append</span><span class=p>(</span><span class=o>&amp;</span><span class=n>head</span><span class=p>,</span><span class=w> </span><span class=mi>10</span><span class=p>);</span>
</span><span id=__span-261-6><a id=__codelineno-261-6 name=__codelineno-261-6 href=#__codelineno-261-6></a><span class=w>    </span><span class=n>append</span><span class=p>(</span><span class=o>&amp;</span><span class=n>head</span><span class=p>,</span><span class=w> </span><span class=mi>20</span><span class=p>);</span>
</span><span id=__span-261-7><a id=__codelineno-261-7 name=__codelineno-261-7 href=#__codelineno-261-7></a><span class=w>    </span><span class=n>append</span><span class=p>(</span><span class=o>&amp;</span><span class=n>head</span><span class=p>,</span><span class=w> </span><span class=mi>30</span><span class=p>);</span>
</span><span id=__span-261-8><a id=__codelineno-261-8 name=__codelineno-261-8 href=#__codelineno-261-8></a>
</span><span id=__span-261-9><a id=__codelineno-261-9 name=__codelineno-261-9 href=#__codelineno-261-9></a><span class=w>    </span><span class=c1>// 打印链表</span>
</span><span id=__span-261-10><a id=__codelineno-261-10 name=__codelineno-261-10 href=#__codelineno-261-10></a><span class=w>    </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;Linked List: &quot;</span><span class=p>);</span>
</span><span id=__span-261-11><a id=__codelineno-261-11 name=__codelineno-261-11 href=#__codelineno-261-11></a><span class=w>    </span><span class=n>printList</span><span class=p>(</span><span class=n>head</span><span class=p>);</span>
</span><span id=__span-261-12><a id=__codelineno-261-12 name=__codelineno-261-12 href=#__codelineno-261-12></a>
</span><span id=__span-261-13><a id=__codelineno-261-13 name=__codelineno-261-13 href=#__codelineno-261-13></a><span class=w>    </span><span class=c1>// 删除节点</span>
</span><span id=__span-261-14><a id=__codelineno-261-14 name=__codelineno-261-14 href=#__codelineno-261-14></a><span class=w>    </span><span class=n>deleteNode</span><span class=p>(</span><span class=o>&amp;</span><span class=n>head</span><span class=p>,</span><span class=w> </span><span class=mi>20</span><span class=p>);</span>
</span><span id=__span-261-15><a id=__codelineno-261-15 name=__codelineno-261-15 href=#__codelineno-261-15></a><span class=w>    </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;After Deletion: &quot;</span><span class=p>);</span>
</span><span id=__span-261-16><a id=__codelineno-261-16 name=__codelineno-261-16 href=#__codelineno-261-16></a><span class=w>    </span><span class=n>printList</span><span class=p>(</span><span class=n>head</span><span class=p>);</span>
</span><span id=__span-261-17><a id=__codelineno-261-17 name=__codelineno-261-17 href=#__codelineno-261-17></a>
</span><span id=__span-261-18><a id=__codelineno-261-18 name=__codelineno-261-18 href=#__codelineno-261-18></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-261-19><a id=__codelineno-261-19 name=__codelineno-261-19 href=#__codelineno-261-19></a><span class=p>}</span>
</span></code></pre></div> <hr> <p><strong>双向链表</strong></p> <p><strong>定义双向链表节点</strong></p> <div class="language-c highlight"><pre><span></span><code><span id=__span-262-1><a id=__codelineno-262-1 name=__codelineno-262-1 href=#__codelineno-262-1></a><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;stdio.h&gt;</span>
</span><span id=__span-262-2><a id=__codelineno-262-2 name=__codelineno-262-2 href=#__codelineno-262-2></a><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;stdlib.h&gt;</span>
</span><span id=__span-262-3><a id=__codelineno-262-3 name=__codelineno-262-3 href=#__codelineno-262-3></a>
</span><span id=__span-262-4><a id=__codelineno-262-4 name=__codelineno-262-4 href=#__codelineno-262-4></a><span class=c1>// 定义双向链表节点结构</span>
</span><span id=__span-262-5><a id=__codelineno-262-5 name=__codelineno-262-5 href=#__codelineno-262-5></a><span class=k>struct</span><span class=w> </span><span class=nc>Node</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-262-6><a id=__codelineno-262-6 name=__codelineno-262-6 href=#__codelineno-262-6></a><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>data</span><span class=p>;</span><span class=w>              </span><span class=c1>// 节点数据</span>
</span><span id=__span-262-7><a id=__codelineno-262-7 name=__codelineno-262-7 href=#__codelineno-262-7></a><span class=w>    </span><span class=k>struct</span><span class=w> </span><span class=nc>Node</span><span class=o>*</span><span class=w> </span><span class=n>next</span><span class=p>;</span><span class=w>     </span><span class=c1>// 指向下一个节点</span>
</span><span id=__span-262-8><a id=__codelineno-262-8 name=__codelineno-262-8 href=#__codelineno-262-8></a><span class=w>    </span><span class=k>struct</span><span class=w> </span><span class=nc>Node</span><span class=o>*</span><span class=w> </span><span class=n>prev</span><span class=p>;</span><span class=w>     </span><span class=c1>// 指向前一个节点</span>
</span><span id=__span-262-9><a id=__codelineno-262-9 name=__codelineno-262-9 href=#__codelineno-262-9></a><span class=p>};</span>
</span><span id=__span-262-10><a id=__codelineno-262-10 name=__codelineno-262-10 href=#__codelineno-262-10></a>
</span><span id=__span-262-11><a id=__codelineno-262-11 name=__codelineno-262-11 href=#__codelineno-262-11></a><span class=c1>// 创建新节点</span>
</span><span id=__span-262-12><a id=__codelineno-262-12 name=__codelineno-262-12 href=#__codelineno-262-12></a><span class=k>struct</span><span class=w> </span><span class=nc>Node</span><span class=o>*</span><span class=w> </span><span class=n>createNode</span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>data</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-262-13><a id=__codelineno-262-13 name=__codelineno-262-13 href=#__codelineno-262-13></a><span class=w>    </span><span class=k>struct</span><span class=w> </span><span class=nc>Node</span><span class=o>*</span><span class=w> </span><span class=n>newNode</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>(</span><span class=k>struct</span><span class=w> </span><span class=nc>Node</span><span class=o>*</span><span class=p>)</span><span class=n>malloc</span><span class=p>(</span><span class=k>sizeof</span><span class=p>(</span><span class=k>struct</span><span class=w> </span><span class=nc>Node</span><span class=p>));</span>
</span><span id=__span-262-14><a id=__codelineno-262-14 name=__codelineno-262-14 href=#__codelineno-262-14></a><span class=w>    </span><span class=n>newNode</span><span class=o>-&gt;</span><span class=n>data</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>data</span><span class=p>;</span>
</span><span id=__span-262-15><a id=__codelineno-262-15 name=__codelineno-262-15 href=#__codelineno-262-15></a><span class=w>    </span><span class=n>newNode</span><span class=o>-&gt;</span><span class=n>next</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nb>NULL</span><span class=p>;</span>
</span><span id=__span-262-16><a id=__codelineno-262-16 name=__codelineno-262-16 href=#__codelineno-262-16></a><span class=w>    </span><span class=n>newNode</span><span class=o>-&gt;</span><span class=n>prev</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nb>NULL</span><span class=p>;</span>
</span><span id=__span-262-17><a id=__codelineno-262-17 name=__codelineno-262-17 href=#__codelineno-262-17></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=n>newNode</span><span class=p>;</span>
</span><span id=__span-262-18><a id=__codelineno-262-18 name=__codelineno-262-18 href=#__codelineno-262-18></a><span class=p>}</span>
</span></code></pre></div> <p><strong>双向链表操作</strong></p> <ol> <li><strong>插入节点到链表末尾</strong></li> </ol> <div class="language-c highlight"><pre><span></span><code><span id=__span-263-1><a id=__codelineno-263-1 name=__codelineno-263-1 href=#__codelineno-263-1></a><span class=kt>void</span><span class=w> </span><span class=nf>append</span><span class=p>(</span><span class=k>struct</span><span class=w> </span><span class=nc>Node</span><span class=o>**</span><span class=w> </span><span class=n>head</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>data</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-263-2><a id=__codelineno-263-2 name=__codelineno-263-2 href=#__codelineno-263-2></a><span class=w>    </span><span class=k>struct</span><span class=w> </span><span class=nc>Node</span><span class=o>*</span><span class=w> </span><span class=n>newNode</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>createNode</span><span class=p>(</span><span class=n>data</span><span class=p>);</span>
</span><span id=__span-263-3><a id=__codelineno-263-3 name=__codelineno-263-3 href=#__codelineno-263-3></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=o>*</span><span class=n>head</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=nb>NULL</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>  </span><span class=c1>// 如果链表为空</span>
</span><span id=__span-263-4><a id=__codelineno-263-4 name=__codelineno-263-4 href=#__codelineno-263-4></a><span class=w>        </span><span class=o>*</span><span class=n>head</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>newNode</span><span class=p>;</span>
</span><span id=__span-263-5><a id=__codelineno-263-5 name=__codelineno-263-5 href=#__codelineno-263-5></a><span class=w>        </span><span class=k>return</span><span class=p>;</span>
</span><span id=__span-263-6><a id=__codelineno-263-6 name=__codelineno-263-6 href=#__codelineno-263-6></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-263-7><a id=__codelineno-263-7 name=__codelineno-263-7 href=#__codelineno-263-7></a><span class=w>    </span><span class=k>struct</span><span class=w> </span><span class=nc>Node</span><span class=o>*</span><span class=w> </span><span class=n>temp</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=o>*</span><span class=n>head</span><span class=p>;</span>
</span><span id=__span-263-8><a id=__codelineno-263-8 name=__codelineno-263-8 href=#__codelineno-263-8></a><span class=w>    </span><span class=k>while</span><span class=w> </span><span class=p>(</span><span class=n>temp</span><span class=o>-&gt;</span><span class=n>next</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=nb>NULL</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>  </span><span class=c1>// 遍历到链表末尾</span>
</span><span id=__span-263-9><a id=__codelineno-263-9 name=__codelineno-263-9 href=#__codelineno-263-9></a><span class=w>        </span><span class=n>temp</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>temp</span><span class=o>-&gt;</span><span class=n>next</span><span class=p>;</span>
</span><span id=__span-263-10><a id=__codelineno-263-10 name=__codelineno-263-10 href=#__codelineno-263-10></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-263-11><a id=__codelineno-263-11 name=__codelineno-263-11 href=#__codelineno-263-11></a><span class=w>    </span><span class=n>temp</span><span class=o>-&gt;</span><span class=n>next</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>newNode</span><span class=p>;</span>
</span><span id=__span-263-12><a id=__codelineno-263-12 name=__codelineno-263-12 href=#__codelineno-263-12></a><span class=w>    </span><span class=n>newNode</span><span class=o>-&gt;</span><span class=n>prev</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>temp</span><span class=p>;</span>
</span><span id=__span-263-13><a id=__codelineno-263-13 name=__codelineno-263-13 href=#__codelineno-263-13></a><span class=p>}</span>
</span></code></pre></div> <ol start=2> <li><strong>从头部打印链表</strong></li> </ol> <div class="language-c highlight"><pre><span></span><code><span id=__span-264-1><a id=__codelineno-264-1 name=__codelineno-264-1 href=#__codelineno-264-1></a><span class=kt>void</span><span class=w> </span><span class=nf>printList</span><span class=p>(</span><span class=k>struct</span><span class=w> </span><span class=nc>Node</span><span class=o>*</span><span class=w> </span><span class=n>head</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-264-2><a id=__codelineno-264-2 name=__codelineno-264-2 href=#__codelineno-264-2></a><span class=w>    </span><span class=k>struct</span><span class=w> </span><span class=nc>Node</span><span class=o>*</span><span class=w> </span><span class=n>temp</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>head</span><span class=p>;</span>
</span><span id=__span-264-3><a id=__codelineno-264-3 name=__codelineno-264-3 href=#__codelineno-264-3></a><span class=w>    </span><span class=k>while</span><span class=w> </span><span class=p>(</span><span class=n>temp</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=nb>NULL</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-264-4><a id=__codelineno-264-4 name=__codelineno-264-4 href=#__codelineno-264-4></a><span class=w>        </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%d &lt;-&gt; &quot;</span><span class=p>,</span><span class=w> </span><span class=n>temp</span><span class=o>-&gt;</span><span class=n>data</span><span class=p>);</span>
</span><span id=__span-264-5><a id=__codelineno-264-5 name=__codelineno-264-5 href=#__codelineno-264-5></a><span class=w>        </span><span class=n>temp</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>temp</span><span class=o>-&gt;</span><span class=n>next</span><span class=p>;</span>
</span><span id=__span-264-6><a id=__codelineno-264-6 name=__codelineno-264-6 href=#__codelineno-264-6></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-264-7><a id=__codelineno-264-7 name=__codelineno-264-7 href=#__codelineno-264-7></a><span class=w>    </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;NULL</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>);</span>
</span><span id=__span-264-8><a id=__codelineno-264-8 name=__codelineno-264-8 href=#__codelineno-264-8></a><span class=p>}</span>
</span></code></pre></div> <ol start=3> <li><strong>从尾部打印链表</strong></li> </ol> <div class="language-c highlight"><pre><span></span><code><span id=__span-265-1><a id=__codelineno-265-1 name=__codelineno-265-1 href=#__codelineno-265-1></a><span class=kt>void</span><span class=w> </span><span class=nf>printReverse</span><span class=p>(</span><span class=k>struct</span><span class=w> </span><span class=nc>Node</span><span class=o>*</span><span class=w> </span><span class=n>head</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-265-2><a id=__codelineno-265-2 name=__codelineno-265-2 href=#__codelineno-265-2></a><span class=w>    </span><span class=k>struct</span><span class=w> </span><span class=nc>Node</span><span class=o>*</span><span class=w> </span><span class=n>temp</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>head</span><span class=p>;</span>
</span><span id=__span-265-3><a id=__codelineno-265-3 name=__codelineno-265-3 href=#__codelineno-265-3></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>temp</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=nb>NULL</span><span class=p>)</span><span class=w> </span><span class=k>return</span><span class=p>;</span>
</span><span id=__span-265-4><a id=__codelineno-265-4 name=__codelineno-265-4 href=#__codelineno-265-4></a>
</span><span id=__span-265-5><a id=__codelineno-265-5 name=__codelineno-265-5 href=#__codelineno-265-5></a><span class=w>    </span><span class=c1>// 遍历到链表末尾</span>
</span><span id=__span-265-6><a id=__codelineno-265-6 name=__codelineno-265-6 href=#__codelineno-265-6></a><span class=w>    </span><span class=k>while</span><span class=w> </span><span class=p>(</span><span class=n>temp</span><span class=o>-&gt;</span><span class=n>next</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=nb>NULL</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-265-7><a id=__codelineno-265-7 name=__codelineno-265-7 href=#__codelineno-265-7></a><span class=w>        </span><span class=n>temp</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>temp</span><span class=o>-&gt;</span><span class=n>next</span><span class=p>;</span>
</span><span id=__span-265-8><a id=__codelineno-265-8 name=__codelineno-265-8 href=#__codelineno-265-8></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-265-9><a id=__codelineno-265-9 name=__codelineno-265-9 href=#__codelineno-265-9></a>
</span><span id=__span-265-10><a id=__codelineno-265-10 name=__codelineno-265-10 href=#__codelineno-265-10></a><span class=w>    </span><span class=c1>// 从尾部向头部打印</span>
</span><span id=__span-265-11><a id=__codelineno-265-11 name=__codelineno-265-11 href=#__codelineno-265-11></a><span class=w>    </span><span class=k>while</span><span class=w> </span><span class=p>(</span><span class=n>temp</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=nb>NULL</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-265-12><a id=__codelineno-265-12 name=__codelineno-265-12 href=#__codelineno-265-12></a><span class=w>        </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%d &lt;-&gt; &quot;</span><span class=p>,</span><span class=w> </span><span class=n>temp</span><span class=o>-&gt;</span><span class=n>data</span><span class=p>);</span>
</span><span id=__span-265-13><a id=__codelineno-265-13 name=__codelineno-265-13 href=#__codelineno-265-13></a><span class=w>        </span><span class=n>temp</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>temp</span><span class=o>-&gt;</span><span class=n>prev</span><span class=p>;</span>
</span><span id=__span-265-14><a id=__codelineno-265-14 name=__codelineno-265-14 href=#__codelineno-265-14></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-265-15><a id=__codelineno-265-15 name=__codelineno-265-15 href=#__codelineno-265-15></a><span class=w>    </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;NULL</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>);</span>
</span><span id=__span-265-16><a id=__codelineno-265-16 name=__codelineno-265-16 href=#__codelineno-265-16></a><span class=p>}</span>
</span></code></pre></div> <ol start=4> <li><strong>删除节点</strong></li> </ol> <div class="language-c highlight"><pre><span></span><code><span id=__span-266-1><a id=__codelineno-266-1 name=__codelineno-266-1 href=#__codelineno-266-1></a><span class=kt>void</span><span class=w> </span><span class=nf>deleteNode</span><span class=p>(</span><span class=k>struct</span><span class=w> </span><span class=nc>Node</span><span class=o>**</span><span class=w> </span><span class=n>head</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>key</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-266-2><a id=__codelineno-266-2 name=__codelineno-266-2 href=#__codelineno-266-2></a><span class=w>    </span><span class=k>struct</span><span class=w> </span><span class=nc>Node</span><span class=o>*</span><span class=w> </span><span class=n>temp</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=o>*</span><span class=n>head</span><span class=p>;</span>
</span><span id=__span-266-3><a id=__codelineno-266-3 name=__codelineno-266-3 href=#__codelineno-266-3></a>
</span><span id=__span-266-4><a id=__codelineno-266-4 name=__codelineno-266-4 href=#__codelineno-266-4></a><span class=w>    </span><span class=c1>// 找到要删除的节点</span>
</span><span id=__span-266-5><a id=__codelineno-266-5 name=__codelineno-266-5 href=#__codelineno-266-5></a><span class=w>    </span><span class=k>while</span><span class=w> </span><span class=p>(</span><span class=n>temp</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=nb>NULL</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=n>temp</span><span class=o>-&gt;</span><span class=n>data</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=n>key</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-266-6><a id=__codelineno-266-6 name=__codelineno-266-6 href=#__codelineno-266-6></a><span class=w>        </span><span class=n>temp</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>temp</span><span class=o>-&gt;</span><span class=n>next</span><span class=p>;</span>
</span><span id=__span-266-7><a id=__codelineno-266-7 name=__codelineno-266-7 href=#__codelineno-266-7></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-266-8><a id=__codelineno-266-8 name=__codelineno-266-8 href=#__codelineno-266-8></a>
</span><span id=__span-266-9><a id=__codelineno-266-9 name=__codelineno-266-9 href=#__codelineno-266-9></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>temp</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=nb>NULL</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>  </span><span class=c1>// 未找到节点</span>
</span><span id=__span-266-10><a id=__codelineno-266-10 name=__codelineno-266-10 href=#__codelineno-266-10></a><span class=w>        </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;Node with data %d not found.</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=n>key</span><span class=p>);</span>
</span><span id=__span-266-11><a id=__codelineno-266-11 name=__codelineno-266-11 href=#__codelineno-266-11></a><span class=w>        </span><span class=k>return</span><span class=p>;</span>
</span><span id=__span-266-12><a id=__codelineno-266-12 name=__codelineno-266-12 href=#__codelineno-266-12></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-266-13><a id=__codelineno-266-13 name=__codelineno-266-13 href=#__codelineno-266-13></a>
</span><span id=__span-266-14><a id=__codelineno-266-14 name=__codelineno-266-14 href=#__codelineno-266-14></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>temp</span><span class=o>-&gt;</span><span class=n>prev</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=nb>NULL</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-266-15><a id=__codelineno-266-15 name=__codelineno-266-15 href=#__codelineno-266-15></a><span class=w>        </span><span class=n>temp</span><span class=o>-&gt;</span><span class=n>prev</span><span class=o>-&gt;</span><span class=n>next</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>temp</span><span class=o>-&gt;</span><span class=n>next</span><span class=p>;</span>
</span><span id=__span-266-16><a id=__codelineno-266-16 name=__codelineno-266-16 href=#__codelineno-266-16></a><span class=w>    </span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=p>{</span><span class=w>  </span><span class=c1>// 删除头节点</span>
</span><span id=__span-266-17><a id=__codelineno-266-17 name=__codelineno-266-17 href=#__codelineno-266-17></a><span class=w>        </span><span class=o>*</span><span class=n>head</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>temp</span><span class=o>-&gt;</span><span class=n>next</span><span class=p>;</span>
</span><span id=__span-266-18><a id=__codelineno-266-18 name=__codelineno-266-18 href=#__codelineno-266-18></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-266-19><a id=__codelineno-266-19 name=__codelineno-266-19 href=#__codelineno-266-19></a>
</span><span id=__span-266-20><a id=__codelineno-266-20 name=__codelineno-266-20 href=#__codelineno-266-20></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>temp</span><span class=o>-&gt;</span><span class=n>next</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=nb>NULL</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-266-21><a id=__codelineno-266-21 name=__codelineno-266-21 href=#__codelineno-266-21></a><span class=w>        </span><span class=n>temp</span><span class=o>-&gt;</span><span class=n>next</span><span class=o>-&gt;</span><span class=n>prev</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>temp</span><span class=o>-&gt;</span><span class=n>prev</span><span class=p>;</span>
</span><span id=__span-266-22><a id=__codelineno-266-22 name=__codelineno-266-22 href=#__codelineno-266-22></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-266-23><a id=__codelineno-266-23 name=__codelineno-266-23 href=#__codelineno-266-23></a>
</span><span id=__span-266-24><a id=__codelineno-266-24 name=__codelineno-266-24 href=#__codelineno-266-24></a><span class=w>    </span><span class=n>free</span><span class=p>(</span><span class=n>temp</span><span class=p>);</span>
</span><span id=__span-266-25><a id=__codelineno-266-25 name=__codelineno-266-25 href=#__codelineno-266-25></a><span class=p>}</span>
</span></code></pre></div> <p><strong>双向链表完整示例</strong></p> <div class="language-c highlight"><pre><span></span><code><span id=__span-267-1><a id=__codelineno-267-1 name=__codelineno-267-1 href=#__codelineno-267-1></a><span class=kt>int</span><span class=w> </span><span class=nf>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-267-2><a id=__codelineno-267-2 name=__codelineno-267-2 href=#__codelineno-267-2></a><span class=w>    </span><span class=k>struct</span><span class=w> </span><span class=nc>Node</span><span class=o>*</span><span class=w> </span><span class=n>head</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nb>NULL</span><span class=p>;</span>
</span><span id=__span-267-3><a id=__codelineno-267-3 name=__codelineno-267-3 href=#__codelineno-267-3></a>
</span><span id=__span-267-4><a id=__codelineno-267-4 name=__codelineno-267-4 href=#__codelineno-267-4></a><span class=w>    </span><span class=c1>// 插入节点</span>
</span><span id=__span-267-5><a id=__codelineno-267-5 name=__codelineno-267-5 href=#__codelineno-267-5></a><span class=w>    </span><span class=n>append</span><span class=p>(</span><span class=o>&amp;</span><span class=n>head</span><span class=p>,</span><span class=w> </span><span class=mi>10</span><span class=p>);</span>
</span><span id=__span-267-6><a id=__codelineno-267-6 name=__codelineno-267-6 href=#__codelineno-267-6></a><span class=w>    </span><span class=n>append</span><span class=p>(</span><span class=o>&amp;</span><span class=n>head</span><span class=p>,</span><span class=w> </span><span class=mi>20</span><span class=p>);</span>
</span><span id=__span-267-7><a id=__codelineno-267-7 name=__codelineno-267-7 href=#__codelineno-267-7></a><span class=w>    </span><span class=n>append</span><span class=p>(</span><span class=o>&amp;</span><span class=n>head</span><span class=p>,</span><span class=w> </span><span class=mi>30</span><span class=p>);</span>
</span><span id=__span-267-8><a id=__codelineno-267-8 name=__codelineno-267-8 href=#__codelineno-267-8></a>
</span><span id=__span-267-9><a id=__codelineno-267-9 name=__codelineno-267-9 href=#__codelineno-267-9></a><span class=w>    </span><span class=c1>// 正序打印链表</span>
</span><span id=__span-267-10><a id=__codelineno-267-10 name=__codelineno-267-10 href=#__codelineno-267-10></a><span class=w>    </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;Doubly Linked List: &quot;</span><span class=p>);</span>
</span><span id=__span-267-11><a id=__codelineno-267-11 name=__codelineno-267-11 href=#__codelineno-267-11></a><span class=w>    </span><span class=n>printList</span><span class=p>(</span><span class=n>head</span><span class=p>);</span>
</span><span id=__span-267-12><a id=__codelineno-267-12 name=__codelineno-267-12 href=#__codelineno-267-12></a>
</span><span id=__span-267-13><a id=__codelineno-267-13 name=__codelineno-267-13 href=#__codelineno-267-13></a><span class=w>    </span><span class=c1>// 倒序打印链表</span>
</span><span id=__span-267-14><a id=__codelineno-267-14 name=__codelineno-267-14 href=#__codelineno-267-14></a><span class=w>    </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;Reverse List: &quot;</span><span class=p>);</span>
</span><span id=__span-267-15><a id=__codelineno-267-15 name=__codelineno-267-15 href=#__codelineno-267-15></a><span class=w>    </span><span class=n>printReverse</span><span class=p>(</span><span class=n>head</span><span class=p>);</span>
</span><span id=__span-267-16><a id=__codelineno-267-16 name=__codelineno-267-16 href=#__codelineno-267-16></a>
</span><span id=__span-267-17><a id=__codelineno-267-17 name=__codelineno-267-17 href=#__codelineno-267-17></a><span class=w>    </span><span class=c1>// 删除节点</span>
</span><span id=__span-267-18><a id=__codelineno-267-18 name=__codelineno-267-18 href=#__codelineno-267-18></a><span class=w>    </span><span class=n>deleteNode</span><span class=p>(</span><span class=o>&amp;</span><span class=n>head</span><span class=p>,</span><span class=w> </span><span class=mi>20</span><span class=p>);</span>
</span><span id=__span-267-19><a id=__codelineno-267-19 name=__codelineno-267-19 href=#__codelineno-267-19></a><span class=w>    </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;After Deletion: &quot;</span><span class=p>);</span>
</span><span id=__span-267-20><a id=__codelineno-267-20 name=__codelineno-267-20 href=#__codelineno-267-20></a><span class=w>    </span><span class=n>printList</span><span class=p>(</span><span class=n>head</span><span class=p>);</span>
</span><span id=__span-267-21><a id=__codelineno-267-21 name=__codelineno-267-21 href=#__codelineno-267-21></a>
</span><span id=__span-267-22><a id=__codelineno-267-22 name=__codelineno-267-22 href=#__codelineno-267-22></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-267-23><a id=__codelineno-267-23 name=__codelineno-267-23 href=#__codelineno-267-23></a><span class=p>}</span>
</span></code></pre></div> <hr> <p><strong>总结</strong></p> <ul> <li>单向链表适合基本操作，结构简单。</li> <li>双向链表可以在两个方向上遍历，适合需要频繁前后移动的操作。</li> <li>操作中要特别注意指针的正确操作，避免内存泄漏或段错误 (<code>segmentation fault</code>)。</li> </ul> </div> <div class=tabbed-block> <p>在 C++ 中，可以使用类和指针来实现链表结构。以下是单向链表和双向链表的实现及常用操作的详细说明。</p> <hr> <p><strong>单向链表</strong></p> <p><strong>定义单向链表节点</strong></p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-268-1><a id=__codelineno-268-1 name=__codelineno-268-1 href=#__codelineno-268-1></a><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;iostream&gt;</span>
</span><span id=__span-268-2><a id=__codelineno-268-2 name=__codelineno-268-2 href=#__codelineno-268-2></a><span class=k>using</span><span class=w> </span><span class=k>namespace</span><span class=w> </span><span class=nn>std</span><span class=p>;</span>
</span><span id=__span-268-3><a id=__codelineno-268-3 name=__codelineno-268-3 href=#__codelineno-268-3></a>
</span><span id=__span-268-4><a id=__codelineno-268-4 name=__codelineno-268-4 href=#__codelineno-268-4></a><span class=c1>// 定义单向链表节点</span>
</span><span id=__span-268-5><a id=__codelineno-268-5 name=__codelineno-268-5 href=#__codelineno-268-5></a><span class=k>class</span><span class=w> </span><span class=nc>Node</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-268-6><a id=__codelineno-268-6 name=__codelineno-268-6 href=#__codelineno-268-6></a><span class=k>public</span><span class=o>:</span>
</span><span id=__span-268-7><a id=__codelineno-268-7 name=__codelineno-268-7 href=#__codelineno-268-7></a><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>data</span><span class=p>;</span><span class=w>        </span><span class=c1>// 节点数据</span>
</span><span id=__span-268-8><a id=__codelineno-268-8 name=__codelineno-268-8 href=#__codelineno-268-8></a><span class=w>    </span><span class=n>Node</span><span class=o>*</span><span class=w> </span><span class=n>next</span><span class=p>;</span><span class=w>      </span><span class=c1>// 指向下一个节点的指针</span>
</span><span id=__span-268-9><a id=__codelineno-268-9 name=__codelineno-268-9 href=#__codelineno-268-9></a>
</span><span id=__span-268-10><a id=__codelineno-268-10 name=__codelineno-268-10 href=#__codelineno-268-10></a><span class=w>    </span><span class=n>Node</span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>val</span><span class=p>)</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=n>data</span><span class=p>(</span><span class=n>val</span><span class=p>),</span><span class=w> </span><span class=n>next</span><span class=p>(</span><span class=k>nullptr</span><span class=p>)</span><span class=w> </span><span class=p>{}</span><span class=w>  </span><span class=c1>// 构造函数</span>
</span><span id=__span-268-11><a id=__codelineno-268-11 name=__codelineno-268-11 href=#__codelineno-268-11></a><span class=p>};</span>
</span></code></pre></div> <p><strong>定义单向链表类</strong></p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-269-1><a id=__codelineno-269-1 name=__codelineno-269-1 href=#__codelineno-269-1></a><span class=k>class</span><span class=w> </span><span class=nc>LinkedList</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-269-2><a id=__codelineno-269-2 name=__codelineno-269-2 href=#__codelineno-269-2></a><span class=k>private</span><span class=o>:</span>
</span><span id=__span-269-3><a id=__codelineno-269-3 name=__codelineno-269-3 href=#__codelineno-269-3></a><span class=w>    </span><span class=n>Node</span><span class=o>*</span><span class=w> </span><span class=n>head</span><span class=p>;</span><span class=w>  </span><span class=c1>// 指向头节点的指针</span>
</span><span id=__span-269-4><a id=__codelineno-269-4 name=__codelineno-269-4 href=#__codelineno-269-4></a>
</span><span id=__span-269-5><a id=__codelineno-269-5 name=__codelineno-269-5 href=#__codelineno-269-5></a><span class=k>public</span><span class=o>:</span>
</span><span id=__span-269-6><a id=__codelineno-269-6 name=__codelineno-269-6 href=#__codelineno-269-6></a><span class=w>    </span><span class=n>LinkedList</span><span class=p>()</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=n>head</span><span class=p>(</span><span class=k>nullptr</span><span class=p>)</span><span class=w> </span><span class=p>{}</span><span class=w>  </span><span class=c1>// 构造函数</span>
</span><span id=__span-269-7><a id=__codelineno-269-7 name=__codelineno-269-7 href=#__codelineno-269-7></a>
</span><span id=__span-269-8><a id=__codelineno-269-8 name=__codelineno-269-8 href=#__codelineno-269-8></a><span class=w>    </span><span class=c1>// 添加节点到链表末尾</span>
</span><span id=__span-269-9><a id=__codelineno-269-9 name=__codelineno-269-9 href=#__codelineno-269-9></a><span class=w>    </span><span class=kt>void</span><span class=w> </span><span class=n>append</span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>data</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-269-10><a id=__codelineno-269-10 name=__codelineno-269-10 href=#__codelineno-269-10></a><span class=w>        </span><span class=n>Node</span><span class=o>*</span><span class=w> </span><span class=n>newNode</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>Node</span><span class=p>(</span><span class=n>data</span><span class=p>);</span>
</span><span id=__span-269-11><a id=__codelineno-269-11 name=__codelineno-269-11 href=#__codelineno-269-11></a><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>head</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=k>nullptr</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-269-12><a id=__codelineno-269-12 name=__codelineno-269-12 href=#__codelineno-269-12></a><span class=w>            </span><span class=n>head</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>newNode</span><span class=p>;</span>
</span><span id=__span-269-13><a id=__codelineno-269-13 name=__codelineno-269-13 href=#__codelineno-269-13></a><span class=w>            </span><span class=k>return</span><span class=p>;</span>
</span><span id=__span-269-14><a id=__codelineno-269-14 name=__codelineno-269-14 href=#__codelineno-269-14></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-269-15><a id=__codelineno-269-15 name=__codelineno-269-15 href=#__codelineno-269-15></a><span class=w>        </span><span class=n>Node</span><span class=o>*</span><span class=w> </span><span class=n>temp</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>head</span><span class=p>;</span>
</span><span id=__span-269-16><a id=__codelineno-269-16 name=__codelineno-269-16 href=#__codelineno-269-16></a><span class=w>        </span><span class=k>while</span><span class=w> </span><span class=p>(</span><span class=n>temp</span><span class=o>-&gt;</span><span class=n>next</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=k>nullptr</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-269-17><a id=__codelineno-269-17 name=__codelineno-269-17 href=#__codelineno-269-17></a><span class=w>            </span><span class=n>temp</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>temp</span><span class=o>-&gt;</span><span class=n>next</span><span class=p>;</span>
</span><span id=__span-269-18><a id=__codelineno-269-18 name=__codelineno-269-18 href=#__codelineno-269-18></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-269-19><a id=__codelineno-269-19 name=__codelineno-269-19 href=#__codelineno-269-19></a><span class=w>        </span><span class=n>temp</span><span class=o>-&gt;</span><span class=n>next</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>newNode</span><span class=p>;</span>
</span><span id=__span-269-20><a id=__codelineno-269-20 name=__codelineno-269-20 href=#__codelineno-269-20></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-269-21><a id=__codelineno-269-21 name=__codelineno-269-21 href=#__codelineno-269-21></a>
</span><span id=__span-269-22><a id=__codelineno-269-22 name=__codelineno-269-22 href=#__codelineno-269-22></a><span class=w>    </span><span class=c1>// 打印链表</span>
</span><span id=__span-269-23><a id=__codelineno-269-23 name=__codelineno-269-23 href=#__codelineno-269-23></a><span class=w>    </span><span class=kt>void</span><span class=w> </span><span class=n>printList</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-269-24><a id=__codelineno-269-24 name=__codelineno-269-24 href=#__codelineno-269-24></a><span class=w>        </span><span class=n>Node</span><span class=o>*</span><span class=w> </span><span class=n>temp</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>head</span><span class=p>;</span>
</span><span id=__span-269-25><a id=__codelineno-269-25 name=__codelineno-269-25 href=#__codelineno-269-25></a><span class=w>        </span><span class=k>while</span><span class=w> </span><span class=p>(</span><span class=n>temp</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=k>nullptr</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-269-26><a id=__codelineno-269-26 name=__codelineno-269-26 href=#__codelineno-269-26></a><span class=w>            </span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>temp</span><span class=o>-&gt;</span><span class=n>data</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot; -&gt; &quot;</span><span class=p>;</span>
</span><span id=__span-269-27><a id=__codelineno-269-27 name=__codelineno-269-27 href=#__codelineno-269-27></a><span class=w>            </span><span class=n>temp</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>temp</span><span class=o>-&gt;</span><span class=n>next</span><span class=p>;</span>
</span><span id=__span-269-28><a id=__codelineno-269-28 name=__codelineno-269-28 href=#__codelineno-269-28></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-269-29><a id=__codelineno-269-29 name=__codelineno-269-29 href=#__codelineno-269-29></a><span class=w>        </span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;NULL&quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-269-30><a id=__codelineno-269-30 name=__codelineno-269-30 href=#__codelineno-269-30></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-269-31><a id=__codelineno-269-31 name=__codelineno-269-31 href=#__codelineno-269-31></a>
</span><span id=__span-269-32><a id=__codelineno-269-32 name=__codelineno-269-32 href=#__codelineno-269-32></a><span class=w>    </span><span class=c1>// 删除指定值的节点</span>
</span><span id=__span-269-33><a id=__codelineno-269-33 name=__codelineno-269-33 href=#__codelineno-269-33></a><span class=w>    </span><span class=kt>void</span><span class=w> </span><span class=n>deleteNode</span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>key</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-269-34><a id=__codelineno-269-34 name=__codelineno-269-34 href=#__codelineno-269-34></a><span class=w>        </span><span class=n>Node</span><span class=o>*</span><span class=w> </span><span class=n>temp</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>head</span><span class=p>;</span>
</span><span id=__span-269-35><a id=__codelineno-269-35 name=__codelineno-269-35 href=#__codelineno-269-35></a><span class=w>        </span><span class=n>Node</span><span class=o>*</span><span class=w> </span><span class=n>prev</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>nullptr</span><span class=p>;</span>
</span><span id=__span-269-36><a id=__codelineno-269-36 name=__codelineno-269-36 href=#__codelineno-269-36></a>
</span><span id=__span-269-37><a id=__codelineno-269-37 name=__codelineno-269-37 href=#__codelineno-269-37></a><span class=w>        </span><span class=c1>// 删除头节点</span>
</span><span id=__span-269-38><a id=__codelineno-269-38 name=__codelineno-269-38 href=#__codelineno-269-38></a><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>temp</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=k>nullptr</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=n>temp</span><span class=o>-&gt;</span><span class=n>data</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=n>key</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-269-39><a id=__codelineno-269-39 name=__codelineno-269-39 href=#__codelineno-269-39></a><span class=w>            </span><span class=n>head</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>temp</span><span class=o>-&gt;</span><span class=n>next</span><span class=p>;</span>
</span><span id=__span-269-40><a id=__codelineno-269-40 name=__codelineno-269-40 href=#__codelineno-269-40></a><span class=w>            </span><span class=k>delete</span><span class=w> </span><span class=n>temp</span><span class=p>;</span>
</span><span id=__span-269-41><a id=__codelineno-269-41 name=__codelineno-269-41 href=#__codelineno-269-41></a><span class=w>            </span><span class=k>return</span><span class=p>;</span>
</span><span id=__span-269-42><a id=__codelineno-269-42 name=__codelineno-269-42 href=#__codelineno-269-42></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-269-43><a id=__codelineno-269-43 name=__codelineno-269-43 href=#__codelineno-269-43></a>
</span><span id=__span-269-44><a id=__codelineno-269-44 name=__codelineno-269-44 href=#__codelineno-269-44></a><span class=w>        </span><span class=c1>// 查找要删除的节点</span>
</span><span id=__span-269-45><a id=__codelineno-269-45 name=__codelineno-269-45 href=#__codelineno-269-45></a><span class=w>        </span><span class=k>while</span><span class=w> </span><span class=p>(</span><span class=n>temp</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=k>nullptr</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=n>temp</span><span class=o>-&gt;</span><span class=n>data</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=n>key</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-269-46><a id=__codelineno-269-46 name=__codelineno-269-46 href=#__codelineno-269-46></a><span class=w>            </span><span class=n>prev</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>temp</span><span class=p>;</span>
</span><span id=__span-269-47><a id=__codelineno-269-47 name=__codelineno-269-47 href=#__codelineno-269-47></a><span class=w>            </span><span class=n>temp</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>temp</span><span class=o>-&gt;</span><span class=n>next</span><span class=p>;</span>
</span><span id=__span-269-48><a id=__codelineno-269-48 name=__codelineno-269-48 href=#__codelineno-269-48></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-269-49><a id=__codelineno-269-49 name=__codelineno-269-49 href=#__codelineno-269-49></a>
</span><span id=__span-269-50><a id=__codelineno-269-50 name=__codelineno-269-50 href=#__codelineno-269-50></a><span class=w>        </span><span class=c1>// 未找到节点</span>
</span><span id=__span-269-51><a id=__codelineno-269-51 name=__codelineno-269-51 href=#__codelineno-269-51></a><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>temp</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=k>nullptr</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-269-52><a id=__codelineno-269-52 name=__codelineno-269-52 href=#__codelineno-269-52></a><span class=w>            </span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;Node with value &quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>key</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot; not found.&quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-269-53><a id=__codelineno-269-53 name=__codelineno-269-53 href=#__codelineno-269-53></a><span class=w>            </span><span class=k>return</span><span class=p>;</span>
</span><span id=__span-269-54><a id=__codelineno-269-54 name=__codelineno-269-54 href=#__codelineno-269-54></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-269-55><a id=__codelineno-269-55 name=__codelineno-269-55 href=#__codelineno-269-55></a>
</span><span id=__span-269-56><a id=__codelineno-269-56 name=__codelineno-269-56 href=#__codelineno-269-56></a><span class=w>        </span><span class=c1>// 删除节点</span>
</span><span id=__span-269-57><a id=__codelineno-269-57 name=__codelineno-269-57 href=#__codelineno-269-57></a><span class=w>        </span><span class=n>prev</span><span class=o>-&gt;</span><span class=n>next</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>temp</span><span class=o>-&gt;</span><span class=n>next</span><span class=p>;</span>
</span><span id=__span-269-58><a id=__codelineno-269-58 name=__codelineno-269-58 href=#__codelineno-269-58></a><span class=w>        </span><span class=k>delete</span><span class=w> </span><span class=n>temp</span><span class=p>;</span>
</span><span id=__span-269-59><a id=__codelineno-269-59 name=__codelineno-269-59 href=#__codelineno-269-59></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-269-60><a id=__codelineno-269-60 name=__codelineno-269-60 href=#__codelineno-269-60></a>
</span><span id=__span-269-61><a id=__codelineno-269-61 name=__codelineno-269-61 href=#__codelineno-269-61></a><span class=w>    </span><span class=c1>// 析构函数：释放所有节点</span>
</span><span id=__span-269-62><a id=__codelineno-269-62 name=__codelineno-269-62 href=#__codelineno-269-62></a><span class=w>    </span><span class=o>~</span><span class=n>LinkedList</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-269-63><a id=__codelineno-269-63 name=__codelineno-269-63 href=#__codelineno-269-63></a><span class=w>        </span><span class=n>Node</span><span class=o>*</span><span class=w> </span><span class=n>temp</span><span class=p>;</span>
</span><span id=__span-269-64><a id=__codelineno-269-64 name=__codelineno-269-64 href=#__codelineno-269-64></a><span class=w>        </span><span class=k>while</span><span class=w> </span><span class=p>(</span><span class=n>head</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=k>nullptr</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-269-65><a id=__codelineno-269-65 name=__codelineno-269-65 href=#__codelineno-269-65></a><span class=w>            </span><span class=n>temp</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>head</span><span class=p>;</span>
</span><span id=__span-269-66><a id=__codelineno-269-66 name=__codelineno-269-66 href=#__codelineno-269-66></a><span class=w>            </span><span class=n>head</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>head</span><span class=o>-&gt;</span><span class=n>next</span><span class=p>;</span>
</span><span id=__span-269-67><a id=__codelineno-269-67 name=__codelineno-269-67 href=#__codelineno-269-67></a><span class=w>            </span><span class=k>delete</span><span class=w> </span><span class=n>temp</span><span class=p>;</span>
</span><span id=__span-269-68><a id=__codelineno-269-68 name=__codelineno-269-68 href=#__codelineno-269-68></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-269-69><a id=__codelineno-269-69 name=__codelineno-269-69 href=#__codelineno-269-69></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-269-70><a id=__codelineno-269-70 name=__codelineno-269-70 href=#__codelineno-269-70></a><span class=p>};</span>
</span></code></pre></div> <p><strong>单向链表完整示例</strong></p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-270-1><a id=__codelineno-270-1 name=__codelineno-270-1 href=#__codelineno-270-1></a><span class=kt>int</span><span class=w> </span><span class=nf>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-270-2><a id=__codelineno-270-2 name=__codelineno-270-2 href=#__codelineno-270-2></a><span class=w>    </span><span class=n>LinkedList</span><span class=w> </span><span class=n>list</span><span class=p>;</span>
</span><span id=__span-270-3><a id=__codelineno-270-3 name=__codelineno-270-3 href=#__codelineno-270-3></a>
</span><span id=__span-270-4><a id=__codelineno-270-4 name=__codelineno-270-4 href=#__codelineno-270-4></a><span class=w>    </span><span class=c1>// 添加节点</span>
</span><span id=__span-270-5><a id=__codelineno-270-5 name=__codelineno-270-5 href=#__codelineno-270-5></a><span class=w>    </span><span class=n>list</span><span class=p>.</span><span class=n>append</span><span class=p>(</span><span class=mi>10</span><span class=p>);</span>
</span><span id=__span-270-6><a id=__codelineno-270-6 name=__codelineno-270-6 href=#__codelineno-270-6></a><span class=w>    </span><span class=n>list</span><span class=p>.</span><span class=n>append</span><span class=p>(</span><span class=mi>20</span><span class=p>);</span>
</span><span id=__span-270-7><a id=__codelineno-270-7 name=__codelineno-270-7 href=#__codelineno-270-7></a><span class=w>    </span><span class=n>list</span><span class=p>.</span><span class=n>append</span><span class=p>(</span><span class=mi>30</span><span class=p>);</span>
</span><span id=__span-270-8><a id=__codelineno-270-8 name=__codelineno-270-8 href=#__codelineno-270-8></a>
</span><span id=__span-270-9><a id=__codelineno-270-9 name=__codelineno-270-9 href=#__codelineno-270-9></a><span class=w>    </span><span class=c1>// 打印链表</span>
</span><span id=__span-270-10><a id=__codelineno-270-10 name=__codelineno-270-10 href=#__codelineno-270-10></a><span class=w>    </span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;Linked List: &quot;</span><span class=p>;</span>
</span><span id=__span-270-11><a id=__codelineno-270-11 name=__codelineno-270-11 href=#__codelineno-270-11></a><span class=w>    </span><span class=n>list</span><span class=p>.</span><span class=n>printList</span><span class=p>();</span>
</span><span id=__span-270-12><a id=__codelineno-270-12 name=__codelineno-270-12 href=#__codelineno-270-12></a>
</span><span id=__span-270-13><a id=__codelineno-270-13 name=__codelineno-270-13 href=#__codelineno-270-13></a><span class=w>    </span><span class=c1>// 删除节点</span>
</span><span id=__span-270-14><a id=__codelineno-270-14 name=__codelineno-270-14 href=#__codelineno-270-14></a><span class=w>    </span><span class=n>list</span><span class=p>.</span><span class=n>deleteNode</span><span class=p>(</span><span class=mi>20</span><span class=p>);</span>
</span><span id=__span-270-15><a id=__codelineno-270-15 name=__codelineno-270-15 href=#__codelineno-270-15></a><span class=w>    </span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;After Deletion: &quot;</span><span class=p>;</span>
</span><span id=__span-270-16><a id=__codelineno-270-16 name=__codelineno-270-16 href=#__codelineno-270-16></a><span class=w>    </span><span class=n>list</span><span class=p>.</span><span class=n>printList</span><span class=p>();</span>
</span><span id=__span-270-17><a id=__codelineno-270-17 name=__codelineno-270-17 href=#__codelineno-270-17></a>
</span><span id=__span-270-18><a id=__codelineno-270-18 name=__codelineno-270-18 href=#__codelineno-270-18></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-270-19><a id=__codelineno-270-19 name=__codelineno-270-19 href=#__codelineno-270-19></a><span class=p>}</span>
</span></code></pre></div> <hr> <p><strong>双向链表</strong></p> <p><strong>定义双向链表节点</strong></p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-271-1><a id=__codelineno-271-1 name=__codelineno-271-1 href=#__codelineno-271-1></a><span class=k>class</span><span class=w> </span><span class=nc>Node</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-271-2><a id=__codelineno-271-2 name=__codelineno-271-2 href=#__codelineno-271-2></a><span class=k>public</span><span class=o>:</span>
</span><span id=__span-271-3><a id=__codelineno-271-3 name=__codelineno-271-3 href=#__codelineno-271-3></a><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>data</span><span class=p>;</span><span class=w>        </span><span class=c1>// 节点数据</span>
</span><span id=__span-271-4><a id=__codelineno-271-4 name=__codelineno-271-4 href=#__codelineno-271-4></a><span class=w>    </span><span class=n>Node</span><span class=o>*</span><span class=w> </span><span class=n>next</span><span class=p>;</span><span class=w>      </span><span class=c1>// 指向下一个节点</span>
</span><span id=__span-271-5><a id=__codelineno-271-5 name=__codelineno-271-5 href=#__codelineno-271-5></a><span class=w>    </span><span class=n>Node</span><span class=o>*</span><span class=w> </span><span class=n>prev</span><span class=p>;</span><span class=w>      </span><span class=c1>// 指向前一个节点</span>
</span><span id=__span-271-6><a id=__codelineno-271-6 name=__codelineno-271-6 href=#__codelineno-271-6></a>
</span><span id=__span-271-7><a id=__codelineno-271-7 name=__codelineno-271-7 href=#__codelineno-271-7></a><span class=w>    </span><span class=n>Node</span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>val</span><span class=p>)</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=n>data</span><span class=p>(</span><span class=n>val</span><span class=p>),</span><span class=w> </span><span class=n>next</span><span class=p>(</span><span class=k>nullptr</span><span class=p>),</span><span class=w> </span><span class=n>prev</span><span class=p>(</span><span class=k>nullptr</span><span class=p>)</span><span class=w> </span><span class=p>{}</span><span class=w>  </span><span class=c1>// 构造函数</span>
</span><span id=__span-271-8><a id=__codelineno-271-8 name=__codelineno-271-8 href=#__codelineno-271-8></a><span class=p>};</span>
</span></code></pre></div> <p><strong>定义双向链表类</strong></p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-272-1><a id=__codelineno-272-1 name=__codelineno-272-1 href=#__codelineno-272-1></a><span class=k>class</span><span class=w> </span><span class=nc>DoublyLinkedList</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-272-2><a id=__codelineno-272-2 name=__codelineno-272-2 href=#__codelineno-272-2></a><span class=k>private</span><span class=o>:</span>
</span><span id=__span-272-3><a id=__codelineno-272-3 name=__codelineno-272-3 href=#__codelineno-272-3></a><span class=w>    </span><span class=n>Node</span><span class=o>*</span><span class=w> </span><span class=n>head</span><span class=p>;</span><span class=w>  </span><span class=c1>// 指向头节点</span>
</span><span id=__span-272-4><a id=__codelineno-272-4 name=__codelineno-272-4 href=#__codelineno-272-4></a>
</span><span id=__span-272-5><a id=__codelineno-272-5 name=__codelineno-272-5 href=#__codelineno-272-5></a><span class=k>public</span><span class=o>:</span>
</span><span id=__span-272-6><a id=__codelineno-272-6 name=__codelineno-272-6 href=#__codelineno-272-6></a><span class=w>    </span><span class=n>DoublyLinkedList</span><span class=p>()</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=n>head</span><span class=p>(</span><span class=k>nullptr</span><span class=p>)</span><span class=w> </span><span class=p>{}</span><span class=w>  </span><span class=c1>// 构造函数</span>
</span><span id=__span-272-7><a id=__codelineno-272-7 name=__codelineno-272-7 href=#__codelineno-272-7></a>
</span><span id=__span-272-8><a id=__codelineno-272-8 name=__codelineno-272-8 href=#__codelineno-272-8></a><span class=w>    </span><span class=c1>// 添加节点到链表末尾</span>
</span><span id=__span-272-9><a id=__codelineno-272-9 name=__codelineno-272-9 href=#__codelineno-272-9></a><span class=w>    </span><span class=kt>void</span><span class=w> </span><span class=n>append</span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>data</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-272-10><a id=__codelineno-272-10 name=__codelineno-272-10 href=#__codelineno-272-10></a><span class=w>        </span><span class=n>Node</span><span class=o>*</span><span class=w> </span><span class=n>newNode</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>Node</span><span class=p>(</span><span class=n>data</span><span class=p>);</span>
</span><span id=__span-272-11><a id=__codelineno-272-11 name=__codelineno-272-11 href=#__codelineno-272-11></a><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>head</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=k>nullptr</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-272-12><a id=__codelineno-272-12 name=__codelineno-272-12 href=#__codelineno-272-12></a><span class=w>            </span><span class=n>head</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>newNode</span><span class=p>;</span>
</span><span id=__span-272-13><a id=__codelineno-272-13 name=__codelineno-272-13 href=#__codelineno-272-13></a><span class=w>            </span><span class=k>return</span><span class=p>;</span>
</span><span id=__span-272-14><a id=__codelineno-272-14 name=__codelineno-272-14 href=#__codelineno-272-14></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-272-15><a id=__codelineno-272-15 name=__codelineno-272-15 href=#__codelineno-272-15></a><span class=w>        </span><span class=n>Node</span><span class=o>*</span><span class=w> </span><span class=n>temp</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>head</span><span class=p>;</span>
</span><span id=__span-272-16><a id=__codelineno-272-16 name=__codelineno-272-16 href=#__codelineno-272-16></a><span class=w>        </span><span class=k>while</span><span class=w> </span><span class=p>(</span><span class=n>temp</span><span class=o>-&gt;</span><span class=n>next</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=k>nullptr</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-272-17><a id=__codelineno-272-17 name=__codelineno-272-17 href=#__codelineno-272-17></a><span class=w>            </span><span class=n>temp</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>temp</span><span class=o>-&gt;</span><span class=n>next</span><span class=p>;</span>
</span><span id=__span-272-18><a id=__codelineno-272-18 name=__codelineno-272-18 href=#__codelineno-272-18></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-272-19><a id=__codelineno-272-19 name=__codelineno-272-19 href=#__codelineno-272-19></a><span class=w>        </span><span class=n>temp</span><span class=o>-&gt;</span><span class=n>next</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>newNode</span><span class=p>;</span>
</span><span id=__span-272-20><a id=__codelineno-272-20 name=__codelineno-272-20 href=#__codelineno-272-20></a><span class=w>        </span><span class=n>newNode</span><span class=o>-&gt;</span><span class=n>prev</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>temp</span><span class=p>;</span>
</span><span id=__span-272-21><a id=__codelineno-272-21 name=__codelineno-272-21 href=#__codelineno-272-21></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-272-22><a id=__codelineno-272-22 name=__codelineno-272-22 href=#__codelineno-272-22></a>
</span><span id=__span-272-23><a id=__codelineno-272-23 name=__codelineno-272-23 href=#__codelineno-272-23></a><span class=w>    </span><span class=c1>// 从头部打印链表</span>
</span><span id=__span-272-24><a id=__codelineno-272-24 name=__codelineno-272-24 href=#__codelineno-272-24></a><span class=w>    </span><span class=kt>void</span><span class=w> </span><span class=n>printList</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-272-25><a id=__codelineno-272-25 name=__codelineno-272-25 href=#__codelineno-272-25></a><span class=w>        </span><span class=n>Node</span><span class=o>*</span><span class=w> </span><span class=n>temp</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>head</span><span class=p>;</span>
</span><span id=__span-272-26><a id=__codelineno-272-26 name=__codelineno-272-26 href=#__codelineno-272-26></a><span class=w>        </span><span class=k>while</span><span class=w> </span><span class=p>(</span><span class=n>temp</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=k>nullptr</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-272-27><a id=__codelineno-272-27 name=__codelineno-272-27 href=#__codelineno-272-27></a><span class=w>            </span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>temp</span><span class=o>-&gt;</span><span class=n>data</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot; &lt;-&gt; &quot;</span><span class=p>;</span>
</span><span id=__span-272-28><a id=__codelineno-272-28 name=__codelineno-272-28 href=#__codelineno-272-28></a><span class=w>            </span><span class=n>temp</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>temp</span><span class=o>-&gt;</span><span class=n>next</span><span class=p>;</span>
</span><span id=__span-272-29><a id=__codelineno-272-29 name=__codelineno-272-29 href=#__codelineno-272-29></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-272-30><a id=__codelineno-272-30 name=__codelineno-272-30 href=#__codelineno-272-30></a><span class=w>        </span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;NULL&quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-272-31><a id=__codelineno-272-31 name=__codelineno-272-31 href=#__codelineno-272-31></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-272-32><a id=__codelineno-272-32 name=__codelineno-272-32 href=#__codelineno-272-32></a>
</span><span id=__span-272-33><a id=__codelineno-272-33 name=__codelineno-272-33 href=#__codelineno-272-33></a><span class=w>    </span><span class=c1>// 从尾部打印链表（反向）</span>
</span><span id=__span-272-34><a id=__codelineno-272-34 name=__codelineno-272-34 href=#__codelineno-272-34></a><span class=w>    </span><span class=kt>void</span><span class=w> </span><span class=n>printReverse</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-272-35><a id=__codelineno-272-35 name=__codelineno-272-35 href=#__codelineno-272-35></a><span class=w>        </span><span class=n>Node</span><span class=o>*</span><span class=w> </span><span class=n>temp</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>head</span><span class=p>;</span>
</span><span id=__span-272-36><a id=__codelineno-272-36 name=__codelineno-272-36 href=#__codelineno-272-36></a><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>temp</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=k>nullptr</span><span class=p>)</span><span class=w> </span><span class=k>return</span><span class=p>;</span>
</span><span id=__span-272-37><a id=__codelineno-272-37 name=__codelineno-272-37 href=#__codelineno-272-37></a>
</span><span id=__span-272-38><a id=__codelineno-272-38 name=__codelineno-272-38 href=#__codelineno-272-38></a><span class=w>        </span><span class=c1>// 找到尾节点</span>
</span><span id=__span-272-39><a id=__codelineno-272-39 name=__codelineno-272-39 href=#__codelineno-272-39></a><span class=w>        </span><span class=k>while</span><span class=w> </span><span class=p>(</span><span class=n>temp</span><span class=o>-&gt;</span><span class=n>next</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=k>nullptr</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-272-40><a id=__codelineno-272-40 name=__codelineno-272-40 href=#__codelineno-272-40></a><span class=w>            </span><span class=n>temp</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>temp</span><span class=o>-&gt;</span><span class=n>next</span><span class=p>;</span>
</span><span id=__span-272-41><a id=__codelineno-272-41 name=__codelineno-272-41 href=#__codelineno-272-41></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-272-42><a id=__codelineno-272-42 name=__codelineno-272-42 href=#__codelineno-272-42></a>
</span><span id=__span-272-43><a id=__codelineno-272-43 name=__codelineno-272-43 href=#__codelineno-272-43></a><span class=w>        </span><span class=c1>// 从尾节点向头打印</span>
</span><span id=__span-272-44><a id=__codelineno-272-44 name=__codelineno-272-44 href=#__codelineno-272-44></a><span class=w>        </span><span class=k>while</span><span class=w> </span><span class=p>(</span><span class=n>temp</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=k>nullptr</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-272-45><a id=__codelineno-272-45 name=__codelineno-272-45 href=#__codelineno-272-45></a><span class=w>            </span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>temp</span><span class=o>-&gt;</span><span class=n>data</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot; &lt;-&gt; &quot;</span><span class=p>;</span>
</span><span id=__span-272-46><a id=__codelineno-272-46 name=__codelineno-272-46 href=#__codelineno-272-46></a><span class=w>            </span><span class=n>temp</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>temp</span><span class=o>-&gt;</span><span class=n>prev</span><span class=p>;</span>
</span><span id=__span-272-47><a id=__codelineno-272-47 name=__codelineno-272-47 href=#__codelineno-272-47></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-272-48><a id=__codelineno-272-48 name=__codelineno-272-48 href=#__codelineno-272-48></a><span class=w>        </span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;NULL&quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-272-49><a id=__codelineno-272-49 name=__codelineno-272-49 href=#__codelineno-272-49></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-272-50><a id=__codelineno-272-50 name=__codelineno-272-50 href=#__codelineno-272-50></a>
</span><span id=__span-272-51><a id=__codelineno-272-51 name=__codelineno-272-51 href=#__codelineno-272-51></a><span class=w>    </span><span class=c1>// 删除指定值的节点</span>
</span><span id=__span-272-52><a id=__codelineno-272-52 name=__codelineno-272-52 href=#__codelineno-272-52></a><span class=w>    </span><span class=kt>void</span><span class=w> </span><span class=n>deleteNode</span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>key</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-272-53><a id=__codelineno-272-53 name=__codelineno-272-53 href=#__codelineno-272-53></a><span class=w>        </span><span class=n>Node</span><span class=o>*</span><span class=w> </span><span class=n>temp</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>head</span><span class=p>;</span>
</span><span id=__span-272-54><a id=__codelineno-272-54 name=__codelineno-272-54 href=#__codelineno-272-54></a>
</span><span id=__span-272-55><a id=__codelineno-272-55 name=__codelineno-272-55 href=#__codelineno-272-55></a><span class=w>        </span><span class=c1>// 找到要删除的节点</span>
</span><span id=__span-272-56><a id=__codelineno-272-56 name=__codelineno-272-56 href=#__codelineno-272-56></a><span class=w>        </span><span class=k>while</span><span class=w> </span><span class=p>(</span><span class=n>temp</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=k>nullptr</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=n>temp</span><span class=o>-&gt;</span><span class=n>data</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=n>key</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-272-57><a id=__codelineno-272-57 name=__codelineno-272-57 href=#__codelineno-272-57></a><span class=w>            </span><span class=n>temp</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>temp</span><span class=o>-&gt;</span><span class=n>next</span><span class=p>;</span>
</span><span id=__span-272-58><a id=__codelineno-272-58 name=__codelineno-272-58 href=#__codelineno-272-58></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-272-59><a id=__codelineno-272-59 name=__codelineno-272-59 href=#__codelineno-272-59></a>
</span><span id=__span-272-60><a id=__codelineno-272-60 name=__codelineno-272-60 href=#__codelineno-272-60></a><span class=w>        </span><span class=c1>// 未找到节点</span>
</span><span id=__span-272-61><a id=__codelineno-272-61 name=__codelineno-272-61 href=#__codelineno-272-61></a><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>temp</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=k>nullptr</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-272-62><a id=__codelineno-272-62 name=__codelineno-272-62 href=#__codelineno-272-62></a><span class=w>            </span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;Node with value &quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>key</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot; not found.&quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-272-63><a id=__codelineno-272-63 name=__codelineno-272-63 href=#__codelineno-272-63></a><span class=w>            </span><span class=k>return</span><span class=p>;</span>
</span><span id=__span-272-64><a id=__codelineno-272-64 name=__codelineno-272-64 href=#__codelineno-272-64></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-272-65><a id=__codelineno-272-65 name=__codelineno-272-65 href=#__codelineno-272-65></a>
</span><span id=__span-272-66><a id=__codelineno-272-66 name=__codelineno-272-66 href=#__codelineno-272-66></a><span class=w>        </span><span class=c1>// 更新前后节点的指针</span>
</span><span id=__span-272-67><a id=__codelineno-272-67 name=__codelineno-272-67 href=#__codelineno-272-67></a><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>temp</span><span class=o>-&gt;</span><span class=n>prev</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=k>nullptr</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-272-68><a id=__codelineno-272-68 name=__codelineno-272-68 href=#__codelineno-272-68></a><span class=w>            </span><span class=n>temp</span><span class=o>-&gt;</span><span class=n>prev</span><span class=o>-&gt;</span><span class=n>next</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>temp</span><span class=o>-&gt;</span><span class=n>next</span><span class=p>;</span>
</span><span id=__span-272-69><a id=__codelineno-272-69 name=__codelineno-272-69 href=#__codelineno-272-69></a><span class=w>        </span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=p>{</span><span class=w>  </span><span class=c1>// 删除头节点</span>
</span><span id=__span-272-70><a id=__codelineno-272-70 name=__codelineno-272-70 href=#__codelineno-272-70></a><span class=w>            </span><span class=n>head</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>temp</span><span class=o>-&gt;</span><span class=n>next</span><span class=p>;</span>
</span><span id=__span-272-71><a id=__codelineno-272-71 name=__codelineno-272-71 href=#__codelineno-272-71></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-272-72><a id=__codelineno-272-72 name=__codelineno-272-72 href=#__codelineno-272-72></a>
</span><span id=__span-272-73><a id=__codelineno-272-73 name=__codelineno-272-73 href=#__codelineno-272-73></a><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>temp</span><span class=o>-&gt;</span><span class=n>next</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=k>nullptr</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-272-74><a id=__codelineno-272-74 name=__codelineno-272-74 href=#__codelineno-272-74></a><span class=w>            </span><span class=n>temp</span><span class=o>-&gt;</span><span class=n>next</span><span class=o>-&gt;</span><span class=n>prev</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>temp</span><span class=o>-&gt;</span><span class=n>prev</span><span class=p>;</span>
</span><span id=__span-272-75><a id=__codelineno-272-75 name=__codelineno-272-75 href=#__codelineno-272-75></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-272-76><a id=__codelineno-272-76 name=__codelineno-272-76 href=#__codelineno-272-76></a>
</span><span id=__span-272-77><a id=__codelineno-272-77 name=__codelineno-272-77 href=#__codelineno-272-77></a><span class=w>        </span><span class=k>delete</span><span class=w> </span><span class=n>temp</span><span class=p>;</span>
</span><span id=__span-272-78><a id=__codelineno-272-78 name=__codelineno-272-78 href=#__codelineno-272-78></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-272-79><a id=__codelineno-272-79 name=__codelineno-272-79 href=#__codelineno-272-79></a>
</span><span id=__span-272-80><a id=__codelineno-272-80 name=__codelineno-272-80 href=#__codelineno-272-80></a><span class=w>    </span><span class=c1>// 析构函数：释放所有节点</span>
</span><span id=__span-272-81><a id=__codelineno-272-81 name=__codelineno-272-81 href=#__codelineno-272-81></a><span class=w>    </span><span class=o>~</span><span class=n>DoublyLinkedList</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-272-82><a id=__codelineno-272-82 name=__codelineno-272-82 href=#__codelineno-272-82></a><span class=w>        </span><span class=n>Node</span><span class=o>*</span><span class=w> </span><span class=n>temp</span><span class=p>;</span>
</span><span id=__span-272-83><a id=__codelineno-272-83 name=__codelineno-272-83 href=#__codelineno-272-83></a><span class=w>        </span><span class=k>while</span><span class=w> </span><span class=p>(</span><span class=n>head</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=k>nullptr</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-272-84><a id=__codelineno-272-84 name=__codelineno-272-84 href=#__codelineno-272-84></a><span class=w>            </span><span class=n>temp</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>head</span><span class=p>;</span>
</span><span id=__span-272-85><a id=__codelineno-272-85 name=__codelineno-272-85 href=#__codelineno-272-85></a><span class=w>            </span><span class=n>head</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>head</span><span class=o>-&gt;</span><span class=n>next</span><span class=p>;</span>
</span><span id=__span-272-86><a id=__codelineno-272-86 name=__codelineno-272-86 href=#__codelineno-272-86></a><span class=w>            </span><span class=k>delete</span><span class=w> </span><span class=n>temp</span><span class=p>;</span>
</span><span id=__span-272-87><a id=__codelineno-272-87 name=__codelineno-272-87 href=#__codelineno-272-87></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-272-88><a id=__codelineno-272-88 name=__codelineno-272-88 href=#__codelineno-272-88></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-272-89><a id=__codelineno-272-89 name=__codelineno-272-89 href=#__codelineno-272-89></a><span class=p>};</span>
</span></code></pre></div> <p><strong>双向链表完整示例</strong></p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-273-1><a id=__codelineno-273-1 name=__codelineno-273-1 href=#__codelineno-273-1></a><span class=kt>int</span><span class=w> </span><span class=nf>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-273-2><a id=__codelineno-273-2 name=__codelineno-273-2 href=#__codelineno-273-2></a><span class=w>    </span><span class=n>DoublyLinkedList</span><span class=w> </span><span class=n>list</span><span class=p>;</span>
</span><span id=__span-273-3><a id=__codelineno-273-3 name=__codelineno-273-3 href=#__codelineno-273-3></a>
</span><span id=__span-273-4><a id=__codelineno-273-4 name=__codelineno-273-4 href=#__codelineno-273-4></a><span class=w>    </span><span class=c1>// 添加节点</span>
</span><span id=__span-273-5><a id=__codelineno-273-5 name=__codelineno-273-5 href=#__codelineno-273-5></a><span class=w>    </span><span class=n>list</span><span class=p>.</span><span class=n>append</span><span class=p>(</span><span class=mi>10</span><span class=p>);</span>
</span><span id=__span-273-6><a id=__codelineno-273-6 name=__codelineno-273-6 href=#__codelineno-273-6></a><span class=w>    </span><span class=n>list</span><span class=p>.</span><span class=n>append</span><span class=p>(</span><span class=mi>20</span><span class=p>);</span>
</span><span id=__span-273-7><a id=__codelineno-273-7 name=__codelineno-273-7 href=#__codelineno-273-7></a><span class=w>    </span><span class=n>list</span><span class=p>.</span><span class=n>append</span><span class=p>(</span><span class=mi>30</span><span class=p>);</span>
</span><span id=__span-273-8><a id=__codelineno-273-8 name=__codelineno-273-8 href=#__codelineno-273-8></a>
</span><span id=__span-273-9><a id=__codelineno-273-9 name=__codelineno-273-9 href=#__codelineno-273-9></a><span class=w>    </span><span class=c1>// 正序打印链表</span>
</span><span id=__span-273-10><a id=__codelineno-273-10 name=__codelineno-273-10 href=#__codelineno-273-10></a><span class=w>    </span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;Doubly Linked List: &quot;</span><span class=p>;</span>
</span><span id=__span-273-11><a id=__codelineno-273-11 name=__codelineno-273-11 href=#__codelineno-273-11></a><span class=w>    </span><span class=n>list</span><span class=p>.</span><span class=n>printList</span><span class=p>();</span>
</span><span id=__span-273-12><a id=__codelineno-273-12 name=__codelineno-273-12 href=#__codelineno-273-12></a>
</span><span id=__span-273-13><a id=__codelineno-273-13 name=__codelineno-273-13 href=#__codelineno-273-13></a><span class=w>    </span><span class=c1>// 反序打印链表</span>
</span><span id=__span-273-14><a id=__codelineno-273-14 name=__codelineno-273-14 href=#__codelineno-273-14></a><span class=w>    </span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;Reverse List: &quot;</span><span class=p>;</span>
</span><span id=__span-273-15><a id=__codelineno-273-15 name=__codelineno-273-15 href=#__codelineno-273-15></a><span class=w>    </span><span class=n>list</span><span class=p>.</span><span class=n>printReverse</span><span class=p>();</span>
</span><span id=__span-273-16><a id=__codelineno-273-16 name=__codelineno-273-16 href=#__codelineno-273-16></a>
</span><span id=__span-273-17><a id=__codelineno-273-17 name=__codelineno-273-17 href=#__codelineno-273-17></a><span class=w>    </span><span class=c1>// 删除节点</span>
</span><span id=__span-273-18><a id=__codelineno-273-18 name=__codelineno-273-18 href=#__codelineno-273-18></a><span class=w>    </span><span class=n>list</span><span class=p>.</span><span class=n>deleteNode</span><span class=p>(</span><span class=mi>20</span><span class=p>);</span>
</span><span id=__span-273-19><a id=__codelineno-273-19 name=__codelineno-273-19 href=#__codelineno-273-19></a><span class=w>    </span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;After Deletion: &quot;</span><span class=p>;</span>
</span><span id=__span-273-20><a id=__codelineno-273-20 name=__codelineno-273-20 href=#__codelineno-273-20></a><span class=w>    </span><span class=n>list</span><span class=p>.</span><span class=n>printList</span><span class=p>();</span>
</span><span id=__span-273-21><a id=__codelineno-273-21 name=__codelineno-273-21 href=#__codelineno-273-21></a>
</span><span id=__span-273-22><a id=__codelineno-273-22 name=__codelineno-273-22 href=#__codelineno-273-22></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-273-23><a id=__codelineno-273-23 name=__codelineno-273-23 href=#__codelineno-273-23></a><span class=p>}</span>
</span></code></pre></div> <hr> <p><strong>总结</strong></p> <p>单向链表优点</p> <ul> <li>结构简单，占用内存少。</li> <li>适合只需要从头到尾遍历的场景。</li> </ul> <p>双向链表优点</p> <ul> <li>支持从头部和尾部两个方向遍历，操作更加灵活。</li> <li>适合需要频繁插入、删除以及双向遍历的场景。</li> </ul> <p>链表的实现中要特别注意内存管理，防止内存泄漏。在 C++ 中，可以使用智能指针（如 <code>std::unique_ptr</code> 或 <code>std::shared_ptr</code>）来简化内存管理工作。</p> </div> </div> </div> <h2 id=_68>大程序结构<a class=headerlink href=#_68 title="Permanent link">&para;</a></h2> <p><a href=https://www.cnblogs.com/Roboduster/p/15315817.html>浅谈VScode中多文件项目的编译 -博客园</a></p> <p>将不同功能（函数）放到很多个.c文件中</p> <p>文件结构与内容：</p> <p>main.c，其中 <code>#include"func.h"</code></p> <p>func.h，其中写func函数的原型声明</p> <ul> <li>作用：“合同”，里面是func的原型</li> </ul> <p>func.c，其中 <code>#include"func.h"</code>，下面写函数的body</p> <h3 id=_69>头文件<a class=headerlink href=#_69 title="Permanent link">&para;</a></h3> <p>示例： <div class="language-c highlight"><pre><span></span><code><span id=__span-274-1><a id=__codelineno-274-1 name=__codelineno-274-1 href=#__codelineno-274-1></a><span class=c1>// hello.h</span>
</span><span id=__span-274-2><a id=__codelineno-274-2 name=__codelineno-274-2 href=#__codelineno-274-2></a><span class=cp>#ifndef HELLO_H</span>
</span><span id=__span-274-3><a id=__codelineno-274-3 name=__codelineno-274-3 href=#__codelineno-274-3></a><span class=cp>#define HELLO_H</span>
</span><span id=__span-274-4><a id=__codelineno-274-4 name=__codelineno-274-4 href=#__codelineno-274-4></a><span class=err>​</span>
</span><span id=__span-274-5><a id=__codelineno-274-5 name=__codelineno-274-5 href=#__codelineno-274-5></a><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;stdio.h&gt;</span>
</span><span id=__span-274-6><a id=__codelineno-274-6 name=__codelineno-274-6 href=#__codelineno-274-6></a><span class=err>​</span>
</span><span id=__span-274-7><a id=__codelineno-274-7 name=__codelineno-274-7 href=#__codelineno-274-7></a><span class=k>extern</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=n>greet</span><span class=p>(</span><span class=k>const</span><span class=w> </span><span class=kt>char</span><span class=w> </span><span class=o>*</span><span class=n>name</span><span class=p>);</span>
</span><span id=__span-274-8><a id=__codelineno-274-8 name=__codelineno-274-8 href=#__codelineno-274-8></a><span class=err>​</span>
</span><span id=__span-274-9><a id=__codelineno-274-9 name=__codelineno-274-9 href=#__codelineno-274-9></a><span class=cp>#endif </span><span class=c1>// HELLO_H</span>
</span><span id=__span-274-10><a id=__codelineno-274-10 name=__codelineno-274-10 href=#__codelineno-274-10></a><span class=err>​</span>
</span><span id=__span-274-11><a id=__codelineno-274-11 name=__codelineno-274-11 href=#__codelineno-274-11></a><span class=c1>// hello.c</span>
</span><span id=__span-274-12><a id=__codelineno-274-12 name=__codelineno-274-12 href=#__codelineno-274-12></a><span class=cp>#include</span><span class=w> </span><span class=cpf>&quot;hello.h&quot;</span>
</span><span id=__span-274-13><a id=__codelineno-274-13 name=__codelineno-274-13 href=#__codelineno-274-13></a><span class=err>​</span>
</span><span id=__span-274-14><a id=__codelineno-274-14 name=__codelineno-274-14 href=#__codelineno-274-14></a><span class=kt>void</span><span class=w> </span><span class=n>greet</span><span class=p>(</span><span class=k>const</span><span class=w> </span><span class=kt>char</span><span class=w> </span><span class=o>*</span><span class=n>name</span><span class=p>)</span>
</span><span id=__span-274-15><a id=__codelineno-274-15 name=__codelineno-274-15 href=#__codelineno-274-15></a><span class=p>{</span>
</span><span id=__span-274-16><a id=__codelineno-274-16 name=__codelineno-274-16 href=#__codelineno-274-16></a><span class=w>    </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;Hello, %s!</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=n>name</span><span class=p>);</span>
</span><span id=__span-274-17><a id=__codelineno-274-17 name=__codelineno-274-17 href=#__codelineno-274-17></a><span class=p>}</span>
</span><span id=__span-274-18><a id=__codelineno-274-18 name=__codelineno-274-18 href=#__codelineno-274-18></a><span class=err>​</span>
</span><span id=__span-274-19><a id=__codelineno-274-19 name=__codelineno-274-19 href=#__codelineno-274-19></a><span class=c1>// main.c</span>
</span><span id=__span-274-20><a id=__codelineno-274-20 name=__codelineno-274-20 href=#__codelineno-274-20></a><span class=cp>#include</span><span class=w> </span><span class=cpf>&quot;hello.h&quot;</span>
</span><span id=__span-274-21><a id=__codelineno-274-21 name=__codelineno-274-21 href=#__codelineno-274-21></a><span class=err>​</span>
</span><span id=__span-274-22><a id=__codelineno-274-22 name=__codelineno-274-22 href=#__codelineno-274-22></a><span class=kt>int</span><span class=w> </span><span class=n>main</span><span class=p>(){</span>
</span><span id=__span-274-23><a id=__codelineno-274-23 name=__codelineno-274-23 href=#__codelineno-274-23></a><span class=w>    </span><span class=n>greet</span><span class=p>(</span><span class=s>&quot;各位大佬!&quot;</span><span class=p>);</span>
</span><span id=__span-274-24><a id=__codelineno-274-24 name=__codelineno-274-24 href=#__codelineno-274-24></a><span class=p>}</span>
</span></code></pre></div></p> <p><strong>知识</strong></p> <p>把<em>函数原型</em>放到一个头文件(以.h结尾)中，在需要调用这个函数的源代码文件(.c文件)中#include这个头文件，就能让编译器在编译的时候知道函数的原刑</p> <p><code>#include</code>:编译预处理指令，和宏一样，在编译之前就处理了</p> <p>它把include后面那个文件的全部文本内容 原封不动地插入到include语句所在的地方，所以也不是一定要在.c文件的最前面#include</p> <p><strong>注意：</strong> 在定义和使用这个函数的地方都要 <code>include"func.h"</code>；一般情况：任何.c都有同名的.h，把所有<em>对外公开的</em>函数原型和全局变量的声明都放进去。</p> <p><strong>补充</strong>：不对外公开：加 <code>static</code> 函数前面加它代表只有他在的这个.c文件（编译单元）可以用它，其他不行；全局变量前面加它代表他只是这个.c文件（编译单元）中可以使用的全局变量。</p> <p><a class=glightbox href=../res/images/image-9_1.png data-type=image data-width=auto data-height=auto data-desc-position=bottom><img alt="alt text" src=../res/images/image-9_1.png></a></p> <p><strong>语法</strong>：</p> <ul> <li> <p><code>""</code> or <code>&lt;&gt;</code></p> <ul> <li> <p><code>""</code> 先在当前目录下找这个文件，找不到再去别的目录下找，一般用于自己写的</p> </li> <li> <p><code>&lt;&gt;</code> 不会在当前目录下找，一般用于系统的标准库头文件(在/usr/include目录下，另外有c++目录里面是cpp的头文件)</p> </li> </ul> <p>命令行可以<code>more stdio.h</code> 一点点看，<code>code stdio.h</code> 的效果和<code>ctrl + click</code> 相同hhh</p> </li> <li> <p>标准头文件结构</p> <div class="language-c highlight"><pre><span></span><code><span id=__span-275-1><a id=__codelineno-275-1 name=__codelineno-275-1 href=#__codelineno-275-1></a><span class=cp>#ifndef __FILENAME_H__</span>
</span><span id=__span-275-2><a id=__codelineno-275-2 name=__codelineno-275-2 href=#__codelineno-275-2></a><span class=cp>#define __FILENAME_H__</span>
</span><span id=__span-275-3><a id=__codelineno-275-3 name=__codelineno-275-3 href=#__codelineno-275-3></a>
</span><span id=__span-275-4><a id=__codelineno-275-4 name=__codelineno-275-4 href=#__codelineno-275-4></a><span class=c1>//代码块</span>
</span><span id=__span-275-5><a id=__codelineno-275-5 name=__codelineno-275-5 href=#__codelineno-275-5></a>
</span><span id=__span-275-6><a id=__codelineno-275-6 name=__codelineno-275-6 href=#__codelineno-275-6></a><span class=cp>#endif</span>
</span></code></pre></div> </li> </ul> <p><strong>理解</strong>：include不是在引入库，只是文本替换</p> <h3 id=_70>声明<a class=headerlink href=#_70 title="Permanent link">&para;</a></h3> <p>对于在一个.c文件（不是main.c，假设是func.c）定义的全局变量，要想在main.c访问它，需要在对应的func.h声明（声明变量）；</p> <p><strong>语法</strong>:</p> <p>func.h： <code>extern int VARIBLENAME</code> </p> <p>func.c：<code>int VARIBLENAME = 12</code> (在全局变量的位置，最外面)</p> <h2 id=_71>文件<a class=headerlink href=#_71 title="Permanent link">&para;</a></h2> <h3 id=_72>格式化输入输出<a class=headerlink href=#_72 title="Permanent link">&para;</a></h3> <p><code>printf : %[flags][width][.prec][hlL]type</code></p> <table> <thead> <tr> <th><strong>部分</strong></th> <th><strong>说明</strong></th> <th><strong>示例代码</strong></th> <th><strong>输出</strong></th> </tr> </thead> <tbody> <tr> <td><strong><code>%</code></strong></td> <td>格式说明符的起始标志。</td> <td><code>printf("Value: %d\n", 42);</code></td> <td><code>Value: 42</code></td> </tr> <tr> <td><strong><code>[flags]</code></strong></td> <td>可选标志，用于修改输出格式：</td> <td></td> <td></td> </tr> <tr> <td>- <code>-</code></td> <td>左对齐输出（默认右对齐）。</td> <td><code>printf("\|%-10d\|\n", 42);</code></td> <td><code>\|42 \|</code></td> </tr> <tr> <td>- <code>+</code></td> <td>输出符号（正数带<code>+</code>，负数带<code>-</code>）。</td> <td><code>printf("%+d\n", 42); printf("%+d\n", -42);</code></td> <td><code>+42</code> <code>-42</code></td> </tr> <tr> <td>- <code>空格</code></td> <td>正数前加空格，负数前加<code>-</code>。</td> <td><code>printf("\|% d\|\n", 42); printf("\|% d\|\n", -42);</code></td> <td><code>\| 42\|</code> <code>\|-42\|</code></td> </tr> <tr> <td>- <code>0</code></td> <td>用<code>0</code>填充宽度（在数字前有效）。</td> <td><code>printf("%05d\n", 42);</code></td> <td><code>00042</code></td> </tr> <tr> <td>- <code>#</code></td> <td>启用格式依赖的功能（例如八进制/十六进制前缀）。</td> <td><code>printf("%#x\n", 42); printf("%#o\n", 42);</code></td> <td><code>0x2a</code> <code>052</code></td> </tr> <tr> <td><strong><code>[width]</code></strong></td> <td>最小输出宽度（整数）。输出不足时用空格填充，超过时无影响。</td> <td><code>printf("\|%10d\|\n", 42); printf("\|%3d\|\n", 12345);</code></td> <td><code>\| 42\|</code> <code>\|12345\|</code></td> </tr> <tr> <td>- <code>*</code></td> <td>下一个参数是字符占位数（那个参数替换<code>*</code>）</td> <td><code>printf("%0*d\n", 7, 42);</code></td> <td><code>0000042</code></td> </tr> <tr> <td><strong><code>[.prec]</code></strong></td> <td>精度控制：</td> <td></td> <td></td> </tr> <tr> <td>- <code>.</code></td> <td>指定浮点数的小数位数或字符串最大字符数。</td> <td><code>printf("%.2f\n", 3.14159); printf("%.3s\n", "Hello");</code></td> <td><code>3.14</code> <code>Hel</code></td> </tr> <tr> <td>- 整数部分</td> <td>对整数无影响（不推荐使用）。</td> <td><code>printf("%.5d\n", 42);</code></td> <td><code>00042</code></td> </tr> <tr> <td>- <code>.*</code></td> <td>下一个参数是小数点后的位数</td> <td><code>printf("%*lf\n", 5, 0.5);</code></td> <td><code>0.50000</code></td> </tr> <tr> <td><strong><code>[hIL]</code></strong></td> <td>长度修饰符：控制输入数据的大小。</td> <td></td> <td></td> </tr> <tr> <td>- <code>h</code></td> <td>短整数类型（<code>short</code>）。</td> <td><code>short s = 42; printf("%hd\n", s);</code></td> <td><code>42</code></td> </tr> <tr> <td>- <code>l</code></td> <td>长整数类型（<code>long</code>）。</td> <td><code>long l = 123456789; printf("%ld\n", l);</code></td> <td><code>123456789</code></td> </tr> <tr> <td>- <code>ll</code></td> <td>长长整数类型（<code>long long</code>）。</td> <td><code>long long ll = 123456789012345; printf("%lld\n", ll);</code></td> <td><code>123456789012345</code></td> </tr> <tr> <td>- <code>L</code></td> <td>长浮点类型（<code>long double</code>）。</td> <td><code>long double ld = 3.141592653589; printf("%Lf\n", ld);</code></td> <td><code>3.141593</code></td> </tr> <tr> <td><strong><code>type</code></strong></td> <td>数据类型，定义如何解释数据并输出：</td> <td></td> <td></td> </tr> <tr> <td>- <code>d</code>/<code>i</code></td> <td>带符号整数（十进制）。</td> <td><code>printf("%d\n", 42); printf("%d\n", -42);</code></td> <td><code>42</code> <code>-42</code></td> </tr> <tr> <td>- <code>u</code></td> <td>无符号整数（十进制）。</td> <td><code>printf("%u\n", 42);</code></td> <td><code>42</code></td> </tr> <tr> <td>- <code>f</code></td> <td>浮点数（小数形式）。</td> <td><code>printf("%.2f\n", 3.14159);</code></td> <td><code>3.14</code></td> </tr> <tr> <td>- <code>x</code>/<code>X</code></td> <td>无符号整数（十六进制）。</td> <td><code>printf("%x\n", 42); printf("%X\n", 42);</code></td> <td><code>2a</code> <code>2A</code></td> </tr> <tr> <td>- <code>o</code></td> <td>无符号整数（八进制）。</td> <td><code>printf("%o\n", 42);</code></td> <td><code>52</code></td> </tr> <tr> <td>- <code>c</code></td> <td>单个字符。</td> <td>`printf("%c\n", 'A');</td> <td></td> </tr> <tr> <td>- <code>s</code></td> <td>字符串。</td> <td><code>printf("%s\n", "Hello");</code></td> <td><code>Hello</code></td> </tr> <tr> <td>- <code>p</code></td> <td>指针地址。</td> <td><code>printf("%p\n", (void*)&amp;main);</code></td> <td>类似于 <code>0x7ffc...</code></td> </tr> <tr> <td>- <code>%</code></td> <td>输出百分号本身。</td> <td><code>printf("100%% Complete\n");</code></td> <td><code>100% Complete</code></td> </tr> <tr> <td>- <code>e</code></td> <td>科学计数法表示的浮点数（小写）。</td> <td><code>printf("%e\n", 12345.6789);</code></td> <td><code>1.234568e+04</code></td> </tr> <tr> <td>- <code>E</code></td> <td>科学计数法表示的浮点数（大写）。</td> <td><code>printf("%E\n", 12345.6789);</code></td> <td><code>1.234568E+04</code></td> </tr> <tr> <td>- <code>n</code></td> <td>将到目前为止读入/写出的字符数存储到指定的变量中。</td> <td><code>int n; printf("Hello%n\n", &amp;n); printf("Chars: %d\n", n);</code></td> <td><code>Hello</code> 和 <code>Chars: 5</code></td> </tr> <tr> <td>- <code>a</code></td> <td>十六进制表示的浮点数（小写），符合 C99 标准。</td> <td><code>printf("%a\n", 123.45);</code></td> <td><code>0x1.edp+06</code></td> </tr> <tr> <td>- <code>A</code></td> <td>十六进制表示的浮点数（大写），符合 C99 标准。</td> <td><code>printf("%A\n", 123.45);</code></td> <td><code>0X1.EDP+06</code></td> </tr> <tr> <td>- <code>G</code></td> <td>根据值自动选择<code>%E</code>或<code>%f</code>格式（大写）。</td> <td><code>printf("%G\n", 12345.6789);</code></td> <td><code>12345.7</code></td> </tr> <tr> <td>- <code>g</code></td> <td>根据值自动选择<code>%e</code>或<code>%f</code>格式（小写）。</td> <td><code>printf("%g\n", 12345.6789);</code></td> <td><code>12345.7</code></td> </tr> </tbody> </table> <div class="language-c highlight"><pre><span></span><code><span id=__span-276-1><a id=__codelineno-276-1 name=__codelineno-276-1 href=#__codelineno-276-1></a><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%9.3f</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=mf>123.0</span><span class=p>)</span>
</span><span id=__span-276-2><a id=__codelineno-276-2 name=__codelineno-276-2 href=#__codelineno-276-2></a><span class=c1>//连带小数点前后总共占9位</span>
</span></code></pre></div> <p><code>scanf : %[flag]type</code></p> <table> <thead> <tr> <th><strong>部分</strong></th> <th><strong>说明</strong></th> <th><strong>示例代码</strong></th> <th><strong>输入示例</strong></th> <th><strong>结果</strong></th> </tr> </thead> <tbody> <tr> <td><strong><code>%</code></strong></td> <td>格式说明符的起始标志。</td> <td><code>scanf("%d", &amp;x);</code></td> <td><code>42</code></td> <td><code>x = 42</code></td> </tr> <tr> <td><strong><code>[flags]</code></strong></td> <td>可选标志，用于修改输入格式：</td> <td></td> <td></td> <td></td> </tr> <tr> <td>- <code>*</code></td> <td>忽略当前输入项，不将其存储到变量中。</td> <td><code>scanf("%*d %d", &amp;x);</code></td> <td><code>42 24</code></td> <td><code>x = 24</code></td> </tr> <tr> <td>- <code>数字</code></td> <td>限定最大读取字符数（仅对字符串和字符数组有效）。</td> <td><code>scanf("%5s", str);</code></td> <td><code>HelloWorld</code></td> <td><code>str = "Hello"</code></td> </tr> <tr> <td><strong><code>type</code></strong></td> <td>数据类型，定义如何读取输入并存储到变量：</td> <td></td> <td></td> <td></td> </tr> <tr> <td>- <code>d</code></td> <td>读取十进制整数。</td> <td><code>scanf("%d", &amp;x);</code></td> <td><code>42</code></td> <td><code>x = 42</code></td> </tr> <tr> <td>- <code>i</code></td> <td>读取整数，支持十进制、八进制（以<code>0</code>开头）和十六进制（以<code>0x</code>开头）。</td> <td><code>scanf("%i", &amp;x);</code></td> <td><code>042</code> 或 <code>0x2A</code></td> <td><code>x = 34</code> 或 <code>x = 42</code></td> </tr> <tr> <td>- <code>u</code></td> <td>读取无符号整数。</td> <td><code>scanf("%u", &amp;x);</code></td> <td><code>42</code></td> <td><code>x = 42</code></td> </tr> <tr> <td>- <code>f</code></td> <td>读取浮点数。</td> <td><code>scanf("%f", &amp;x);</code></td> <td><code>3.14</code></td> <td><code>x = 3.14</code></td> </tr> <tr> <td>- <code>lf</code></td> <td>读取双精度浮点数。</td> <td><code>scanf("%lf", &amp;x);</code></td> <td><code>3.14159</code></td> <td><code>x = 3.14159</code></td> </tr> <tr> <td>- <code>c</code></td> <td>读取单个字符（包括空格和控制字符）。</td> <td><code>scanf("%c", &amp;c);</code></td> <td><code>A</code></td> <td><code>c = 'A'</code></td> </tr> <tr> <td>- <code>s</code></td> <td>读取字符串（以空格、换行或制表符为分隔符）。</td> <td><code>scanf("%s", str);</code></td> <td><code>Hello</code></td> <td><code>str = "Hello"</code></td> </tr> <tr> <td>- <code>[set]</code></td> <td>读取指定字符集中的字符，直到遇到不匹配的字符或输入结束。</td> <td><code>scanf("%[A-Za-z]", str);</code></td> <td><code>Hello123</code></td> <td><code>str = "Hello"</code></td> </tr> <tr> <td>- <code>[^set]</code></td> <td>读取非指定字符集中的字符，直到遇到匹配的字符或输入结束。</td> <td><code>scanf("%[^0-9]", str);</code></td> <td><code>Hello123</code></td> <td><code>str = "Hello"</code></td> </tr> <tr> <td>- <code>p</code></td> <td>读取指针地址。</td> <td><code>scanf("%p", &amp;ptr);</code></td> <td>类似 <code>0x7ffc...</code></td> <td><code>ptr = 地址值</code></td> </tr> <tr> <td>- <code>%</code></td> <td>匹配并读取输入中的百分号字符（<code>%</code>）。</td> <td><code>scanf("%%");</code></td> <td><code>%</code></td> <td>无变量存储</td> </tr> <tr> <td>- <code>o</code></td> <td>读取无符号八进制整数。</td> <td><code>scanf("%o", &amp;x);</code></td> <td><code>52</code></td> <td><code>x = 42</code></td> </tr> <tr> <td>- <code>x</code>/<code>X</code></td> <td>读取无符号十六进制整数。</td> <td><code>scanf("%x", &amp;x);</code></td> <td><code>2A</code> 或 <code>2a</code></td> <td><code>x = 42</code></td> </tr> <tr> <td>- <code>u</code></td> <td>读取无符号整数（十进制）。</td> <td><code>scanf("%u", &amp;x);</code></td> <td><code>42</code></td> <td><code>x = 42</code></td> </tr> <tr> <td>- <code>a</code></td> <td>读取浮点数并自动选择最合适的表示（符合 C99 标准）。</td> <td><code>scanf("%a", &amp;x);</code></td> <td><code>0x1.5p3</code></td> <td><code>x = 10.5</code></td> </tr> <tr> <td>- <code>e</code></td> <td>读取科学计数法格式的浮点数（小写）。</td> <td><code>scanf("%e", &amp;x);</code></td> <td><code>1.23e4</code></td> <td><code>x = 12300.0</code></td> </tr> <tr> <td>- <code>f</code></td> <td>读取浮点数（小数形式）。</td> <td><code>scanf("%f", &amp;x);</code></td> <td><code>3.14</code></td> <td><code>x = 3.14</code></td> </tr> <tr> <td>- <code>g</code></td> <td>读取浮点数，自动选择科学计数法或小数形式（小写）。</td> <td><code>scanf("%g", &amp;x);</code></td> <td><code>1.23e4</code> 或 <code>123.4</code></td> <td><code>x = 12300.0</code> 或 <code>123.4</code></td> </tr> <tr> <td>- <code>G</code></td> <td>读取浮点数，自动选择科学计数法或小数形式（大写）。</td> <td><code>scanf("%G", &amp;x);</code></td> <td><code>1.23E4</code> 或 <code>123.4</code></td> <td><code>x = 12300.0</code> 或 <code>123.4</code></td> </tr> </tbody> </table> <p><a class=glightbox href=../res/images/image-12_1.png data-type=image data-width=auto data-height=auto data-desc-position=bottom><img alt="alt text" src=../res/images/image-12_1.png></a></p> <p><strong>printf scanf的返回值</strong></p> <ul> <li>scanf：读入的字符数</li> <li>printf：输出的字符数</li> </ul> <p>大型程序中，应该判断每次调用scanf和printf的返回值，从而了解程序运行中是否存在问题。</p> <h3 id=_73>基本概念<a class=headerlink href=#_73 title="Permanent link">&para;</a></h3> <p>在C语言中，文件操作是一种将程序数据持久化到存储设备（如硬盘）中的方式，可以读取和写入数据到文件中。文件操作的核心思想是通过<strong>文件指针</strong>来访问文件，文件指针是一个连接程序和文件的桥梁。</p> <hr> <h4 id=_74>文件与流<a class=headerlink href=#_74 title="Permanent link">&para;</a></h4> <ul> <li> <p><strong>文件（File）</strong><br> 文件是存储在存储设备上的数据集合，可以是文本文件（如 <code>.txt</code>）或二进制文件（如 <code>.bin</code>）。C语言通过文件操作函数访问文件内容。</p> </li> <li> <p><strong>流（Stream）</strong><br> 流是文件与程序之间数据传输的抽象。通过流，数据可以从程序写入文件，或从文件读取到程序。</p> </li> </ul> <hr> <h4 id=_75>文件指针<a class=headerlink href=#_75 title="Permanent link">&para;</a></h4> <ul> <li>类型为 <code>FILE*</code> 的指针，定义在 <code>stdio.h</code> 中，用于标识程序与文件之间的连接。</li> </ul> <p>使用：</p> <ol> <li>使用 <code>fopen</code> 打开文件并获取指针。</li> <li>操作文件（读/写/定位）。</li> <li>使用 <code>fclose</code> 关闭文件并释放资源。</li> </ol> <p><strong>文件指针会随着在文件中写入内容而移动</strong>。</p> <ul> <li><strong><code>fprintf</code>、<code>fwrite</code> 等写操作</strong>：文件指针会移动到写入数据的末尾。</li> <li><strong><code>fseek</code> 和 <code>ftell</code></strong>：可以用于手动调整和检查文件指针的位置。</li> </ul> <hr> <h3 id=_76>示例代码<a class=headerlink href=#_76 title="Permanent link">&para;</a></h3> <p>以下代码演示了文件指针如何随着写入内容而移动：</p> <div class="language-c highlight"><pre><span></span><code><span id=__span-277-1><a id=__codelineno-277-1 name=__codelineno-277-1 href=#__codelineno-277-1></a><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;stdio.h&gt;</span>
</span><span id=__span-277-2><a id=__codelineno-277-2 name=__codelineno-277-2 href=#__codelineno-277-2></a>
</span><span id=__span-277-3><a id=__codelineno-277-3 name=__codelineno-277-3 href=#__codelineno-277-3></a><span class=kt>int</span><span class=w> </span><span class=nf>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-277-4><a id=__codelineno-277-4 name=__codelineno-277-4 href=#__codelineno-277-4></a><span class=w>    </span><span class=kt>FILE</span><span class=o>*</span><span class=w> </span><span class=n>fp</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>fopen</span><span class=p>(</span><span class=s>&quot;test.txt&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;w+&quot;</span><span class=p>);</span><span class=w>  </span><span class=c1>// 读写模式</span>
</span><span id=__span-277-5><a id=__codelineno-277-5 name=__codelineno-277-5 href=#__codelineno-277-5></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>fp</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=nb>NULL</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-277-6><a id=__codelineno-277-6 name=__codelineno-277-6 href=#__codelineno-277-6></a><span class=w>        </span><span class=n>perror</span><span class=p>(</span><span class=s>&quot;Failed to open file&quot;</span><span class=p>);</span>
</span><span id=__span-277-7><a id=__codelineno-277-7 name=__codelineno-277-7 href=#__codelineno-277-7></a><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=mi>1</span><span class=p>;</span>
</span><span id=__span-277-8><a id=__codelineno-277-8 name=__codelineno-277-8 href=#__codelineno-277-8></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-277-9><a id=__codelineno-277-9 name=__codelineno-277-9 href=#__codelineno-277-9></a>
</span><span id=__span-277-10><a id=__codelineno-277-10 name=__codelineno-277-10 href=#__codelineno-277-10></a><span class=w>    </span><span class=c1>// 初始文件指针位置</span>
</span><span id=__span-277-11><a id=__codelineno-277-11 name=__codelineno-277-11 href=#__codelineno-277-11></a><span class=w>    </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;Initial position: %ld</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=n>ftell</span><span class=p>(</span><span class=n>fp</span><span class=p>));</span><span class=w>  </span><span class=c1>// 输出 0</span>
</span><span id=__span-277-12><a id=__codelineno-277-12 name=__codelineno-277-12 href=#__codelineno-277-12></a>
</span><span id=__span-277-13><a id=__codelineno-277-13 name=__codelineno-277-13 href=#__codelineno-277-13></a><span class=w>    </span><span class=c1>// 写入内容</span>
</span><span id=__span-277-14><a id=__codelineno-277-14 name=__codelineno-277-14 href=#__codelineno-277-14></a><span class=w>    </span><span class=n>fprintf</span><span class=p>(</span><span class=n>fp</span><span class=p>,</span><span class=w> </span><span class=s>&quot;Hello, &quot;</span><span class=p>);</span>
</span><span id=__span-277-15><a id=__codelineno-277-15 name=__codelineno-277-15 href=#__codelineno-277-15></a><span class=w>    </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;After first write: %ld</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=n>ftell</span><span class=p>(</span><span class=n>fp</span><span class=p>));</span><span class=w> </span><span class=c1>// 输出 7（&quot;Hello, &quot; 有 7 个字符）</span>
</span><span id=__span-277-16><a id=__codelineno-277-16 name=__codelineno-277-16 href=#__codelineno-277-16></a>
</span><span id=__span-277-17><a id=__codelineno-277-17 name=__codelineno-277-17 href=#__codelineno-277-17></a><span class=w>    </span><span class=c1>// 写入更多内容</span>
</span><span id=__span-277-18><a id=__codelineno-277-18 name=__codelineno-277-18 href=#__codelineno-277-18></a><span class=w>    </span><span class=n>fprintf</span><span class=p>(</span><span class=n>fp</span><span class=p>,</span><span class=w> </span><span class=s>&quot;world!&quot;</span><span class=p>);</span>
</span><span id=__span-277-19><a id=__codelineno-277-19 name=__codelineno-277-19 href=#__codelineno-277-19></a><span class=w>    </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;After second write: %ld</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=n>ftell</span><span class=p>(</span><span class=n>fp</span><span class=p>));</span><span class=w> </span><span class=c1>// 输出 13（&quot;Hello, world!&quot; 有 13 个字符）</span>
</span><span id=__span-277-20><a id=__codelineno-277-20 name=__codelineno-277-20 href=#__codelineno-277-20></a>
</span><span id=__span-277-21><a id=__codelineno-277-21 name=__codelineno-277-21 href=#__codelineno-277-21></a><span class=w>    </span><span class=c1>// 关闭文件</span>
</span><span id=__span-277-22><a id=__codelineno-277-22 name=__codelineno-277-22 href=#__codelineno-277-22></a><span class=w>    </span><span class=n>fclose</span><span class=p>(</span><span class=n>fp</span><span class=p>);</span>
</span><span id=__span-277-23><a id=__codelineno-277-23 name=__codelineno-277-23 href=#__codelineno-277-23></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-277-24><a id=__codelineno-277-24 name=__codelineno-277-24 href=#__codelineno-277-24></a><span class=p>}</span>
</span></code></pre></div> <p><strong>输出示例：</strong> <div class="language-text highlight"><pre><span></span><code><span id=__span-278-1><a id=__codelineno-278-1 name=__codelineno-278-1 href=#__codelineno-278-1></a>Initial position: 0
</span><span id=__span-278-2><a id=__codelineno-278-2 name=__codelineno-278-2 href=#__codelineno-278-2></a>After first write: 7
</span><span id=__span-278-3><a id=__codelineno-278-3 name=__codelineno-278-3 href=#__codelineno-278-3></a>After second write: 13
</span></code></pre></div></p> <hr> <p>文件指针移动规则</p> <ol> <li> <p><strong>写入操作后</strong>： - 文件指针移动到写入内容的末尾。 - 例如，写入 <code>"Hello"</code> 后，文件指针移动到 <code>5</code> 处（字符数为 <code>5</code>）。</p> </li> <li> <p><strong>读操作后</strong>： - 文件指针移动到读取内容的末尾。</p> </li> <li> <p><strong>手动移动指针</strong>： - 可以通过 <code>fseek</code> 或 <code>rewind</code> 函数调整指针位置。例如： <div class="language-c highlight"><pre><span></span><code><span id=__span-279-1><a id=__codelineno-279-1 name=__codelineno-279-1 href=#__codelineno-279-1></a><span class=n>fseek</span><span class=p>(</span><span class=n>fp</span><span class=p>,</span><span class=w> </span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=n>SEEK_SET</span><span class=p>);</span><span class=w>  </span><span class=c1>// 将文件指针移动到文件开头</span>
</span></code></pre></div></p> </li> </ol> <h3 id=_77>常用函数<a class=headerlink href=#_77 title="Permanent link">&para;</a></h3> <h4 id=1>1. 文件的打开与关闭<a class=headerlink href=#1 title="Permanent link">&para;</a></h4> <p><strong>文件打开：<code>fopen</code></strong></p> <ul> <li><strong>函数原型</strong>： <div class="language-c highlight"><pre><span></span><code><span id=__span-280-1><a id=__codelineno-280-1 name=__codelineno-280-1 href=#__codelineno-280-1></a><span class=kt>FILE</span><span class=w> </span><span class=o>*</span><span class=nf>fopen</span><span class=p>(</span><span class=k>const</span><span class=w> </span><span class=kt>char</span><span class=w> </span><span class=o>*</span><span class=n>filename</span><span class=p>,</span><span class=w> </span><span class=k>const</span><span class=w> </span><span class=kt>char</span><span class=w> </span><span class=o>*</span><span class=n>mode</span><span class=p>);</span>
</span></code></pre></div></li> <li><strong>功能</strong>：打开一个文件并返回一个指向该文件的指针。</li> <li><strong>参数</strong>：<ul> <li><code>filename</code>：要打开的文件名。</li> <li><code>mode</code>：文件打开模式。常用模式有： 在 C 语言中，文件操作模式也可以结合二进制模式进行操作。二进制模式通过在文件模式字符串中添加一个字符 <code>'b'</code> 实现，具体格式如 <code>"rb"</code>, <code>"wb"</code>, 等等。以下是补充二进制相关内容后的完整表格：</li> </ul> </li> </ul> <table> <thead> <tr> <th>模式</th> <th>作用</th> <th>文件存在</th> <th>文件不存在</th> </tr> </thead> <tbody> <tr> <td><code>"r"</code></td> <td>打开只读</td> <td>成功打开</td> <td>返回 NULL</td> </tr> <tr> <td><code>"w"</code></td> <td>打开只写，文件存在则清空原文件内容</td> <td>成功打开</td> <td>创建新文件</td> </tr> <tr> <td><code>"a"</code></td> <td>打开追加模式，文件指针位于末尾</td> <td>成功打开</td> <td>创建新文件</td> </tr> <tr> <td><code>"r+"</code></td> <td>以读写模式打开文件，不清空文件内容</td> <td>成功打开</td> <td>返回 NULL</td> </tr> <tr> <td><code>"w+"</code></td> <td>打开读写，文件存在则清空原文件内容</td> <td>成功打开</td> <td>创建新文件</td> </tr> <tr> <td><code>"a+"</code></td> <td>以读写模式打开文件，文件指针位于末尾</td> <td>成功打开</td> <td>创建新文件</td> </tr> <tr> <td><code>"rb"</code></td> <td>打开二进制文件只读</td> <td>成功打开</td> <td>返回 NULL</td> </tr> <tr> <td><code>"wb"</code></td> <td>打开二进制文件只写，文件存在则清空原文件内容</td> <td>成功打开</td> <td>创建新文件</td> </tr> <tr> <td><code>"ab"</code></td> <td>打开二进制文件追加模式，文件指针位于末尾</td> <td>成功打开</td> <td>创建新文件</td> </tr> <tr> <td><code>"r+b"</code></td> <td>打开二进制文件读写，不清空文件内容</td> <td>成功打开</td> <td>返回 NULL</td> </tr> <tr> <td><code>"w+b"</code></td> <td>打开二进制文件读写，文件存在则清空原文件内容</td> <td>成功打开</td> <td>创建新文件</td> </tr> <tr> <td><code>"a+b"</code></td> <td>打开二进制文件读写，文件指针位于末尾</td> <td>成功打开</td> <td>创建新文件</td> </tr> <tr> <td><code>"wx"</code></td> <td>只创建新文件写入模式，文件已存在则返回 NULL</td> <td>返回 NULL</td> <td>创建新文件</td> </tr> <tr> <td><code>"wbx"</code></td> <td>只创建新二进制文件写入模式，文件已存在则返回 NULL</td> <td>返回 NULL</td> <td>创建新文件</td> </tr> </tbody> </table> <ul> <li><strong>返回值</strong>：成功时返回文件指针，失败时返回 <code>NULL</code>。</li> </ul> <hr> <p><strong>文件关闭：<code>fclose</code></strong></p> <ul> <li><strong>函数原型</strong>： <div class="language-c highlight"><pre><span></span><code><span id=__span-281-1><a id=__codelineno-281-1 name=__codelineno-281-1 href=#__codelineno-281-1></a><span class=kt>int</span><span class=w> </span><span class=nf>fclose</span><span class=p>(</span><span class=kt>FILE</span><span class=w> </span><span class=o>*</span><span class=n>stream</span><span class=p>);</span>
</span></code></pre></div></li> <li><strong>功能</strong>：关闭文件，释放相关资源。</li> <li><strong>参数</strong>：<ul> <li><code>stream</code>：文件指针。</li> </ul> </li> <li><strong>返回值</strong>：成功时返回 <code>0</code>，失败时返回 <code>EOF</code>。</li> </ul> <hr> <h4 id=2>2. 文件读取操作<a class=headerlink href=#2 title="Permanent link">&para;</a></h4> <h5 id=_78>文本文件读取<a class=headerlink href=#_78 title="Permanent link">&para;</a></h5> <p><strong><code>fgetc</code></strong></p> <ul> <li><strong>函数原型</strong>： <div class="language-c highlight"><pre><span></span><code><span id=__span-282-1><a id=__codelineno-282-1 name=__codelineno-282-1 href=#__codelineno-282-1></a><span class=kt>int</span><span class=w> </span><span class=nf>fgetc</span><span class=p>(</span><span class=kt>FILE</span><span class=w> </span><span class=o>*</span><span class=n>stream</span><span class=p>);</span>
</span></code></pre></div></li> <li><strong>功能</strong>：从文件中读取一个字符。</li> <li><strong>参数</strong>：<ul> <li><code>stream</code>：文件指针。</li> </ul> </li> <li><strong>返回值</strong>：返回读取的字符，如果到达文件末尾，返回 <code>EOF</code>。</li> </ul> <p><strong><code>fgets</code></strong></p> <ul> <li><strong>函数原型</strong>： <div class="language-c highlight"><pre><span></span><code><span id=__span-283-1><a id=__codelineno-283-1 name=__codelineno-283-1 href=#__codelineno-283-1></a><span class=kt>char</span><span class=w> </span><span class=o>*</span><span class=nf>fgets</span><span class=p>(</span><span class=kt>char</span><span class=w> </span><span class=o>*</span><span class=n>str</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>n</span><span class=p>,</span><span class=w> </span><span class=kt>FILE</span><span class=w> </span><span class=o>*</span><span class=n>stream</span><span class=p>);</span>
</span></code></pre></div></li> <li><strong>功能</strong>：从文件中读取一行字符（包括空格）并存入 <code>str</code> 中，最多读取 <code>n-1</code> 个字符。</li> <li><strong>参数</strong>：<ul> <li><code>str</code>：存储读取内容的缓冲区。</li> <li><code>n</code>：缓冲区的大小。</li> <li><code>stream</code>：文件指针。</li> </ul> </li> <li><strong>返回值</strong>：返回 <code>str</code>，如果读取到文件末尾返回 <code>NULL</code>。</li> </ul> <h5 id=_79>二进制文件读取<a class=headerlink href=#_79 title="Permanent link">&para;</a></h5> <p><strong><code>fread</code></strong></p> <ul> <li><strong>函数原型</strong>： <div class="language-c highlight"><pre><span></span><code><span id=__span-284-1><a id=__codelineno-284-1 name=__codelineno-284-1 href=#__codelineno-284-1></a><span class=kt>size_t</span><span class=w> </span><span class=nf>fread</span><span class=p>(</span><span class=kt>void</span><span class=w> </span><span class=o>*</span><span class=n>ptr</span><span class=p>,</span><span class=w> </span><span class=kt>size_t</span><span class=w> </span><span class=n>size</span><span class=p>,</span><span class=w> </span><span class=kt>size_t</span><span class=w> </span><span class=n>count</span><span class=p>,</span><span class=w> </span><span class=kt>FILE</span><span class=w> </span><span class=o>*</span><span class=n>stream</span><span class=p>);</span>
</span></code></pre></div></li> <li><strong>功能</strong>：从文件中读取二进制数据，存入内存中。</li> <li><strong>参数</strong>：<ul> <li><code>ptr</code>：数据存储缓冲区。</li> <li><code>size</code>：每个元素的大小（字节）。</li> <li><code>count</code>：要读取的元素个数。</li> <li><code>stream</code>：文件指针。</li> </ul> </li> <li><strong>返回值</strong>：成功读取的元素个数。</li> </ul> <hr> <h4 id=3>3. 文件写入操作<a class=headerlink href=#3 title="Permanent link">&para;</a></h4> <h5 id=_80>文本文件写入<a class=headerlink href=#_80 title="Permanent link">&para;</a></h5> <p><strong><code>fputc</code></strong></p> <ul> <li><strong>函数原型</strong>： <div class="language-c highlight"><pre><span></span><code><span id=__span-285-1><a id=__codelineno-285-1 name=__codelineno-285-1 href=#__codelineno-285-1></a><span class=kt>int</span><span class=w> </span><span class=nf>fputc</span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>c</span><span class=p>,</span><span class=w> </span><span class=kt>FILE</span><span class=w> </span><span class=o>*</span><span class=n>stream</span><span class=p>);</span>
</span></code></pre></div></li> <li><strong>功能</strong>：向文件写入一个字符。</li> <li><strong>参数</strong>：<ul> <li><code>c</code>：要写入的字符。</li> <li><code>stream</code>：文件指针。</li> </ul> </li> <li><strong>返回值</strong>：成功返回写入的字符，失败返回 <code>EOF</code>。</li> </ul> <p><strong><code>fputs</code></strong></p> <ul> <li><strong>函数原型</strong>： <div class="language-c highlight"><pre><span></span><code><span id=__span-286-1><a id=__codelineno-286-1 name=__codelineno-286-1 href=#__codelineno-286-1></a><span class=kt>int</span><span class=w> </span><span class=nf>fputs</span><span class=p>(</span><span class=k>const</span><span class=w> </span><span class=kt>char</span><span class=w> </span><span class=o>*</span><span class=n>str</span><span class=p>,</span><span class=w> </span><span class=kt>FILE</span><span class=w> </span><span class=o>*</span><span class=n>stream</span><span class=p>);</span>
</span></code></pre></div></li> <li><strong>功能</strong>：向文件写入一个字符串（不包含 <code>\0</code> 结束符）。</li> <li><strong>参数</strong>：<ul> <li><code>str</code>：要写入的字符串。</li> <li><code>stream</code>：文件指针。</li> </ul> </li> <li><strong>返回值</strong>：成功返回非负值，失败返回 <code>EOF</code>。</li> </ul> <h5 id=_81>二进制文件写入<a class=headerlink href=#_81 title="Permanent link">&para;</a></h5> <p><strong><code>fwrite</code></strong></p> <ul> <li><strong>函数原型</strong>： <div class="language-c highlight"><pre><span></span><code><span id=__span-287-1><a id=__codelineno-287-1 name=__codelineno-287-1 href=#__codelineno-287-1></a><span class=kt>size_t</span><span class=w> </span><span class=nf>fwrite</span><span class=p>(</span><span class=k>const</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=o>*</span><span class=n>ptr</span><span class=p>,</span><span class=w> </span><span class=kt>size_t</span><span class=w> </span><span class=n>size</span><span class=p>,</span><span class=w> </span><span class=kt>size_t</span><span class=w> </span><span class=n>count</span><span class=p>,</span><span class=w> </span><span class=kt>FILE</span><span class=w> </span><span class=o>*</span><span class=n>stream</span><span class=p>);</span>
</span></code></pre></div></li> <li><strong>功能</strong>：向文件写入二进制数据。</li> <li><strong>参数</strong>：<ul> <li><code>ptr</code>：数据源（内存中的数据）。</li> <li><code>size</code>：每个元素的大小（字节）。</li> <li><code>count</code>：要写入的元素个数。</li> <li><code>stream</code>：文件指针。</li> </ul> </li> <li><strong>返回值</strong>：成功写入的元素个数。</li> </ul> <hr> <h4 id=4>4. 文件定位<a class=headerlink href=#4 title="Permanent link">&para;</a></h4> <p><strong><code>fseek</code></strong></p> <ul> <li><strong>函数原型</strong>： <div class="language-c highlight"><pre><span></span><code><span id=__span-288-1><a id=__codelineno-288-1 name=__codelineno-288-1 href=#__codelineno-288-1></a><span class=kt>int</span><span class=w> </span><span class=nf>fseek</span><span class=p>(</span><span class=kt>FILE</span><span class=w> </span><span class=o>*</span><span class=n>stream</span><span class=p>,</span><span class=w> </span><span class=kt>long</span><span class=w> </span><span class=n>offset</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>whence</span><span class=p>);</span>
</span></code></pre></div></li> <li><strong>功能</strong>：将文件指针移动到指定位置。</li> <li><strong>参数</strong>：<ul> <li><code>stream</code>：文件指针。</li> <li><code>offset</code>：偏移量，单位为字节。可以是正值、负值或零。</li> <li><code>whence</code>：偏移基准位置。常用值有：<ul> <li><code>SEEK_SET</code>：文件开头。</li> <li><code>SEEK_CUR</code>：当前位置。</li> <li><code>SEEK_END</code>：文件末尾。</li> </ul> </li> </ul> </li> <li><strong>返回值</strong>：成功时返回 <code>0</code>，失败时返回非零值。</li> </ul> <p><strong><code>ftell</code></strong></p> <ul> <li><strong>函数原型</strong>： <div class="language-c highlight"><pre><span></span><code><span id=__span-289-1><a id=__codelineno-289-1 name=__codelineno-289-1 href=#__codelineno-289-1></a><span class=kt>long</span><span class=w> </span><span class=nf>ftell</span><span class=p>(</span><span class=kt>FILE</span><span class=w> </span><span class=o>*</span><span class=n>stream</span><span class=p>);</span>
</span></code></pre></div></li> <li><strong>功能</strong>：返回当前文件指针的偏移量（从文件开头开始计）。</li> <li><strong>参数</strong>：<ul> <li><code>stream</code>：文件指针。</li> </ul> </li> <li><strong>返回值</strong>：返回当前文件指针的位置（以字节为单位），失败时返回 <code>-1L</code>。</li> </ul> <p><strong><code>rewind</code></strong></p> <ul> <li><strong>函数原型</strong>： <div class="language-c highlight"><pre><span></span><code><span id=__span-290-1><a id=__codelineno-290-1 name=__codelineno-290-1 href=#__codelineno-290-1></a><span class=kt>void</span><span class=w> </span><span class=nf>rewind</span><span class=p>(</span><span class=kt>FILE</span><span class=w> </span><span class=o>*</span><span class=n>stream</span><span class=p>);</span>
</span></code></pre></div></li> <li><strong>功能</strong>：将文件指针重置到文件开头。</li> <li><strong>参数</strong>：<ul> <li><code>stream</code>：文件指针。</li> </ul> </li> <li><strong>返回值</strong>：无返回值。</li> </ul> <hr> <h4 id=5>5. 错误处理<a class=headerlink href=#5 title="Permanent link">&para;</a></h4> <p><strong><code>feof</code></strong></p> <ul> <li><strong>函数原型</strong>： <div class="language-c highlight"><pre><span></span><code><span id=__span-291-1><a id=__codelineno-291-1 name=__codelineno-291-1 href=#__codelineno-291-1></a><span class=kt>int</span><span class=w> </span><span class=nf>feof</span><span class=p>(</span><span class=kt>FILE</span><span class=w> </span><span class=o>*</span><span class=n>stream</span><span class=p>);</span>
</span></code></pre></div></li> <li><strong>功能</strong>：判断是否到达文件末尾。</li> <li><strong>参数</strong>：<ul> <li><code>stream</code>：文件指针。</li> </ul> </li> <li><strong>返回值</strong>：非零值表示文件结束，返回 <code>0</code> 表示未到达文件末尾。</li> </ul> <p><strong><code>ferror</code></strong></p> <ul> <li><strong>函数原型</strong>： <div class="language-c highlight"><pre><span></span><code><span id=__span-292-1><a id=__codelineno-292-1 name=__codelineno-292-1 href=#__codelineno-292-1></a><span class=kt>int</span><span class=w> </span><span class=nf>ferror</span><span class=p>(</span><span class=kt>FILE</span><span class=w> </span><span class=o>*</span><span class=n>stream</span><span class=p>);</span>
</span></code></pre></div></li> <li><strong>功能</strong>：检查文件是否发生错误。</li> <li><strong>参数</strong>：<ul> <li><code>stream</code>：文件指针。</li> </ul> </li> <li><strong>返回值</strong>：非零值表示发生错误，返回 <code>0</code> 表示没有错误。</li> </ul> <hr> <h4 id=6>6. 文件清空与创建<a class=headerlink href=#6 title="Permanent link">&para;</a></h4> <p><strong><code>freopen</code></strong></p> <ul> <li><strong>函数原型</strong>： <div class="language-c highlight"><pre><span></span><code><span id=__span-293-1><a id=__codelineno-293-1 name=__codelineno-293-1 href=#__codelineno-293-1></a><span class=kt>FILE</span><span class=w> </span><span class=o>*</span><span class=nf>freopen</span><span class=p>(</span><span class=k>const</span><span class=w> </span><span class=kt>char</span><span class=w> </span><span class=o>*</span><span class=n>filename</span><span class=p>,</span><span class=w> </span><span class=k>const</span><span class=w> </span><span class=kt>char</span><span class=w> </span><span class=o>*</span><span class=n>mode</span><span class=p>,</span><span class=w> </span><span class=kt>FILE</span><span class=w> </span><span class=o>*</span><span class=n>stream</span><span class=p>);</span>
</span></code></pre></div></li> <li><strong>功能</strong>：关闭当前文件并重新打开文件。</li> <li><strong>参数</strong>：<ul> <li><code>filename</code>：文件名。</li> <li><code>mode</code>：打开模式（如 <code>"r"</code>, <code>"w"</code>, <code>"a"</code> 等）。</li> <li><code>stream</code>：当前打开的文件指针。</li> </ul> </li> <li><strong>返回值</strong>：成功返回新的文件指针，失败返回 <code>NULL</code>。</li> </ul> <hr> <h4 id=7>7. 文件缓冲与同步<a class=headerlink href=#7 title="Permanent link">&para;</a></h4> <p><strong><code>setbuf</code></strong></p> <ul> <li><strong>函数原型</strong>： <div class="language-c highlight"><pre><span></span><code><span id=__span-294-1><a id=__codelineno-294-1 name=__codelineno-294-1 href=#__codelineno-294-1></a><span class=kt>void</span><span class=w> </span><span class=nf>setbuf</span><span class=p>(</span><span class=kt>FILE</span><span class=w> </span><span class=o>*</span><span class=n>stream</span><span class=p>,</span><span class=w> </span><span class=kt>char</span><span class=w> </span><span class=o>*</span><span class=n>buffer</span><span class=p>);</span>
</span></code></pre></div></li> <li><strong>功能</strong>：为文件流设置缓冲区。</li> <li><strong>参数</strong>：<ul> <li><code>stream</code>：文件指针。</li> <li><code>buffer</code>：缓冲区指针。若为 <code>NULL</code>，则禁用缓冲。</li> </ul> </li> <li><strong>返回值</strong>：无返回值。</li> </ul> <p><strong><code>setvbuf</code></strong></p> <ul> <li><strong>函数原型</strong>： <div class="language-c highlight"><pre><span></span><code><span id=__span-295-1><a id=__codelineno-295-1 name=__codelineno-295-1 href=#__codelineno-295-1></a><span class=kt>int</span><span class=w> </span><span class=nf>setvbuf</span><span class=p>(</span><span class=kt>FILE</span><span class=w> </span><span class=o>*</span><span class=n>stream</span><span class=p>,</span><span class=w> </span><span class=kt>char</span><span class=w> </span><span class=o>*</span><span class=n>buffer</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>mode</span><span class=p>,</span><span class=w> </span><span class=kt>size_t</span><span class=w> </span><span class=n>size</span><span class=p>);</span>
</span></code></pre></div></li> <li><strong>功能</strong>：为文件流设置缓冲区，支持不同的缓冲模式。</li> <li><strong>参数</strong>：<ul> <li><code>stream</code>：文件指针。</li> <li><code>buffer</code>：缓冲区指针。</li> <li><code>mode</code>：缓冲模式，通常为 <code>_IOFBF</code>（全缓冲）、<code>_IONBF</code>（无缓冲）或 <code>_IOLBF</code>（行缓冲）。</li> <li><code>size</code>：缓冲区大小。</li> </ul> </li> <li><strong>返回值</strong>：成功返回 <code>0</code>，失败返回非零值。</li> </ul> <p><strong><code>fflush</code></strong></p> <ul> <li><strong>函数原型</strong>： <div class="language-c highlight"><pre><span></span><code><span id=__span-296-1><a id=__codelineno-296-1 name=__codelineno-296-1 href=#__codelineno-296-1></a><span class=kt>int</span><span class=w> </span><span class=nf>fflush</span><span class=p>(</span><span class=kt>FILE</span><span class=w> </span><span class=o>*</span><span class=n>stream</span><span class=p>);</span>
</span></code></pre></div></li> <li><strong>功能</strong>：强制刷新文件缓冲区，将缓冲区中的内容写入文件。</li> <li><strong>参数</strong>：<ul> <li><code>stream</code>：文件指针。如果为 <code>NULL</code>，则刷新所有打开的输出流。</li> </ul> </li> <li><strong>返回值</strong>：成功返回 <code>0</code>，失败返回 <code>EOF</code>。</li> </ul> <hr> <h4 id=8>8. 临时文件处理<a class=headerlink href=#8 title="Permanent link">&para;</a></h4> <p><strong><code>tmpfile</code></strong> - <strong>函数原型</strong>： <div class="language-c highlight"><pre><span></span><code><span id=__span-297-1><a id=__codelineno-297-1 name=__codelineno-297-1 href=#__codelineno-297-1></a><span class=kt>FILE</span><span class=w> </span><span class=o>*</span><span class=nf>tmpfile</span><span class=p>(</span><span class=kt>void</span><span class=p>);</span>
</span></code></pre></div> - <strong>功能</strong>：创建一个临时文件并返回文件指针。该文件在程序结束时自动删除。 - <strong>返回值</strong>：成功返回临时文件指针，失败返回 <code>NULL</code>。</p> <hr> <h3 id=_82>缓冲区<a class=headerlink href=#_82 title="Permanent link">&para;</a></h3> <p>在 C 语言中，<strong>文件缓冲区（Buffer）</strong>是用来临时存储数据的一块内存区域，用于优化文件的输入和输出操作。缓冲区的引入可以减少实际文件操作的次数，从而提高程序的效率。</p> <hr> <p><strong>缓冲区的基本概念</strong></p> <ol> <li> <p><strong>缓冲的作用</strong>： - 文件操作（如读写）通常涉及磁盘 I/O，这是一种相对慢的操作。 - 为了减少磁盘 I/O 的频率，C 标准库在内存中分配了一块缓冲区。 - 程序在读取或写入文件时，先将数据存储到缓冲区，达到一定量后再进行磁盘 I/O 操作。</p> </li> <li> <p><strong>缓冲区的分类</strong>： - <strong>全缓冲（Fully Buffered）</strong>：当缓冲区填满时才进行实际的 I/O 操作。适用于文件。 - <strong>行缓冲（Line Buffered）</strong>：每次遇到换行符或缓冲区满时，进行一次 I/O 操作。适用于标准输入输出（如 <code>stdin</code>、<code>stdout</code>）。 - <strong>无缓冲（Unbuffered）</strong>：不使用缓冲区，每次 I/O 操作都直接访问设备或文件。适用于 <code>stderr</code>。</p> </li> </ol> <hr> <p><strong>缓冲区在文件中的应用</strong></p> <ul> <li>文件操作函数如 <code>fopen()</code>、<code>fwrite()</code>、<code>fread()</code>、<code>fprintf()</code>、<code>fgets()</code> 等都会使用缓冲区。</li> <li>在写入时：</li> <li>数据先写入缓冲区。</li> <li>当缓冲区满、手动刷新缓冲区（<code>fflush()</code>）、或文件关闭时，数据被写入磁盘。</li> <li>在读取时：</li> <li>文件数据被读取到缓冲区，程序再从缓冲区中获取数据。</li> </ul> <hr> <p><strong>常用函数与缓冲区相关操作</strong></p> <ol> <li><strong><code>fflush()</code></strong> <code>fflush()</code> 用于清空缓冲区，将缓冲区中的数据立即写入文件或设备。 <div class="language-c highlight"><pre><span></span><code><span id=__span-298-1><a id=__codelineno-298-1 name=__codelineno-298-1 href=#__codelineno-298-1></a><span class=kt>int</span><span class=w> </span><span class=nf>fflush</span><span class=p>(</span><span class=kt>FILE</span><span class=w> </span><span class=o>*</span><span class=n>stream</span><span class=p>);</span>
</span></code></pre></div> - 参数： - <code>stream</code>：文件流指针，表示需要刷新的文件。如果传递 <code>NULL</code>，则刷新所有输出流。 - 典型应用： - 在程序中强制写入文件。 - 确保日志或调试信息及时输出。</li> </ol> <p>示例： <div class="language-c highlight"><pre><span></span><code><span id=__span-299-1><a id=__codelineno-299-1 name=__codelineno-299-1 href=#__codelineno-299-1></a><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;stdio.h&gt;</span>
</span><span id=__span-299-2><a id=__codelineno-299-2 name=__codelineno-299-2 href=#__codelineno-299-2></a>
</span><span id=__span-299-3><a id=__codelineno-299-3 name=__codelineno-299-3 href=#__codelineno-299-3></a><span class=kt>int</span><span class=w> </span><span class=nf>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-299-4><a id=__codelineno-299-4 name=__codelineno-299-4 href=#__codelineno-299-4></a><span class=w>    </span><span class=kt>FILE</span><span class=w> </span><span class=o>*</span><span class=n>file</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>fopen</span><span class=p>(</span><span class=s>&quot;example.txt&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;w&quot;</span><span class=p>);</span>
</span><span id=__span-299-5><a id=__codelineno-299-5 name=__codelineno-299-5 href=#__codelineno-299-5></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>file</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=nb>NULL</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-299-6><a id=__codelineno-299-6 name=__codelineno-299-6 href=#__codelineno-299-6></a><span class=w>        </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;Error opening file.</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>);</span>
</span><span id=__span-299-7><a id=__codelineno-299-7 name=__codelineno-299-7 href=#__codelineno-299-7></a><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=mi>1</span><span class=p>;</span>
</span><span id=__span-299-8><a id=__codelineno-299-8 name=__codelineno-299-8 href=#__codelineno-299-8></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-299-9><a id=__codelineno-299-9 name=__codelineno-299-9 href=#__codelineno-299-9></a>
</span><span id=__span-299-10><a id=__codelineno-299-10 name=__codelineno-299-10 href=#__codelineno-299-10></a><span class=w>    </span><span class=n>fprintf</span><span class=p>(</span><span class=n>file</span><span class=p>,</span><span class=w> </span><span class=s>&quot;Hello, world!&quot;</span><span class=p>);</span>
</span><span id=__span-299-11><a id=__codelineno-299-11 name=__codelineno-299-11 href=#__codelineno-299-11></a><span class=w>    </span><span class=n>fflush</span><span class=p>(</span><span class=n>file</span><span class=p>);</span><span class=w>  </span><span class=c1>// 立即将缓冲区内容写入文件</span>
</span><span id=__span-299-12><a id=__codelineno-299-12 name=__codelineno-299-12 href=#__codelineno-299-12></a>
</span><span id=__span-299-13><a id=__codelineno-299-13 name=__codelineno-299-13 href=#__codelineno-299-13></a><span class=w>    </span><span class=n>fclose</span><span class=p>(</span><span class=n>file</span><span class=p>);</span>
</span><span id=__span-299-14><a id=__codelineno-299-14 name=__codelineno-299-14 href=#__codelineno-299-14></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-299-15><a id=__codelineno-299-15 name=__codelineno-299-15 href=#__codelineno-299-15></a><span class=p>}</span>
</span></code></pre></div></p> <ol start=2> <li><strong><code>setvbuf()</code></strong> <code>setvbuf()</code> 用于设置文件的缓冲区模式及大小。 <div class="language-c highlight"><pre><span></span><code><span id=__span-300-1><a id=__codelineno-300-1 name=__codelineno-300-1 href=#__codelineno-300-1></a><span class=kt>int</span><span class=w> </span><span class=nf>setvbuf</span><span class=p>(</span><span class=kt>FILE</span><span class=w> </span><span class=o>*</span><span class=n>stream</span><span class=p>,</span><span class=w> </span><span class=kt>char</span><span class=w> </span><span class=o>*</span><span class=n>buffer</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>mode</span><span class=p>,</span><span class=w> </span><span class=kt>size_t</span><span class=w> </span><span class=n>size</span><span class=p>);</span>
</span></code></pre></div> - 参数：<ul> <li><code>stream</code>：文件流指针。</li> <li><code>buffer</code>：自定义缓冲区（传递 <code>NULL</code> 表示使用默认缓冲区）。</li> <li><code>mode</code>：缓冲区模式，可选值：<ul> <li><code>_IOFBF</code>：全缓冲模式。</li> <li><code>_IOLBF</code>：行缓冲模式。</li> <li><code>_IONBF</code>：无缓冲模式。</li> </ul> </li> <li><code>size</code>：缓冲区大小（以字节为单位）。</li> <li>返回值：</li> <li>成功返回 0，失败返回非零值。</li> </ul> </li> </ol> <p>示例：设置自定义缓冲区 <div class="language-c highlight"><pre><span></span><code><span id=__span-301-1><a id=__codelineno-301-1 name=__codelineno-301-1 href=#__codelineno-301-1></a><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;stdio.h&gt;</span>
</span><span id=__span-301-2><a id=__codelineno-301-2 name=__codelineno-301-2 href=#__codelineno-301-2></a>
</span><span id=__span-301-3><a id=__codelineno-301-3 name=__codelineno-301-3 href=#__codelineno-301-3></a><span class=kt>int</span><span class=w> </span><span class=nf>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-301-4><a id=__codelineno-301-4 name=__codelineno-301-4 href=#__codelineno-301-4></a><span class=w>    </span><span class=kt>FILE</span><span class=w> </span><span class=o>*</span><span class=n>file</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>fopen</span><span class=p>(</span><span class=s>&quot;example.txt&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;w&quot;</span><span class=p>);</span>
</span><span id=__span-301-5><a id=__codelineno-301-5 name=__codelineno-301-5 href=#__codelineno-301-5></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>file</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=nb>NULL</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-301-6><a id=__codelineno-301-6 name=__codelineno-301-6 href=#__codelineno-301-6></a><span class=w>        </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;Error opening file.</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>);</span>
</span><span id=__span-301-7><a id=__codelineno-301-7 name=__codelineno-301-7 href=#__codelineno-301-7></a><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=mi>1</span><span class=p>;</span>
</span><span id=__span-301-8><a id=__codelineno-301-8 name=__codelineno-301-8 href=#__codelineno-301-8></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-301-9><a id=__codelineno-301-9 name=__codelineno-301-9 href=#__codelineno-301-9></a>
</span><span id=__span-301-10><a id=__codelineno-301-10 name=__codelineno-301-10 href=#__codelineno-301-10></a><span class=w>    </span><span class=kt>char</span><span class=w> </span><span class=n>buffer</span><span class=p>[</span><span class=mi>1024</span><span class=p>];</span><span class=w>  </span><span class=c1>// 自定义缓冲区</span>
</span><span id=__span-301-11><a id=__codelineno-301-11 name=__codelineno-301-11 href=#__codelineno-301-11></a><span class=w>    </span><span class=n>setvbuf</span><span class=p>(</span><span class=n>file</span><span class=p>,</span><span class=w> </span><span class=n>buffer</span><span class=p>,</span><span class=w> </span><span class=n>_IOFBF</span><span class=p>,</span><span class=w> </span><span class=k>sizeof</span><span class=p>(</span><span class=n>buffer</span><span class=p>));</span><span class=w>  </span><span class=c1>// 设置全缓冲模式</span>
</span><span id=__span-301-12><a id=__codelineno-301-12 name=__codelineno-301-12 href=#__codelineno-301-12></a>
</span><span id=__span-301-13><a id=__codelineno-301-13 name=__codelineno-301-13 href=#__codelineno-301-13></a><span class=w>    </span><span class=n>fprintf</span><span class=p>(</span><span class=n>file</span><span class=p>,</span><span class=w> </span><span class=s>&quot;Buffered data.&quot;</span><span class=p>);</span>
</span><span id=__span-301-14><a id=__codelineno-301-14 name=__codelineno-301-14 href=#__codelineno-301-14></a><span class=w>    </span><span class=n>fclose</span><span class=p>(</span><span class=n>file</span><span class=p>);</span><span class=w>  </span><span class=c1>// 文件关闭时，缓冲区中的数据会写入文件</span>
</span><span id=__span-301-15><a id=__codelineno-301-15 name=__codelineno-301-15 href=#__codelineno-301-15></a>
</span><span id=__span-301-16><a id=__codelineno-301-16 name=__codelineno-301-16 href=#__codelineno-301-16></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-301-17><a id=__codelineno-301-17 name=__codelineno-301-17 href=#__codelineno-301-17></a><span class=p>}</span>
</span></code></pre></div></p> <ol start=3> <li><strong><code>setbuf()</code></strong> <code>setbuf()</code> 是 <code>setvbuf()</code> 的简单版本，用于设置文件流为全缓冲或无缓冲。 <div class="language-c highlight"><pre><span></span><code><span id=__span-302-1><a id=__codelineno-302-1 name=__codelineno-302-1 href=#__codelineno-302-1></a><span class=kt>void</span><span class=w> </span><span class=nf>setbuf</span><span class=p>(</span><span class=kt>FILE</span><span class=w> </span><span class=o>*</span><span class=n>stream</span><span class=p>,</span><span class=w> </span><span class=kt>char</span><span class=w> </span><span class=o>*</span><span class=n>buffer</span><span class=p>);</span>
</span></code></pre></div> - 参数：<ul> <li><code>stream</code>：文件流指针。</li> <li><code>buffer</code>：缓冲区指针。如果为 <code>NULL</code>，文件流设置为无缓冲模式。</li> </ul> </li> </ol> <p>示例：设置无缓冲模式 <div class="language-c highlight"><pre><span></span><code><span id=__span-303-1><a id=__codelineno-303-1 name=__codelineno-303-1 href=#__codelineno-303-1></a><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;stdio.h&gt;</span>
</span><span id=__span-303-2><a id=__codelineno-303-2 name=__codelineno-303-2 href=#__codelineno-303-2></a>
</span><span id=__span-303-3><a id=__codelineno-303-3 name=__codelineno-303-3 href=#__codelineno-303-3></a><span class=kt>int</span><span class=w> </span><span class=nf>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-303-4><a id=__codelineno-303-4 name=__codelineno-303-4 href=#__codelineno-303-4></a><span class=w>    </span><span class=kt>FILE</span><span class=w> </span><span class=o>*</span><span class=n>file</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>fopen</span><span class=p>(</span><span class=s>&quot;example.txt&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;w&quot;</span><span class=p>);</span>
</span><span id=__span-303-5><a id=__codelineno-303-5 name=__codelineno-303-5 href=#__codelineno-303-5></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>file</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=nb>NULL</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-303-6><a id=__codelineno-303-6 name=__codelineno-303-6 href=#__codelineno-303-6></a><span class=w>        </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;Error opening file.</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>);</span>
</span><span id=__span-303-7><a id=__codelineno-303-7 name=__codelineno-303-7 href=#__codelineno-303-7></a><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=mi>1</span><span class=p>;</span>
</span><span id=__span-303-8><a id=__codelineno-303-8 name=__codelineno-303-8 href=#__codelineno-303-8></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-303-9><a id=__codelineno-303-9 name=__codelineno-303-9 href=#__codelineno-303-9></a>
</span><span id=__span-303-10><a id=__codelineno-303-10 name=__codelineno-303-10 href=#__codelineno-303-10></a><span class=w>    </span><span class=n>setbuf</span><span class=p>(</span><span class=n>file</span><span class=p>,</span><span class=w> </span><span class=nb>NULL</span><span class=p>);</span><span class=w>  </span><span class=c1>// 设置文件流为无缓冲模式</span>
</span><span id=__span-303-11><a id=__codelineno-303-11 name=__codelineno-303-11 href=#__codelineno-303-11></a>
</span><span id=__span-303-12><a id=__codelineno-303-12 name=__codelineno-303-12 href=#__codelineno-303-12></a><span class=w>    </span><span class=n>fprintf</span><span class=p>(</span><span class=n>file</span><span class=p>,</span><span class=w> </span><span class=s>&quot;This will be written immediately.&quot;</span><span class=p>);</span>
</span><span id=__span-303-13><a id=__codelineno-303-13 name=__codelineno-303-13 href=#__codelineno-303-13></a><span class=w>    </span><span class=n>fclose</span><span class=p>(</span><span class=n>file</span><span class=p>);</span>
</span><span id=__span-303-14><a id=__codelineno-303-14 name=__codelineno-303-14 href=#__codelineno-303-14></a>
</span><span id=__span-303-15><a id=__codelineno-303-15 name=__codelineno-303-15 href=#__codelineno-303-15></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-303-16><a id=__codelineno-303-16 name=__codelineno-303-16 href=#__codelineno-303-16></a><span class=p>}</span>
</span></code></pre></div></p> <hr> <p><strong>缓冲区的默认行为</strong></p> <ol> <li><strong>标准流的默认缓冲模式</strong>：<ul> <li><code>stdout</code>：行缓冲模式。</li> <li><code>stdin</code>：行缓冲模式。</li> <li><code>stderr</code>：无缓冲模式。</li> </ul> </li> <li><strong>文件流的默认缓冲模式</strong>：<ul> <li>通常是全缓冲模式，缓冲区大小一般由操作系统决定（通常为 4KB 或 8KB）。</li> </ul> </li> </ol> <hr> <p><strong>缓冲区可能引发的问题</strong></p> <ol> <li><strong>未及时刷新缓冲区</strong>：<ul> <li>如果程序异常退出，缓冲区中的数据可能未被写入文件，导致数据丢失。</li> </ul> </li> <li><strong>并发操作冲突</strong>：<ul> <li>多线程或多进程同时操作同一文件时，缓冲区可能引发数据竞争，需要特别注意同步操作。</li> </ul> </li> </ol> <hr> <p><strong>总结</strong></p> <ul> <li><strong>缓冲区的作用</strong>：提高文件 I/O 的效率，通过减少磁盘读写次数来优化性能。</li> <li><strong>关键操作</strong>：<ul> <li>使用 <code>fflush()</code> 手动刷新缓冲区。</li> <li>使用 <code>setvbuf()</code> 或 <code>setbuf()</code> 自定义缓冲区行为。</li> </ul> </li> <li><strong>文件默认缓冲模式</strong>：文件通常是全缓冲，标准流根据类型可能是行缓冲或无缓冲。</li> </ul> <h3 id=_83>文件的输入输出<a class=headerlink href=#_83 title="Permanent link">&para;</a></h3> <p>方法一：shell的重定向 </p> <ul> <li><code>&gt;</code> 将输出定向值后面的文件</li> <li><code>&lt;</code> 从后面的文件中读取输入</li> </ul> <p>方法二：FILE</p> <div class="language-c highlight"><pre><span></span><code><span id=__span-304-1><a id=__codelineno-304-1 name=__codelineno-304-1 href=#__codelineno-304-1></a><span class=kt>int</span><span class=w> </span><span class=nf>main</span><span class=p>()</span>
</span><span id=__span-304-2><a id=__codelineno-304-2 name=__codelineno-304-2 href=#__codelineno-304-2></a><span class=p>{</span>
</span><span id=__span-304-3><a id=__codelineno-304-3 name=__codelineno-304-3 href=#__codelineno-304-3></a><span class=w>    </span><span class=kt>FILE</span><span class=o>*</span><span class=w> </span><span class=n>fp</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>fopen</span><span class=p>(</span><span class=s>&quot;try.c&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;r&quot;</span><span class=p>);</span>
</span><span id=__span-304-4><a id=__codelineno-304-4 name=__codelineno-304-4 href=#__codelineno-304-4></a><span class=w>    </span><span class=k>if</span><span class=p>(</span><span class=n>fp</span><span class=p>){</span>
</span><span id=__span-304-5><a id=__codelineno-304-5 name=__codelineno-304-5 href=#__codelineno-304-5></a><span class=w>        </span><span class=n>fscanf</span><span class=p>(</span><span class=n>fp</span><span class=p>,</span><span class=w> </span><span class=s>&quot;%d&quot;</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=n>num</span><span class=p>);</span>
</span><span id=__span-304-6><a id=__codelineno-304-6 name=__codelineno-304-6 href=#__codelineno-304-6></a><span class=w>        </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%d</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=n>num</span><span class=p>);</span>
</span><span id=__span-304-7><a id=__codelineno-304-7 name=__codelineno-304-7 href=#__codelineno-304-7></a><span class=w>        </span><span class=n>fclose</span><span class=p>(</span><span class=n>fp</span><span class=p>);</span>
</span><span id=__span-304-8><a id=__codelineno-304-8 name=__codelineno-304-8 href=#__codelineno-304-8></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-304-9><a id=__codelineno-304-9 name=__codelineno-304-9 href=#__codelineno-304-9></a><span class=w>    </span><span class=k>else</span><span class=p>{</span>
</span><span id=__span-304-10><a id=__codelineno-304-10 name=__codelineno-304-10 href=#__codelineno-304-10></a><span class=w>        </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;文件打开失败&quot;</span><span class=p>);</span>
</span><span id=__span-304-11><a id=__codelineno-304-11 name=__codelineno-304-11 href=#__codelineno-304-11></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-304-12><a id=__codelineno-304-12 name=__codelineno-304-12 href=#__codelineno-304-12></a><span class=p>}</span>
</span></code></pre></div> <p><code>fopen</code> : <code>FILE *fopen(const char *__restrict__ __filename, const char *__restrict__ __modes)</code></p> <ul> <li>Open a file and create a new stream for it.</li> <li> <p>参数是两个字符串，第二个如下：</p> <p><a class=glightbox href=../res/images/image-13_1.png data-type=image data-width=auto data-height=auto data-desc-position=bottom><img alt="alt text" src=../res/images/image-13_1.png></a></p> </li> </ul> <p><code>fclose</code>: <code>int fclose(FILE *__stream)</code></p> <ul> <li>Close STREAM.</li> </ul> <p>对文本文件的读和写：</p> <ol> <li><code>fscanf</code> : <code>int fscanf(FILE *__restrict__ __stream, const char *__restrict__ __format, ...)</code></li> </ol> <ul> <li>Read formatted input from STREAM.</li> <li>只是在<code>scanf</code>前面加一个FILE*的指针，其他都一样。</li> </ul> <ol start=2> <li><code>fprintf</code> : <code>int fprintf(FILE *__restrict__ __stream, const char *__restrict__ __format, ...)</code></li> </ol> <ul> <li>Write formatted output to STREAM.</li> </ul> <p>对二进制文件的读和写</p> <ol> <li> <p><code>fread</code> : <code>size_t fread(void *__restrict__ __ptr, size_t __size, size_t __n, FILE *__restrict__ __stream)</code></p> <ul> <li>Read chunks of generic data from STREAM.</li> </ul> </li> <li> <p><code>fwrite</code> : <code>size_t fwrite(const void *__restrict__ __ptr, size_t __size, size_t __n, FILE *__restrict__ __s)</code></p> <ul> <li>Write chunks of generic data to STREAM.</li> </ul> </li> </ol> <ul> <li> <p>FILE指针是最后一个参数</p> </li> <li> <p>返回值是成功读写的字节数</p> </li> <li> <p>对二进制文本的读写一般是通过对一个结构变量的操作进行的，因此，<code>__size</code> 代表一个结构的大小；<code>__n</code> 代表读写几个结构变量</p> </li> </ul> <h3 id=_84>在文件中定位<a class=headerlink href=#_84 title="Permanent link">&para;</a></h3> <p><code>ftell</code> : <code>long ftell(FILE *__stream)</code> - Return the current position of STREAM.</p> <p><code>fseek</code> : <code>int fseek(FILE *__stream, long __off, int __whence)</code> - Seek to a certain position on STREAM. - 用来调整文件指针的位置。它适用于文本文件和二进制文件。通过 fseek，可以在文件中快速定位到某个特定的位置，以便后续读取或写入。 - 第三个参数：基准量：从哪里开始的第一步确定初始位置 - <code>SEEK_SET</code> ：从头开始 - <code>SEEK_CUR</code> ：从当前位置开始 - <code>SEEK_END</code> ：从尾开始（倒过来） - 第二个参数：偏移量：在第三个参数的基础上移动几个字节作为开始的seek的地方</p> <p>未解决可移植性的问题：用文本</p> <p>处理数据的方式：数据库 / 第三方库 （用C底层的文件/数据操作方式的少了）</p> <h2 id=misc>MISC<a class=headerlink href=#misc title="Permanent link">&para;</a></h2> <h3 id=goto>标签与goto<a class=headerlink href=#goto title="Permanent link">&para;</a></h3> <p><strong>label（标签）</strong> 是一种标识符，用于标记一个特定的代码位置，通常与 <code>goto</code> 语句配合使用。标签是定义在函数内部的局部标识符，作用范围仅限于所在的函数。</p> <hr> <p><strong>标签的定义语法</strong></p> <div class="language-c highlight"><pre><span></span><code><span id=__span-305-1><a id=__codelineno-305-1 name=__codelineno-305-1 href=#__codelineno-305-1></a><span class=nl>label_name</span><span class=p>:</span>
</span><span id=__span-305-2><a id=__codelineno-305-2 name=__codelineno-305-2 href=#__codelineno-305-2></a><span class=w>    </span><span class=n>statement</span><span class=p>;</span>
</span></code></pre></div> <ul> <li><strong><code>label_name</code></strong> 是标签的名字，必须是一个合法的标识符。</li> <li>冒号 <code>:</code> 表示这是一个标签。</li> </ul> <p><strong>标签的作用</strong>：标签通常与 <code>goto</code> 语句一起使用，实现程序流程的无条件跳转。</p> <hr> <p><strong>示例</strong></p> <div class="language-c highlight"><pre><span></span><code><span id=__span-306-1><a id=__codelineno-306-1 name=__codelineno-306-1 href=#__codelineno-306-1></a><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;stdio.h&gt;</span>
</span><span id=__span-306-2><a id=__codelineno-306-2 name=__codelineno-306-2 href=#__codelineno-306-2></a>
</span><span id=__span-306-3><a id=__codelineno-306-3 name=__codelineno-306-3 href=#__codelineno-306-3></a><span class=kt>int</span><span class=w> </span><span class=nf>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-306-4><a id=__codelineno-306-4 name=__codelineno-306-4 href=#__codelineno-306-4></a><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>x</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span><span class=p>;</span>
</span><span id=__span-306-5><a id=__codelineno-306-5 name=__codelineno-306-5 href=#__codelineno-306-5></a>
</span><span id=__span-306-6><a id=__codelineno-306-6 name=__codelineno-306-6 href=#__codelineno-306-6></a><span class=nl>start</span><span class=p>:</span><span class=w> </span><span class=c1>// 标签 start</span>
</span><span id=__span-306-7><a id=__codelineno-306-7 name=__codelineno-306-7 href=#__codelineno-306-7></a><span class=w>    </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;x = %d</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=n>x</span><span class=p>);</span>
</span><span id=__span-306-8><a id=__codelineno-306-8 name=__codelineno-306-8 href=#__codelineno-306-8></a><span class=w>    </span><span class=n>x</span><span class=o>++</span><span class=p>;</span>
</span><span id=__span-306-9><a id=__codelineno-306-9 name=__codelineno-306-9 href=#__codelineno-306-9></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>x</span><span class=w> </span><span class=o>&lt;=</span><span class=w> </span><span class=mi>5</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-306-10><a id=__codelineno-306-10 name=__codelineno-306-10 href=#__codelineno-306-10></a><span class=w>        </span><span class=k>goto</span><span class=w> </span><span class=n>start</span><span class=p>;</span><span class=w> </span><span class=c1>// 跳转到标签 start</span>
</span><span id=__span-306-11><a id=__codelineno-306-11 name=__codelineno-306-11 href=#__codelineno-306-11></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-306-12><a id=__codelineno-306-12 name=__codelineno-306-12 href=#__codelineno-306-12></a>
</span><span id=__span-306-13><a id=__codelineno-306-13 name=__codelineno-306-13 href=#__codelineno-306-13></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-306-14><a id=__codelineno-306-14 name=__codelineno-306-14 href=#__codelineno-306-14></a><span class=p>}</span>
</span></code></pre></div> <p><strong>运行结果：</strong> <div class="language-text highlight"><pre><span></span><code><span id=__span-307-1><a id=__codelineno-307-1 name=__codelineno-307-1 href=#__codelineno-307-1></a>x = 1
</span><span id=__span-307-2><a id=__codelineno-307-2 name=__codelineno-307-2 href=#__codelineno-307-2></a>x = 2
</span><span id=__span-307-3><a id=__codelineno-307-3 name=__codelineno-307-3 href=#__codelineno-307-3></a>x = 3
</span><span id=__span-307-4><a id=__codelineno-307-4 name=__codelineno-307-4 href=#__codelineno-307-4></a>x = 4
</span><span id=__span-307-5><a id=__codelineno-307-5 name=__codelineno-307-5 href=#__codelineno-307-5></a>x = 5
</span></code></pre></div></p> <p>在上面的代码中，<code>goto start</code> 语句使程序跳转回 <code>start</code> 标签所在的位置，形成了一个循环结构。</p> <hr> <p><strong>标签的特性</strong></p> <ol> <li><strong>局部性：</strong> 标签只能在定义它的函数内使用。</li> <li><strong>唯一性：</strong> 在一个函数内，标签名必须唯一。</li> <li><strong>与<code>goto</code>配合：</strong> 通常通过 <code>goto</code> 来跳转到标签，但仅仅定义标签并不会改变程序的执行顺序。</li> </ol> <hr> <p><strong>使用场景</strong></p> <p>虽然标签和 <code>goto</code> 提供了无条件跳转功能，但它们的使用会影响程序的可读性，容易导致“spaghetti code（意大利面条代码）”，因此应尽量避免使用。 </p> <p>标签和 <code>goto</code> 通常在以下特殊场景中有用：</p> <ol> <li> <p><strong>错误处理：</strong> 当函数中出现复杂的嵌套逻辑时，可以使用标签和 <code>goto</code> 实现统一的错误处理。 <div class="language-c highlight"><pre><span></span><code><span id=__span-308-1><a id=__codelineno-308-1 name=__codelineno-308-1 href=#__codelineno-308-1></a><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;stdio.h&gt;</span>
</span><span id=__span-308-2><a id=__codelineno-308-2 name=__codelineno-308-2 href=#__codelineno-308-2></a><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;stdlib.h&gt;</span>
</span><span id=__span-308-3><a id=__codelineno-308-3 name=__codelineno-308-3 href=#__codelineno-308-3></a>
</span><span id=__span-308-4><a id=__codelineno-308-4 name=__codelineno-308-4 href=#__codelineno-308-4></a><span class=kt>int</span><span class=w> </span><span class=nf>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-308-5><a id=__codelineno-308-5 name=__codelineno-308-5 href=#__codelineno-308-5></a><span class=w>    </span><span class=kt>FILE</span><span class=w> </span><span class=o>*</span><span class=n>file</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>fopen</span><span class=p>(</span><span class=s>&quot;test.txt&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;r&quot;</span><span class=p>);</span>
</span><span id=__span-308-6><a id=__codelineno-308-6 name=__codelineno-308-6 href=#__codelineno-308-6></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=o>!</span><span class=n>file</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-308-7><a id=__codelineno-308-7 name=__codelineno-308-7 href=#__codelineno-308-7></a><span class=w>        </span><span class=k>goto</span><span class=w> </span><span class=n>error</span><span class=p>;</span><span class=w> </span><span class=c1>// 文件打开失败</span>
</span><span id=__span-308-8><a id=__codelineno-308-8 name=__codelineno-308-8 href=#__codelineno-308-8></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-308-9><a id=__codelineno-308-9 name=__codelineno-308-9 href=#__codelineno-308-9></a>
</span><span id=__span-308-10><a id=__codelineno-308-10 name=__codelineno-308-10 href=#__codelineno-308-10></a><span class=w>    </span><span class=c1>// 正常处理文件</span>
</span><span id=__span-308-11><a id=__codelineno-308-11 name=__codelineno-308-11 href=#__codelineno-308-11></a><span class=w>    </span><span class=n>fclose</span><span class=p>(</span><span class=n>file</span><span class=p>);</span>
</span><span id=__span-308-12><a id=__codelineno-308-12 name=__codelineno-308-12 href=#__codelineno-308-12></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-308-13><a id=__codelineno-308-13 name=__codelineno-308-13 href=#__codelineno-308-13></a>
</span><span id=__span-308-14><a id=__codelineno-308-14 name=__codelineno-308-14 href=#__codelineno-308-14></a><span class=nl>error</span><span class=p>:</span><span class=w> </span><span class=c1>// 错误处理</span>
</span><span id=__span-308-15><a id=__codelineno-308-15 name=__codelineno-308-15 href=#__codelineno-308-15></a><span class=w>    </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;Error: Unable to open file.</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>);</span>
</span><span id=__span-308-16><a id=__codelineno-308-16 name=__codelineno-308-16 href=#__codelineno-308-16></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=mi>1</span><span class=p>;</span>
</span><span id=__span-308-17><a id=__codelineno-308-17 name=__codelineno-308-17 href=#__codelineno-308-17></a><span class=p>}</span>
</span></code></pre></div></p> </li> <li> <p><strong>跳出多重嵌套：</strong> 标签可以直接跳出多层嵌套，而不需要复杂的条件判断。 <div class="language-c highlight"><pre><span></span><code><span id=__span-309-1><a id=__codelineno-309-1 name=__codelineno-309-1 href=#__codelineno-309-1></a><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;stdio.h&gt;</span>
</span><span id=__span-309-2><a id=__codelineno-309-2 name=__codelineno-309-2 href=#__codelineno-309-2></a>
</span><span id=__span-309-3><a id=__codelineno-309-3 name=__codelineno-309-3 href=#__codelineno-309-3></a><span class=kt>int</span><span class=w> </span><span class=nf>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-309-4><a id=__codelineno-309-4 name=__codelineno-309-4 href=#__codelineno-309-4></a><span class=w>    </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=mi>3</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=o>++</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-309-5><a id=__codelineno-309-5 name=__codelineno-309-5 href=#__codelineno-309-5></a><span class=w>        </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>j</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span><span class=w> </span><span class=n>j</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=mi>3</span><span class=p>;</span><span class=w> </span><span class=n>j</span><span class=o>++</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-309-6><a id=__codelineno-309-6 name=__codelineno-309-6 href=#__codelineno-309-6></a><span class=w>            </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>i</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=mi>1</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=n>j</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=mi>1</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-309-7><a id=__codelineno-309-7 name=__codelineno-309-7 href=#__codelineno-309-7></a><span class=w>                </span><span class=k>goto</span><span class=w> </span><span class=n>end</span><span class=p>;</span><span class=w> </span><span class=c1>// 跳出多重循环</span>
</span><span id=__span-309-8><a id=__codelineno-309-8 name=__codelineno-309-8 href=#__codelineno-309-8></a><span class=w>            </span><span class=p>}</span>
</span><span id=__span-309-9><a id=__codelineno-309-9 name=__codelineno-309-9 href=#__codelineno-309-9></a><span class=w>            </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;i = %d, j = %d</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=n>i</span><span class=p>,</span><span class=w> </span><span class=n>j</span><span class=p>);</span>
</span><span id=__span-309-10><a id=__codelineno-309-10 name=__codelineno-309-10 href=#__codelineno-309-10></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-309-11><a id=__codelineno-309-11 name=__codelineno-309-11 href=#__codelineno-309-11></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-309-12><a id=__codelineno-309-12 name=__codelineno-309-12 href=#__codelineno-309-12></a><span class=nl>end</span><span class=p>:</span>
</span><span id=__span-309-13><a id=__codelineno-309-13 name=__codelineno-309-13 href=#__codelineno-309-13></a><span class=w>    </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;Loop exited.</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>);</span>
</span><span id=__span-309-14><a id=__codelineno-309-14 name=__codelineno-309-14 href=#__codelineno-309-14></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-309-15><a id=__codelineno-309-15 name=__codelineno-309-15 href=#__codelineno-309-15></a><span class=p>}</span>
</span></code></pre></div></p> </li> </ol> <hr> <p>注意事项 1. <strong>尽量避免滥用 <code>goto</code> 和标签</strong>，尤其是可以通过结构化控制语句（如 <code>for</code>、<code>while</code>、<code>break</code>、<code>continue</code> 等）实现的逻辑，不要用 <code>goto</code>。 2. 标签和 <code>goto</code> 的过度使用会使代码难以阅读、难以维护，因此应谨慎使用。</p> <p>替代方案 大多数情况下，可以通过函数调用、循环、条件语句（如 <code>if</code>）和异常处理机制代替标签和 <code>goto</code>。</p> <p><a href=https://www.tiobe.com/tiobe-index/ >编程语言热度榜</a></p> <!-- ## 计算机基础
程序的执行
    解释
    编译
告诉计算机干什么：编程语言
与计算机交谈：命令行
计算的步骤：算法
让计算机做的事情：计算
C用处
底层（服务器、操作系统）：C
前端（网站前端）：其他语言 --> <aside class=md-source-file> <span class=md-source-file__fact> <span class=md-icon title="Last update"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-datetime">2024年12月18日 19:37:21</span> </span> <span class=md-source-file__fact> <span class=md-icon title=Created> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-datetime">2024年11月12日 12:55:32</span> </span> </aside> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Back to top </button> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright © 2024 张瑞喆 All rights reserved. <a href=#__consent>Change cookie settings</a> </div> </div> <div class=md-social> <a href=https://github.com/r-z-zhang-AI target=_blank rel=noopener title="GitHub | r-z-zhang-AI" class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <div class=md-consent data-md-component=consent id=__consent hidden> <div class=md-consent__overlay></div> <aside class=md-consent__inner> <form class="md-consent__form md-grid md-typeset" name=consent> <h4>Cookie consent</h4> <p>We use cookies to recognize your repeated visits and preferences, as well as to measure the effectiveness of our documentation and whether users find what they're searching for. With your consent, you're helping us to make our documentation better.</p> <input class=md-toggle type=checkbox id=__settings> <div class=md-consent__settings> <ul class=task-list> <li class=task-list-item> <label class=task-list-control> <input type=checkbox name=analytics> <span class=task-list-indicator></span> Google Analytics </label> </li> <li class=task-list-item> <label class=task-list-control> <input type=checkbox name=github checked> <span class=task-list-indicator></span> GitHub </label> </li> </ul> </div> <div class=md-consent__controls> <button class="md-button md-button--primary">Accept</button> <label class=md-button for=__settings>Manage settings</label> </div> </form> </aside> </div> <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout((function(){document.querySelector("[data-md-component=consent]").hidden=!1}),250);var form=document.forms.consent;for(var action of["submit","reset"])form.addEventListener(action,(function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map((function(e){return[e,!0]})))),location.hash="",location.reload()}))</script> <script id=__config type=application/json>{"base": "../../../../..", "features": ["navigation.tabs", "navigation.top", "navigation.indexes", "toc.follow", "search.suggest", "search.highlight", "content.code.copy", "content.action.edit", "announce.dismiss"], "search": "../../../../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script> <script src=../../../../../assets/javascripts/bundle.88dd0f4e.min.js></script> <script src=../../../../../mkdocs/javascripts/mathjax.js></script> <script src=https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js></script> <script id=init-glightbox>const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body> </html>