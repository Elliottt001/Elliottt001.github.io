bitcoin system：是一个支付平台，点对点通过比特币支付，其运用了区块链技术

SWIFT：基于美元的全球统一结算系统

区块链技术的核心方法：

- 区块的链（实际上是数据库）来记账
- 去中心化

**老王记账的故事**

通俗理解：账本每一页，通过一种算法算出一个数字，记在页上面

实际上：按时间，每一时刻（交易之后），以时间点为单位，成为block，对应账本的“页”，在一个block之后，通过一种算法，即哈希函数（密码学内容），算出一个返回值，一个“码”记在一个 block 上，每产生一个block，都哈希一次，将上一次block的内容与下一次的连起来（两个block连起来），即区块的链

![alt text](res/images/IMG_20250226_193657.jpg)

Merkle Tree

“去中心化”：多中心，分布式记账

协同、信息互通，可保证多中心记账均相同且正确

- 很多个老王，数量足够多即可，事实上比特币平台上每时每刻有 $\ge 10000$ 人在记账，只要装了比特币客户端即为“老王” 
- 每产生一个block，利用分布式共识，确认后再将链连上去
- 事实上，可以篡改，但是代价较大

$$区块链技术 = 区块链记账 + 去中心化共识$$

重点：一个是链，一个是共识

“老王” = 部门、系统

区块链三个字的理解：**是一个账本，将所有交易变成block，融入分布式共识，变成一个不可篡改的账本**

区块链技术包含的技术：

- 哈希
- 密码学
- 时间戳
- p2p网络
- 分布式存储
- 共识算法
- 智能合约

构建区块链：

- 老王：PC
- 游戏规则：智能合约

![alt text](res/images/IMG_20250226_200502.jpg)

> 区块链技术是一种由多方共同维护，使用密码学

## 区块链技术原理

![alt text](res/images/IMG_20250226_201018.jpg) 

- 激励：我为什么要当老王？
- 搭一个区块链：搭建出上面的东西

### 分布式账本

- 传统：表格table、中心化
- 区块链：block、chain

### 共识机制

PBFT/拜占庭共识（超级账本的）：多个老王少数服从多数

- 拜占庭打仗过程中不同将军少数服从多数
- 故障节点（被黑了）：有一个算法 `R(f) + 1`~
- 同时篡改多个节点难度大，因为传递速度快

PoW/挖矿共识（比特币的）：

- 背景：2008年经济危机，中本聪想出货币的非国家化（电子现金），用计算机技术用数字表示“币”（bitcoin），总量 2100w 的币（保证不通胀）
- bitcoin 发行机制：随区块产生，请老王记账，以奖励形式发行，每四年减半
- 挖矿共识：第一步：找到一个“神仙老王”；第二步：其他老王抄一遍“神仙”的数据（方法：一传十十传百）
- 选择“神仙”：所有人比赛做题
- 1h 可以确定交易取消

超级账本、以太坊、比特币的区块链不一样~

不同共识机制的应用区别：参与（老王）数量不同

### 中心化/去中心化

老王 —— 部门，物理实现就是服务器，缺点是容易被黑

形成block，通过p2p（点对点）通信，通过共识机制（有共识算法）确认（加密传输rsa），再上链

- 老王 —— 机器，一个笔记本搭区块链：虚拟机 ubuntu or docker
- 互联 —— 网络

### 密码学

非对称加密技术rsa

一个消息 $m$ --> $m * x（公钥） = g$ 完成加密 --> $g * y（私钥） = m$ 还原，其中 $x 和 y$ 是一对，公钥私钥

### 技术形态

- 公链：任意人可以加入/读取数据/发起交易参与其中，是完全去中心化

- 联盟链：对特定团体开放，机构部门间的业务协作，数据的可信共享

- 私链：本部门数据备份
- 侧链
- 互联链

### 应用

#### 供应链金融

解决融资的高效性

实用: 找到行业领域的痛点进而分析其应用

#### 产品溯源

商品质量出问题 

将厂商生产系统 / 销售销售过程 / 物流 一体化接入区块链: 上链

产售溯一体化

#### 城市信用链

城市级的区块链, 杭州城市大脑

![alt text](res/images/IMG_20250312_195216_edit_217954001222989.jpg)

数据上链